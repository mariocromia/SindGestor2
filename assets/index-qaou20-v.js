var YU=Object.defineProperty;var WU=(e,t,n)=>t in e?YU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mg=(e,t,n)=>WU(e,typeof t!="symbol"?t+"":t,n);function GP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JU(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Dg={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function XU(){if(cT)return fu;cT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return fu.Fragment=t,fu.jsx=n,fu.jsxs=n,fu}var dT;function QU(){return dT||(dT=1,Dg.exports=XU()),Dg.exports}var v=QU(),kg={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function ZU(){if(fT)return Be;fT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function _(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function R(L,X,he){this.props=L,this.context=X,this.refs=A,this.updater=he||S}R.prototype.isReactComponent={},R.prototype.setState=function(L,X){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,X,"setState")},R.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function P(){}P.prototype=R.prototype;function N(L,X,he){this.props=L,this.context=X,this.refs=A,this.updater=he||S}var I=N.prototype=new P;I.constructor=N,T(I,R.prototype),I.isPureReactComponent=!0;var M=Array.isArray;function D(){}var k={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function U(L,X,he){var de=he.ref;return{$$typeof:e,type:L,key:X,ref:de!==void 0?de:null,props:he}}function le(L,X){return U(L.type,X,L.props)}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function H(L){var X={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return X[he]})}var re=/\/+/g;function ge(L,X){return typeof L=="object"&&L!==null&&L.key!=null?H(""+L.key):X.toString(36)}function we(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(D,D):(L.status="pending",L.then(function(X){L.status==="pending"&&(L.status="fulfilled",L.value=X)},function(X){L.status==="pending"&&(L.status="rejected",L.reason=X)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,X,he,de,K){var fe=typeof L;(fe==="undefined"||fe==="boolean")&&(L=null);var _e=!1;if(L===null)_e=!0;else switch(fe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(L.$$typeof){case e:case t:_e=!0;break;case h:return _e=L._init,B(_e(L._payload),X,he,de,K)}}if(_e)return K=K(L),_e=de===""?"."+ge(L,0):de,M(K)?(he="",_e!=null&&(he=_e.replace(re,"$&/")+"/"),B(K,X,he,"",function(ve){return ve})):K!=null&&(W(K)&&(K=le(K,he+(K.key==null||L&&L.key===K.key?"":(""+K.key).replace(re,"$&/")+"/")+_e)),X.push(K)),1;_e=0;var Ke=de===""?".":de+":";if(M(L))for(var Q=0;Q<L.length;Q++)de=L[Q],fe=Ke+ge(de,Q),_e+=B(de,X,he,fe,K);else if(Q=_(L),typeof Q=="function")for(L=Q.call(L),Q=0;!(de=L.next()).done;)de=de.value,fe=Ke+ge(de,Q++),_e+=B(de,X,he,fe,K);else if(fe==="object"){if(typeof L.then=="function")return B(we(L),X,he,de,K);throw X=String(L),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return _e}function J(L,X,he){if(L==null)return L;var de=[],K=0;return B(L,de,"","",function(fe){return X.call(he,fe,K++)}),de}function ce(L){if(L._status===-1){var X=L._result;X=X(),X.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=X)}if(L._status===1)return L._result.default;throw L._result}var ue=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ce={map:J,forEach:function(L,X,he){J(L,function(){X.apply(this,arguments)},he)},count:function(L){var X=0;return J(L,function(){X++}),X},toArray:function(L){return J(L,function(X){return X})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Be.Activity=m,Be.Children=Ce,Be.Component=R,Be.Fragment=n,Be.Profiler=i,Be.PureComponent=N,Be.StrictMode=r,Be.Suspense=d,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Be.__COMPILER_RUNTIME={__proto__:null,c:function(L){return k.H.useMemoCache(L)}},Be.cache=function(L){return function(){return L.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(L,X,he){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var de=T({},L.props),K=L.key;if(X!=null)for(fe in X.key!==void 0&&(K=""+X.key),X)!G.call(X,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&X.ref===void 0||(de[fe]=X[fe]);var fe=arguments.length-2;if(fe===1)de.children=he;else if(1<fe){for(var _e=Array(fe),Ke=0;Ke<fe;Ke++)_e[Ke]=arguments[Ke+2];de.children=_e}return U(L.type,K,de)},Be.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:a,_context:L},L},Be.createElement=function(L,X,he){var de,K={},fe=null;if(X!=null)for(de in X.key!==void 0&&(fe=""+X.key),X)G.call(X,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(K[de]=X[de]);var _e=arguments.length-2;if(_e===1)K.children=he;else if(1<_e){for(var Ke=Array(_e),Q=0;Q<_e;Q++)Ke[Q]=arguments[Q+2];K.children=Ke}if(L&&L.defaultProps)for(de in _e=L.defaultProps,_e)K[de]===void 0&&(K[de]=_e[de]);return U(L,fe,K)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(L){return{$$typeof:u,render:L}},Be.isValidElement=W,Be.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:ce}},Be.memo=function(L,X){return{$$typeof:f,type:L,compare:X===void 0?null:X}},Be.startTransition=function(L){var X=k.T,he={};k.T=he;try{var de=L(),K=k.S;K!==null&&K(he,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(D,ue)}catch(fe){ue(fe)}finally{X!==null&&he.types!==null&&(X.types=he.types),k.T=X}},Be.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Be.use=function(L){return k.H.use(L)},Be.useActionState=function(L,X,he){return k.H.useActionState(L,X,he)},Be.useCallback=function(L,X){return k.H.useCallback(L,X)},Be.useContext=function(L){return k.H.useContext(L)},Be.useDebugValue=function(){},Be.useDeferredValue=function(L,X){return k.H.useDeferredValue(L,X)},Be.useEffect=function(L,X){return k.H.useEffect(L,X)},Be.useEffectEvent=function(L){return k.H.useEffectEvent(L)},Be.useId=function(){return k.H.useId()},Be.useImperativeHandle=function(L,X,he){return k.H.useImperativeHandle(L,X,he)},Be.useInsertionEffect=function(L,X){return k.H.useInsertionEffect(L,X)},Be.useLayoutEffect=function(L,X){return k.H.useLayoutEffect(L,X)},Be.useMemo=function(L,X){return k.H.useMemo(L,X)},Be.useOptimistic=function(L,X){return k.H.useOptimistic(L,X)},Be.useReducer=function(L,X,he){return k.H.useReducer(L,X,he)},Be.useRef=function(L){return k.H.useRef(L)},Be.useState=function(L){return k.H.useState(L)},Be.useSyncExternalStore=function(L,X,he){return k.H.useSyncExternalStore(L,X,he)},Be.useTransition=function(){return k.H.useTransition()},Be.version="19.2.0",Be}var hT;function sl(){return hT||(hT=1,kg.exports=ZU()),kg.exports}var E=sl();const VP=Vr(E),eq=GP({__proto__:null,default:VP},[E]);var jg={exports:{}},hu={},Lg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function tq(){return pT||(pT=1,(function(e){function t(B,J){var ce=B.length;B.push(J);e:for(;0<ce;){var ue=ce-1>>>1,Ce=B[ue];if(0<i(Ce,J))B[ue]=J,B[ce]=Ce,ce=ue;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var J=B[0],ce=B.pop();if(ce!==J){B[0]=ce;e:for(var ue=0,Ce=B.length,L=Ce>>>1;ue<L;){var X=2*(ue+1)-1,he=B[X],de=X+1,K=B[de];if(0>i(he,ce))de<Ce&&0>i(K,he)?(B[ue]=K,B[de]=ce,ue=de):(B[ue]=he,B[X]=ce,ue=X);else if(de<Ce&&0>i(K,ce))B[ue]=K,B[de]=ce,ue=de;else break e}}return J}function i(B,J){var ce=B.sortIndex-J.sortIndex;return ce!==0?ce:B.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,m=null,b=3,_=!1,S=!1,T=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(B){for(var J=n(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=B)r(f),J.sortIndex=J.expirationTime,t(d,J);else break;J=n(f)}}function M(B){if(T=!1,I(B),!S)if(n(d)!==null)S=!0,D||(D=!0,H());else{var J=n(f);J!==null&&we(M,J.startTime-B)}}var D=!1,k=-1,G=5,U=-1;function le(){return A?!0:!(e.unstable_now()-U<G)}function W(){if(A=!1,D){var B=e.unstable_now();U=B;var J=!0;try{e:{S=!1,T&&(T=!1,P(k),k=-1),_=!0;var ce=b;try{t:{for(I(B),m=n(d);m!==null&&!(m.expirationTime>B&&le());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,b=m.priorityLevel;var Ce=ue(m.expirationTime<=B);if(B=e.unstable_now(),typeof Ce=="function"){m.callback=Ce,I(B),J=!0;break t}m===n(d)&&r(d),I(B)}else r(d);m=n(d)}if(m!==null)J=!0;else{var L=n(f);L!==null&&we(M,L.startTime-B),J=!1}}break e}finally{m=null,b=ce,_=!1}J=void 0}}finally{J?H():D=!1}}}var H;if(typeof N=="function")H=function(){N(W)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ge=re.port2;re.port1.onmessage=W,H=function(){ge.postMessage(null)}}else H=function(){R(W,0)};function we(B,J){k=R(function(){B(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(B){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var ce=b;b=J;try{return B()}finally{b=ce}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=b;b=B;try{return J()}finally{b=ce}},e.unstable_scheduleCallback=function(B,J,ce){var ue=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ue+ce:ue):ce=ue,B){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ce+Ce,B={id:h++,callback:J,priorityLevel:B,startTime:ce,expirationTime:Ce,sortIndex:-1},ce>ue?(B.sortIndex=ce,t(f,B),n(d)===null&&B===n(f)&&(T?(P(k),k=-1):T=!0,we(M,ce-ue))):(B.sortIndex=Ce,t(d,B),S||_||(S=!0,D||(D=!0,H()))),B},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(B){var J=b;return function(){var ce=b;b=J;try{return B.apply(this,arguments)}finally{b=ce}}}})(Ug)),Ug}var mT;function nq(){return mT||(mT=1,Lg.exports=tq()),Lg.exports}var qg={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function rq(){if(gT)return _n;gT=1;var e=sl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_n.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,h)},_n.flushSync=function(d){var f=l.T,h=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=h,r.d.f()}},_n.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},_n.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},_n.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:_}):h==="script"&&r.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_n.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},_n.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin);r.d.L(d,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_n.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},_n.requestFormReset=function(d){r.d.r(d)},_n.unstable_batchedUpdates=function(d,f){return d(f)},_n.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},_n.useFormStatus=function(){return l.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var vT;function FP(){if(vT)return qg.exports;vT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qg.exports=rq(),qg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function iq(){if(yT)return hu;yT=1;var e=nq(),t=sl(),n=FP();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(r(188))}function f(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var c=o,p=s;;){var x=c.return;if(x===null)break;var w=x.alternate;if(w===null){if(p=x.return,p!==null){c=p;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===c)return d(x),o;if(w===p)return d(x),s;w=w.sibling}throw Error(r(188))}if(c.return!==p.return)c=x,p=w;else{for(var C=!1,O=x.child;O;){if(O===c){C=!0,c=x,p=w;break}if(O===p){C=!0,p=x,c=w;break}O=O.sibling}if(!C){for(O=w.child;O;){if(O===c){C=!0,c=w,p=x;break}if(O===p){C=!0,p=w,c=x;break}O=O.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var re=Symbol.for("react.client.reference");function ge(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===re?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case N:return o.displayName||"Context";case P:return(o._context.displayName||"Context")+".Consumer";case I:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return s=o.displayName||null,s!==null?s:ge(o.type)||"Memo";case G:s=o._payload,o=o._init;try{return ge(o(s))}catch{}}return null}var we=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ue=[],Ce=-1;function L(o){return{current:o}}function X(o){0>Ce||(o.current=ue[Ce],ue[Ce]=null,Ce--)}function he(o,s){Ce++,ue[Ce]=o.current,o.current=s}var de=L(null),K=L(null),fe=L(null),_e=L(null);function Ke(o,s){switch(he(fe,s),he(K,o),he(de,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?ME(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=ME(s),o=DE(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}X(de),he(de,o)}function Q(){X(de),X(K),X(fe)}function ve(o){o.memoizedState!==null&&he(_e,o);var s=de.current,c=DE(s,o.type);s!==c&&(he(K,o),he(de,c))}function Ie(o){K.current===o&&(X(de),X(K)),_e.current===o&&(X(_e),lu._currentValue=ce)}var ae,me;function ye(o){if(ae===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ae=s&&s[1]||"",me=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+o+me}var Le=!1;function oe(o,s){if(!o||Le)return"";Le=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var Y=Z}Reflect.construct(o,[],se)}else{try{se.call()}catch(Z){Y=Z}o.call(se.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(se=o())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),C=w[0],O=w[1];if(C&&O){var j=C.split(`
`),F=O.split(`
`);for(x=p=0;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;for(;x<F.length&&!F[x].includes("DetermineComponentFrameRoot");)x++;if(p===j.length||x===F.length)for(p=j.length-1,x=F.length-1;1<=p&&0<=x&&j[p]!==F[x];)x--;for(;1<=p&&0<=x;p--,x--)if(j[p]!==F[x]){if(p!==1||x!==1)do if(p--,x--,0>x||j[p]!==F[x]){var ne=`
`+j[p].replace(" at new "," at ");return o.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",o.displayName)),ne}while(1<=p&&0<=x);break}}}finally{Le=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?ye(c):""}function Fe(o,s){switch(o.tag){case 26:case 27:case 5:return ye(o.type);case 16:return ye("Lazy");case 13:return o.child!==s&&s!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return oe(o.type,!1);case 11:return oe(o.type.render,!1);case 1:return oe(o.type,!0);case 31:return ye("Activity");default:return""}}function Pt(o){try{var s="",c=null;do s+=Fe(o,c),c=o,o=o.return;while(o);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var en=Object.prototype.hasOwnProperty,hr=e.unstable_scheduleCallback,na=e.unstable_cancelCallback,Lt=e.unstable_shouldYield,Jn=e.unstable_requestPaint,Ft=e.unstable_now,bt=e.unstable_getCurrentPriorityLevel,$o=e.unstable_ImmediatePriority,ui=e.unstable_UserBlockingPriority,jn=e.unstable_NormalPriority,z=e.unstable_LowPriority,De=e.unstable_IdlePriority,$e=e.log,gt=e.unstable_setDisableYieldValue,ht=null,Ye=null;function Ln(o){if(typeof $e=="function"&&gt(o),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ht,o)}catch{}}var Nn=Math.clz32?Math.clz32:_p,bp=Math.log,xp=Math.LN2;function _p(o){return o>>>=0,o===0?32:31-(bp(o)/xp|0)|0}var Bo=256,Ho=262144,Ka=4194304;function ci(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Go(o,s,c){var p=o.pendingLanes;if(p===0)return 0;var x=0,w=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var O=p&134217727;return O!==0?(p=O&~w,p!==0?x=ci(p):(C&=O,C!==0?x=ci(C):c||(c=O&~o,c!==0&&(x=ci(c))))):(O=p&~w,O!==0?x=ci(O):C!==0?x=ci(C):c||(c=p&~o,c!==0&&(x=ci(c)))),x===0?0:s!==0&&s!==x&&(s&w)===0&&(w=x&-x,c=s&-s,w>=c||w===32&&(c&4194048)!==0)?s:x}function ra(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function te(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oe(){var o=Ka;return Ka<<=1,(Ka&62914560)===0&&(Ka=4194304),o}function dn(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function ia(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ya(o,s,c,p,x,w){var C=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var O=o.entanglements,j=o.expirationTimes,F=o.hiddenUpdates;for(c=C&~c;0<c;){var ne=31-Nn(c),se=1<<ne;O[ne]=0,j[ne]=-1;var Y=F[ne];if(Y!==null)for(F[ne]=null,ne=0;ne<Y.length;ne++){var Z=Y[ne];Z!==null&&(Z.lane&=-536870913)}c&=~se}p!==0&&m_(o,p,0),w!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=w&~(C&~s))}function m_(o,s,c){o.pendingLanes|=s,o.suspendedLanes&=~s;var p=31-Nn(s);o.entangledLanes|=s,o.entanglements[p]=o.entanglements[p]|1073741824|c&261930}function g_(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var p=31-Nn(c),x=1<<p;x&s|o[p]&s&&(o[p]|=s),c&=~x}}function v_(o,s){var c=s&-s;return c=(c&42)!==0?1:wp(c),(c&(o.suspendedLanes|s))!==0?0:c}function wp(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Sp(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function y_(){var o=J.p;return o!==0?o:(o=window.event,o===void 0?32:rT(o.type))}function b_(o,s){var c=J.p;try{return J.p=o,s()}finally{J.p=c}}var aa=Math.random().toString(36).slice(2),fn="__reactFiber$"+aa,Un="__reactProps$"+aa,Vo="__reactContainer$"+aa,Ep="__reactEvents$"+aa,Lj="__reactListeners$"+aa,Uj="__reactHandles$"+aa,x_="__reactResources$"+aa,Sl="__reactMarker$"+aa;function Tp(o){delete o[fn],delete o[Un],delete o[Ep],delete o[Lj],delete o[Uj]}function Fo(o){var s=o[fn];if(s)return s;for(var c=o.parentNode;c;){if(s=c[Vo]||c[fn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=$E(o);o!==null;){if(c=o[fn])return c;o=$E(o)}return s}o=c,c=o.parentNode}return null}function Ko(o){if(o=o[fn]||o[Vo]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function El(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Yo(o){var s=o[x_];return s||(s=o[x_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function tn(o){o[Sl]=!0}var __=new Set,w_={};function Wa(o,s){Wo(o,s),Wo(o+"Capture",s)}function Wo(o,s){for(w_[o]=s,o=0;o<s.length;o++)__.add(s[o])}var qj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),S_={},E_={};function zj(o){return en.call(E_,o)?!0:en.call(S_,o)?!1:qj.test(o)?E_[o]=!0:(S_[o]=!0,!1)}function Sc(o,s,c){if(zj(s))if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+c)}}function Ec(o,s,c){if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+c)}}function di(o,s,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(s,c,""+p)}}function pr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function T_(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $j(o,s,c){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,w=p.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return x.call(this)},set:function(C){c=""+C,w.call(this,C)}}),Object.defineProperty(o,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Ap(o){if(!o._valueTracker){var s=T_(o)?"checked":"value";o._valueTracker=$j(o,s,""+o[s])}}function A_(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return o&&(p=T_(o)?o.checked?"true":"false":o.value),o=p,o!==c?(s.setValue(o),!0):!1}function Tc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Bj=/[\n"\\]/g;function mr(o){return o.replace(Bj,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Cp(o,s,c,p,x,w,C,O){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),s!=null?C==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+pr(s)):o.value!==""+pr(s)&&(o.value=""+pr(s)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),s!=null?Np(o,C,pr(s)):c!=null?Np(o,C,pr(c)):p!=null&&o.removeAttribute("value"),x==null&&w!=null&&(o.defaultChecked=!!w),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.name=""+pr(O):o.removeAttribute("name")}function C_(o,s,c,p,x,w,C,O){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),s!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||s!=null)){Ap(o);return}c=c!=null?""+pr(c):"",s=s!=null?""+pr(s):c,O||s===o.value||(o.value=s),o.defaultValue=s}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=O?o.checked:!!p,o.defaultChecked=!!p,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C),Ap(o)}function Np(o,s,c){s==="number"&&Tc(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function Jo(o,s,c,p){if(o=o.options,s){s={};for(var x=0;x<c.length;x++)s["$"+c[x]]=!0;for(c=0;c<o.length;c++)x=s.hasOwnProperty("$"+o[c].value),o[c].selected!==x&&(o[c].selected=x),x&&p&&(o[c].defaultSelected=!0)}else{for(c=""+pr(c),s=null,x=0;x<o.length;x++){if(o[x].value===c){o[x].selected=!0,p&&(o[x].defaultSelected=!0);return}s!==null||o[x].disabled||(s=o[x])}s!==null&&(s.selected=!0)}}function N_(o,s,c){if(s!=null&&(s=""+pr(s),s!==o.value&&(o.value=s),c==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=c!=null?""+pr(c):""}function R_(o,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(we(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=pr(s),o.defaultValue=c,p=o.textContent,p===c&&p!==""&&p!==null&&(o.value=p),Ap(o)}function Xo(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var Hj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function P_(o,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":p?o.setProperty(s,c):typeof c!="number"||c===0||Hj.has(s)?s==="float"?o.cssFloat=c:o[s]=(""+c).trim():o[s]=c+"px"}function O_(o,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var x in s)p=s[x],s.hasOwnProperty(x)&&c[x]!==p&&P_(o,x,p)}else for(var w in s)s.hasOwnProperty(w)&&P_(o,w,s[w])}function Rp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ac(o){return Vj.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function fi(){}var Pp=null;function Op(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Qo=null,Zo=null;function I_(o){var s=Ko(o);if(s&&(o=s.stateNode)){var c=o[Un]||null;e:switch(o=s.stateNode,s.type){case"input":if(Cp(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+mr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==o&&p.form===o.form){var x=p[Un]||null;if(!x)throw Error(r(90));Cp(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===o.form&&A_(p)}break e;case"textarea":N_(o,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Jo(o,!!c.multiple,s,!1)}}}var Ip=!1;function M_(o,s,c){if(Ip)return o(s,c);Ip=!0;try{var p=o(s);return p}finally{if(Ip=!1,(Qo!==null||Zo!==null)&&(hd(),Qo&&(s=Qo,o=Zo,Zo=Qo=null,I_(s),o)))for(s=0;s<o.length;s++)I_(o[s])}}function Tl(o,s){var c=o.stateNode;if(c===null)return null;var p=c[Un]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mp=!1;if(hi)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Mp=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Mp=!1}var oa=null,Dp=null,Cc=null;function D_(){if(Cc)return Cc;var o,s=Dp,c=s.length,p,x="value"in oa?oa.value:oa.textContent,w=x.length;for(o=0;o<c&&s[o]===x[o];o++);var C=c-o;for(p=1;p<=C&&s[c-p]===x[w-p];p++);return Cc=x.slice(o,1<p?1-p:void 0)}function Nc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Rc(){return!0}function k_(){return!1}function qn(o){function s(c,p,x,w,C){this._reactName=c,this._targetInst=x,this.type=p,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var O in o)o.hasOwnProperty(O)&&(c=o[O],this[O]=c?c(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Rc:k_,this.isPropagationStopped=k_,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),s}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=qn(Ja),Cl=m({},Ja,{view:0,detail:0}),Fj=qn(Cl),kp,jp,Nl,Oc=m({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Up,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Nl&&(Nl&&o.type==="mousemove"?(kp=o.screenX-Nl.screenX,jp=o.screenY-Nl.screenY):jp=kp=0,Nl=o),kp)},movementY:function(o){return"movementY"in o?o.movementY:jp}}),j_=qn(Oc),Kj=m({},Oc,{dataTransfer:0}),Yj=qn(Kj),Wj=m({},Cl,{relatedTarget:0}),Lp=qn(Wj),Jj=m({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),Xj=qn(Jj),Qj=m({},Ja,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Zj=qn(Qj),eL=m({},Ja,{data:0}),L_=qn(eL),tL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iL(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=rL[o])?!!s[o]:!1}function Up(){return iL}var aL=m({},Cl,{key:function(o){if(o.key){var s=tL[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Nc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?nL[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Up,charCode:function(o){return o.type==="keypress"?Nc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Nc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),oL=qn(aL),sL=m({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U_=qn(sL),lL=m({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Up}),uL=qn(lL),cL=m({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),dL=qn(cL),fL=m({},Oc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),hL=qn(fL),pL=m({},Ja,{newState:0,oldState:0}),mL=qn(pL),gL=[9,13,27,32],qp=hi&&"CompositionEvent"in window,Rl=null;hi&&"documentMode"in document&&(Rl=document.documentMode);var vL=hi&&"TextEvent"in window&&!Rl,q_=hi&&(!qp||Rl&&8<Rl&&11>=Rl),z_=" ",$_=!1;function B_(o,s){switch(o){case"keyup":return gL.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var es=!1;function yL(o,s){switch(o){case"compositionend":return H_(s);case"keypress":return s.which!==32?null:($_=!0,z_);case"textInput":return o=s.data,o===z_&&$_?null:o;default:return null}}function bL(o,s){if(es)return o==="compositionend"||!qp&&B_(o,s)?(o=D_(),Cc=Dp=oa=null,es=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return q_&&s.locale!=="ko"?null:s.data;default:return null}}var xL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G_(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!xL[o.type]:s==="textarea"}function V_(o,s,c,p){Qo?Zo?Zo.push(p):Zo=[p]:Qo=p,s=xd(s,"onChange"),0<s.length&&(c=new Pc("onChange","change",null,c,p),o.push({event:c,listeners:s}))}var Pl=null,Ol=null;function _L(o){CE(o,0)}function Ic(o){var s=El(o);if(A_(s))return o}function F_(o,s){if(o==="change")return s}var K_=!1;if(hi){var zp;if(hi){var $p="oninput"in document;if(!$p){var Y_=document.createElement("div");Y_.setAttribute("oninput","return;"),$p=typeof Y_.oninput=="function"}zp=$p}else zp=!1;K_=zp&&(!document.documentMode||9<document.documentMode)}function W_(){Pl&&(Pl.detachEvent("onpropertychange",J_),Ol=Pl=null)}function J_(o){if(o.propertyName==="value"&&Ic(Ol)){var s=[];V_(s,Ol,o,Op(o)),M_(_L,s)}}function wL(o,s,c){o==="focusin"?(W_(),Pl=s,Ol=c,Pl.attachEvent("onpropertychange",J_)):o==="focusout"&&W_()}function SL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ic(Ol)}function EL(o,s){if(o==="click")return Ic(s)}function TL(o,s){if(o==="input"||o==="change")return Ic(s)}function AL(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Xn=typeof Object.is=="function"?Object.is:AL;function Il(o,s){if(Xn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var x=c[p];if(!en.call(s,x)||!Xn(o[x],s[x]))return!1}return!0}function X_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Q_(o,s){var c=X_(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=s&&p>=s)return{node:c,offset:s-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=X_(c)}}function Z_(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Z_(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function ew(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=Tc(o.document);s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=Tc(o.document)}return s}function Bp(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var CL=hi&&"documentMode"in document&&11>=document.documentMode,ts=null,Hp=null,Ml=null,Gp=!1;function tw(o,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gp||ts==null||ts!==Tc(p)||(p=ts,"selectionStart"in p&&Bp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ml&&Il(Ml,p)||(Ml=p,p=xd(Hp,"onSelect"),0<p.length&&(s=new Pc("onSelect","select",null,s,c),o.push({event:s,listeners:p}),s.target=ts)))}function Xa(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var ns={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Vp={},nw={};hi&&(nw=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Qa(o){if(Vp[o])return Vp[o];if(!ns[o])return o;var s=ns[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in nw)return Vp[o]=s[c];return o}var rw=Qa("animationend"),iw=Qa("animationiteration"),aw=Qa("animationstart"),NL=Qa("transitionrun"),RL=Qa("transitionstart"),PL=Qa("transitioncancel"),ow=Qa("transitionend"),sw=new Map,Fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fp.push("scrollEnd");function Dr(o,s){sw.set(o,s),Wa(s,[o])}var Mc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},gr=[],rs=0,Kp=0;function Dc(){for(var o=rs,s=Kp=rs=0;s<o;){var c=gr[s];gr[s++]=null;var p=gr[s];gr[s++]=null;var x=gr[s];gr[s++]=null;var w=gr[s];if(gr[s++]=null,p!==null&&x!==null){var C=p.pending;C===null?x.next=x:(x.next=C.next,C.next=x),p.pending=x}w!==0&&lw(c,x,w)}}function kc(o,s,c,p){gr[rs++]=o,gr[rs++]=s,gr[rs++]=c,gr[rs++]=p,Kp|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Yp(o,s,c,p){return kc(o,s,c,p),jc(o)}function Za(o,s){return kc(o,null,null,s),jc(o)}function lw(o,s,c){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c);for(var x=!1,w=o.return;w!==null;)w.childLanes|=c,p=w.alternate,p!==null&&(p.childLanes|=c),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(x=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,x&&s!==null&&(x=31-Nn(c),o=w.hiddenUpdates,p=o[x],p===null?o[x]=[s]:p.push(s),s.lane=c|536870912),w):null}function jc(o){if(50<tu)throw tu=0,rg=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var is={};function OL(o,s,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(o,s,c,p){return new OL(o,s,c,p)}function Wp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function pi(o,s){var c=o.alternate;return c===null?(c=Qn(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&65011712,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function uw(o,s){o.flags&=65011714;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,s=c.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function Lc(o,s,c,p,x,w){var C=0;if(p=o,typeof o=="function")Wp(o)&&(C=1);else if(typeof o=="string")C=jU(o,c,de.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=Qn(31,c,s,x),o.elementType=U,o.lanes=w,o;case T:return eo(c.children,x,w,s);case A:C=8,x|=24;break;case R:return o=Qn(12,c,s,x|2),o.elementType=R,o.lanes=w,o;case M:return o=Qn(13,c,s,x),o.elementType=M,o.lanes=w,o;case D:return o=Qn(19,c,s,x),o.elementType=D,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:C=10;break e;case P:C=9;break e;case I:C=11;break e;case k:C=14;break e;case G:C=16,p=null;break e}C=29,c=Error(r(130,o===null?"null":typeof o,"")),p=null}return s=Qn(C,c,s,x),s.elementType=o,s.type=p,s.lanes=w,s}function eo(o,s,c,p){return o=Qn(7,o,p,s),o.lanes=c,o}function Jp(o,s,c){return o=Qn(6,o,null,s),o.lanes=c,o}function cw(o){var s=Qn(18,null,null,0);return s.stateNode=o,s}function Xp(o,s,c){return s=Qn(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var dw=new WeakMap;function vr(o,s){if(typeof o=="object"&&o!==null){var c=dw.get(o);return c!==void 0?c:(s={value:o,source:s,stack:Pt(s)},dw.set(o,s),s)}return{value:o,source:s,stack:Pt(s)}}var as=[],os=0,Uc=null,Dl=0,yr=[],br=0,sa=null,Wr=1,Jr="";function mi(o,s){as[os++]=Dl,as[os++]=Uc,Uc=o,Dl=s}function fw(o,s,c){yr[br++]=Wr,yr[br++]=Jr,yr[br++]=sa,sa=o;var p=Wr;o=Jr;var x=32-Nn(p)-1;p&=~(1<<x),c+=1;var w=32-Nn(s)+x;if(30<w){var C=x-x%5;w=(p&(1<<C)-1).toString(32),p>>=C,x-=C,Wr=1<<32-Nn(s)+x|c<<x|p,Jr=w+o}else Wr=1<<w|c<<x|p,Jr=o}function Qp(o){o.return!==null&&(mi(o,1),fw(o,1,0))}function Zp(o){for(;o===Uc;)Uc=as[--os],as[os]=null,Dl=as[--os],as[os]=null;for(;o===sa;)sa=yr[--br],yr[br]=null,Jr=yr[--br],yr[br]=null,Wr=yr[--br],yr[br]=null}function hw(o,s){yr[br++]=Wr,yr[br++]=Jr,yr[br++]=sa,Wr=s.id,Jr=s.overflow,sa=o}var hn=null,xt=null,Ze=!1,la=null,xr=!1,em=Error(r(519));function ua(o){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(vr(s,o)),em}function pw(o){var s=o.stateNode,c=o.type,p=o.memoizedProps;switch(s[fn]=o,s[Un]=p,c){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(c=0;c<ru.length;c++)Je(ru[c],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),C_(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),R_(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||OE(s.textContent,c)?(p.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),p.onScroll!=null&&Je("scroll",s),p.onScrollEnd!=null&&Je("scrollend",s),p.onClick!=null&&(s.onclick=fi),s=!0):s=!1,s||ua(o,!0)}function mw(o){for(hn=o.return;hn;)switch(hn.tag){case 5:case 31:case 13:xr=!1;return;case 27:case 3:xr=!0;return;default:hn=hn.return}}function ss(o){if(o!==hn)return!1;if(!Ze)return mw(o),Ze=!0,!1;var s=o.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||yg(o.type,o.memoizedProps)),c=!c),c&&xt&&ua(o),mw(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));xt=zE(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));xt=zE(o)}else s===27?(s=xt,Sa(o.type)?(o=Sg,Sg=null,xt=o):xt=s):xt=hn?wr(o.stateNode.nextSibling):null;return!0}function to(){xt=hn=null,Ze=!1}function tm(){var o=la;return o!==null&&(Hn===null?Hn=o:Hn.push.apply(Hn,o),la=null),o}function kl(o){la===null?la=[o]:la.push(o)}var nm=L(null),no=null,gi=null;function ca(o,s,c){he(nm,s._currentValue),s._currentValue=c}function vi(o){o._currentValue=nm.current,X(nm)}function rm(o,s,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),o===c)break;o=o.return}}function im(o,s,c,p){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var w=x.dependencies;if(w!==null){var C=x.child;w=w.firstContext;e:for(;w!==null;){var O=w;w=x;for(var j=0;j<s.length;j++)if(O.context===s[j]){w.lanes|=c,O=w.alternate,O!==null&&(O.lanes|=c),rm(w.return,c,o),p||(C=null);break e}w=O.next}}else if(x.tag===18){if(C=x.return,C===null)throw Error(r(341));C.lanes|=c,w=C.alternate,w!==null&&(w.lanes|=c),rm(C,c,o),C=null}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===o){C=null;break}if(x=C.sibling,x!==null){x.return=C.return,C=x;break}C=C.return}x=C}}function ls(o,s,c,p){o=null;for(var x=s,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var C=x.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var O=x.type;Xn(x.pendingProps.value,C.value)||(o!==null?o.push(O):o=[O])}}else if(x===_e.current){if(C=x.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(lu):o=[lu])}x=x.return}o!==null&&im(s,o,c,p),s.flags|=262144}function qc(o){for(o=o.firstContext;o!==null;){if(!Xn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ro(o){no=o,gi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function pn(o){return gw(no,o)}function zc(o,s){return no===null&&ro(o),gw(o,s)}function gw(o,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},gi===null){if(o===null)throw Error(r(308));gi=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else gi=gi.next=s;return c}var IL=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(c,p){o.push(p)}};this.abort=function(){s.aborted=!0,o.forEach(function(c){return c()})}},ML=e.unstable_scheduleCallback,DL=e.unstable_NormalPriority,Ut={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function am(){return{controller:new IL,data:new Map,refCount:0}}function jl(o){o.refCount--,o.refCount===0&&ML(DL,function(){o.controller.abort()})}var Ll=null,om=0,us=0,cs=null;function kL(o,s){if(Ll===null){var c=Ll=[];om=0,us=ug(),cs={status:"pending",value:void 0,then:function(p){c.push(p)}}}return om++,s.then(vw,vw),s}function vw(){if(--om===0&&Ll!==null){cs!==null&&(cs.status="fulfilled");var o=Ll;Ll=null,us=0,cs=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function jL(o,s){var c=[],p={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return o.then(function(){p.status="fulfilled",p.value=s;for(var x=0;x<c.length;x++)(0,c[x])(s)},function(x){for(p.status="rejected",p.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),p}var yw=B.S;B.S=function(o,s){tE=Ft(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&kL(o,s),yw!==null&&yw(o,s)};var io=L(null);function sm(){var o=io.current;return o!==null?o:pt.pooledCache}function $c(o,s){s===null?he(io,io.current):he(io,s.pool)}function bw(){var o=sm();return o===null?null:{parent:Ut._currentValue,pool:o}}var ds=Error(r(460)),lm=Error(r(474)),Bc=Error(r(542)),Hc={then:function(){}};function xw(o){return o=o.status,o==="fulfilled"||o==="rejected"}function _w(o,s,c){switch(c=o[c],c===void 0?o.push(s):c!==s&&(s.then(fi,fi),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,Sw(o),o;default:if(typeof s.status=="string")s.then(fi,fi);else{if(o=pt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(p){if(s.status==="pending"){var x=s;x.status="fulfilled",x.value=p}},function(p){if(s.status==="pending"){var x=s;x.status="rejected",x.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,Sw(o),o}throw oo=s,ds}}function ao(o){try{var s=o._init;return s(o._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(oo=c,ds):c}}var oo=null;function ww(){if(oo===null)throw Error(r(459));var o=oo;return oo=null,o}function Sw(o){if(o===ds||o===Bc)throw Error(r(483))}var fs=null,Ul=0;function Gc(o){var s=Ul;return Ul+=1,fs===null&&(fs=[]),_w(fs,o,s)}function ql(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function Vc(o,s){throw s.$$typeof===b?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function Ew(o){function s($,q){if(o){var V=$.deletions;V===null?($.deletions=[q],$.flags|=16):V.push(q)}}function c($,q){if(!o)return null;for(;q!==null;)s($,q),q=q.sibling;return null}function p($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function x($,q){return $=pi($,q),$.index=0,$.sibling=null,$}function w($,q,V){return $.index=V,o?(V=$.alternate,V!==null?(V=V.index,V<q?($.flags|=67108866,q):V):($.flags|=67108866,q)):($.flags|=1048576,q)}function C($){return o&&$.alternate===null&&($.flags|=67108866),$}function O($,q,V,ie){return q===null||q.tag!==6?(q=Jp(V,$.mode,ie),q.return=$,q):(q=x(q,V),q.return=$,q)}function j($,q,V,ie){var ke=V.type;return ke===T?ne($,q,V.props.children,ie,V.key):q!==null&&(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===G&&ao(ke)===q.type)?(q=x(q,V.props),ql(q,V),q.return=$,q):(q=Lc(V.type,V.key,V.props,null,$.mode,ie),ql(q,V),q.return=$,q)}function F($,q,V,ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==V.containerInfo||q.stateNode.implementation!==V.implementation?(q=Xp(V,$.mode,ie),q.return=$,q):(q=x(q,V.children||[]),q.return=$,q)}function ne($,q,V,ie,ke){return q===null||q.tag!==7?(q=eo(V,$.mode,ie,ke),q.return=$,q):(q=x(q,V),q.return=$,q)}function se($,q,V){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Jp(""+q,$.mode,V),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return V=Lc(q.type,q.key,q.props,null,$.mode,V),ql(V,q),V.return=$,V;case S:return q=Xp(q,$.mode,V),q.return=$,q;case G:return q=ao(q),se($,q,V)}if(we(q)||H(q))return q=eo(q,$.mode,V,null),q.return=$,q;if(typeof q.then=="function")return se($,Gc(q),V);if(q.$$typeof===N)return se($,zc($,q),V);Vc($,q)}return null}function Y($,q,V,ie){var ke=q!==null?q.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ke!==null?null:O($,q,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===ke?j($,q,V,ie):null;case S:return V.key===ke?F($,q,V,ie):null;case G:return V=ao(V),Y($,q,V,ie)}if(we(V)||H(V))return ke!==null?null:ne($,q,V,ie,null);if(typeof V.then=="function")return Y($,q,Gc(V),ie);if(V.$$typeof===N)return Y($,q,zc($,V),ie);Vc($,V)}return null}function Z($,q,V,ie,ke){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $=$.get(V)||null,O(q,$,""+ie,ke);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return $=$.get(ie.key===null?V:ie.key)||null,j(q,$,ie,ke);case S:return $=$.get(ie.key===null?V:ie.key)||null,F(q,$,ie,ke);case G:return ie=ao(ie),Z($,q,V,ie,ke)}if(we(ie)||H(ie))return $=$.get(V)||null,ne(q,$,ie,ke,null);if(typeof ie.then=="function")return Z($,q,V,Gc(ie),ke);if(ie.$$typeof===N)return Z($,q,V,zc(q,ie),ke);Vc(q,ie)}return null}function Te($,q,V,ie){for(var ke=null,et=null,Ne=q,Ve=q=0,Qe=null;Ne!==null&&Ve<V.length;Ve++){Ne.index>Ve?(Qe=Ne,Ne=null):Qe=Ne.sibling;var tt=Y($,Ne,V[Ve],ie);if(tt===null){Ne===null&&(Ne=Qe);break}o&&Ne&&tt.alternate===null&&s($,Ne),q=w(tt,q,Ve),et===null?ke=tt:et.sibling=tt,et=tt,Ne=Qe}if(Ve===V.length)return c($,Ne),Ze&&mi($,Ve),ke;if(Ne===null){for(;Ve<V.length;Ve++)Ne=se($,V[Ve],ie),Ne!==null&&(q=w(Ne,q,Ve),et===null?ke=Ne:et.sibling=Ne,et=Ne);return Ze&&mi($,Ve),ke}for(Ne=p(Ne);Ve<V.length;Ve++)Qe=Z(Ne,$,Ve,V[Ve],ie),Qe!==null&&(o&&Qe.alternate!==null&&Ne.delete(Qe.key===null?Ve:Qe.key),q=w(Qe,q,Ve),et===null?ke=Qe:et.sibling=Qe,et=Qe);return o&&Ne.forEach(function(Na){return s($,Na)}),Ze&&mi($,Ve),ke}function qe($,q,V,ie){if(V==null)throw Error(r(151));for(var ke=null,et=null,Ne=q,Ve=q=0,Qe=null,tt=V.next();Ne!==null&&!tt.done;Ve++,tt=V.next()){Ne.index>Ve?(Qe=Ne,Ne=null):Qe=Ne.sibling;var Na=Y($,Ne,tt.value,ie);if(Na===null){Ne===null&&(Ne=Qe);break}o&&Ne&&Na.alternate===null&&s($,Ne),q=w(Na,q,Ve),et===null?ke=Na:et.sibling=Na,et=Na,Ne=Qe}if(tt.done)return c($,Ne),Ze&&mi($,Ve),ke;if(Ne===null){for(;!tt.done;Ve++,tt=V.next())tt=se($,tt.value,ie),tt!==null&&(q=w(tt,q,Ve),et===null?ke=tt:et.sibling=tt,et=tt);return Ze&&mi($,Ve),ke}for(Ne=p(Ne);!tt.done;Ve++,tt=V.next())tt=Z(Ne,$,Ve,tt.value,ie),tt!==null&&(o&&tt.alternate!==null&&Ne.delete(tt.key===null?Ve:tt.key),q=w(tt,q,Ve),et===null?ke=tt:et.sibling=tt,et=tt);return o&&Ne.forEach(function(KU){return s($,KU)}),Ze&&mi($,Ve),ke}function dt($,q,V,ie){if(typeof V=="object"&&V!==null&&V.type===T&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var ke=V.key;q!==null;){if(q.key===ke){if(ke=V.type,ke===T){if(q.tag===7){c($,q.sibling),ie=x(q,V.props.children),ie.return=$,$=ie;break e}}else if(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===G&&ao(ke)===q.type){c($,q.sibling),ie=x(q,V.props),ql(ie,V),ie.return=$,$=ie;break e}c($,q);break}else s($,q);q=q.sibling}V.type===T?(ie=eo(V.props.children,$.mode,ie,V.key),ie.return=$,$=ie):(ie=Lc(V.type,V.key,V.props,null,$.mode,ie),ql(ie,V),ie.return=$,$=ie)}return C($);case S:e:{for(ke=V.key;q!==null;){if(q.key===ke)if(q.tag===4&&q.stateNode.containerInfo===V.containerInfo&&q.stateNode.implementation===V.implementation){c($,q.sibling),ie=x(q,V.children||[]),ie.return=$,$=ie;break e}else{c($,q);break}else s($,q);q=q.sibling}ie=Xp(V,$.mode,ie),ie.return=$,$=ie}return C($);case G:return V=ao(V),dt($,q,V,ie)}if(we(V))return Te($,q,V,ie);if(H(V)){if(ke=H(V),typeof ke!="function")throw Error(r(150));return V=ke.call(V),qe($,q,V,ie)}if(typeof V.then=="function")return dt($,q,Gc(V),ie);if(V.$$typeof===N)return dt($,q,zc($,V),ie);Vc($,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,q!==null&&q.tag===6?(c($,q.sibling),ie=x(q,V),ie.return=$,$=ie):(c($,q),ie=Jp(V,$.mode,ie),ie.return=$,$=ie),C($)):c($,q)}return function($,q,V,ie){try{Ul=0;var ke=dt($,q,V,ie);return fs=null,ke}catch(Ne){if(Ne===ds||Ne===Bc)throw Ne;var et=Qn(29,Ne,null,$.mode);return et.lanes=ie,et.return=$,et}finally{}}}var so=Ew(!0),Tw=Ew(!1),da=!1;function um(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cm(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function fa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ha(o,s,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(it&2)!==0){var x=p.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),p.pending=s,s=jc(o),lw(o,null,c),s}return kc(o,p,s,c),jc(o)}function zl(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=o.pendingLanes,c|=p,s.lanes=c,g_(o,c)}}function dm(o,s){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var x=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?x=w=C:w=w.next=C,c=c.next}while(c!==null);w===null?x=w=s:w=w.next=s}else x=w=s;c={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}var fm=!1;function $l(){if(fm){var o=cs;if(o!==null)throw o}}function Bl(o,s,c,p){fm=!1;var x=o.updateQueue;da=!1;var w=x.firstBaseUpdate,C=x.lastBaseUpdate,O=x.shared.pending;if(O!==null){x.shared.pending=null;var j=O,F=j.next;j.next=null,C===null?w=F:C.next=F,C=j;var ne=o.alternate;ne!==null&&(ne=ne.updateQueue,O=ne.lastBaseUpdate,O!==C&&(O===null?ne.firstBaseUpdate=F:O.next=F,ne.lastBaseUpdate=j))}if(w!==null){var se=x.baseState;C=0,ne=F=j=null,O=w;do{var Y=O.lane&-536870913,Z=Y!==O.lane;if(Z?(Xe&Y)===Y:(p&Y)===Y){Y!==0&&Y===us&&(fm=!0),ne!==null&&(ne=ne.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Te=o,qe=O;Y=s;var dt=c;switch(qe.tag){case 1:if(Te=qe.payload,typeof Te=="function"){se=Te.call(dt,se,Y);break e}se=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=qe.payload,Y=typeof Te=="function"?Te.call(dt,se,Y):Te,Y==null)break e;se=m({},se,Y);break e;case 2:da=!0}}Y=O.callback,Y!==null&&(o.flags|=64,Z&&(o.flags|=8192),Z=x.callbacks,Z===null?x.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ne===null?(F=ne=Z,j=se):ne=ne.next=Z,C|=Y;if(O=O.next,O===null){if(O=x.shared.pending,O===null)break;Z=O,O=Z.next,Z.next=null,x.lastBaseUpdate=Z,x.shared.pending=null}}while(!0);ne===null&&(j=se),x.baseState=j,x.firstBaseUpdate=F,x.lastBaseUpdate=ne,w===null&&(x.shared.lanes=0),ya|=C,o.lanes=C,o.memoizedState=se}}function Aw(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function Cw(o,s){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)Aw(c[o],s)}var hs=L(null),Fc=L(0);function Nw(o,s){o=Ai,he(Fc,o),he(hs,s),Ai=o|s.baseLanes}function hm(){he(Fc,Ai),he(hs,hs.current)}function pm(){Ai=Fc.current,X(hs),X(Fc)}var Zn=L(null),_r=null;function pa(o){var s=o.alternate;he(Dt,Dt.current&1),he(Zn,o),_r===null&&(s===null||hs.current!==null||s.memoizedState!==null)&&(_r=o)}function mm(o){he(Dt,Dt.current),he(Zn,o),_r===null&&(_r=o)}function Rw(o){o.tag===22?(he(Dt,Dt.current),he(Zn,o),_r===null&&(_r=o)):ma()}function ma(){he(Dt,Dt.current),he(Zn,Zn.current)}function er(o){X(Zn),_r===o&&(_r=null),X(Dt)}var Dt=L(0);function Kc(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||_g(c)||wg(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yi=0,Ge=null,ut=null,qt=null,Yc=!1,ps=!1,lo=!1,Wc=0,Hl=0,ms=null,LL=0;function It(){throw Error(r(321))}function gm(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!Xn(o[c],s[c]))return!1;return!0}function vm(o,s,c,p,x,w){return yi=w,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=o===null||o.memoizedState===null?fS:Im,lo=!1,w=c(p,x),lo=!1,ps&&(w=Ow(s,c,p,x)),Pw(o),w}function Pw(o){B.H=Fl;var s=ut!==null&&ut.next!==null;if(yi=0,qt=ut=Ge=null,Yc=!1,Hl=0,ms=null,s)throw Error(r(300));o===null||zt||(o=o.dependencies,o!==null&&qc(o)&&(zt=!0))}function Ow(o,s,c,p){Ge=o;var x=0;do{if(ps&&(ms=null),Hl=0,ps=!1,25<=x)throw Error(r(301));if(x+=1,qt=ut=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=hS,w=s(c,p)}while(ps);return w}function UL(){var o=B.H,s=o.useState()[0];return s=typeof s.then=="function"?Gl(s):s,o=o.useState()[0],(ut!==null?ut.memoizedState:null)!==o&&(Ge.flags|=1024),s}function ym(){var o=Wc!==0;return Wc=0,o}function bm(o,s,c){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~c}function xm(o){if(Yc){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Yc=!1}yi=0,qt=ut=Ge=null,ps=!1,Hl=Wc=0,ms=null}function Rn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ge.memoizedState=qt=o:qt=qt.next=o,qt}function kt(){if(ut===null){var o=Ge.alternate;o=o!==null?o.memoizedState:null}else o=ut.next;var s=qt===null?Ge.memoizedState:qt.next;if(s!==null)qt=s,ut=o;else{if(o===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));ut=o,o={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},qt===null?Ge.memoizedState=qt=o:qt=qt.next=o}return qt}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(o){var s=Hl;return Hl+=1,ms===null&&(ms=[]),o=_w(ms,o,s),s=Ge,(qt===null?s.memoizedState:qt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?fS:Im),o}function Xc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Gl(o);if(o.$$typeof===N)return pn(o)}throw Error(r(438,String(o)))}function _m(o){var s=null,c=Ge.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Ge.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(x){return x.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Jc(),Ge.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(o),p=0;p<o;p++)c[p]=le;return s.index++,c}function bi(o,s){return typeof s=="function"?s(o):s}function Qc(o){var s=kt();return wm(s,ut,o)}function wm(o,s,c){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var x=o.baseQueue,w=p.pending;if(w!==null){if(x!==null){var C=x.next;x.next=w.next,w.next=C}s.baseQueue=x=w,p.pending=null}if(w=o.baseState,x===null)o.memoizedState=w;else{s=x.next;var O=C=null,j=null,F=s,ne=!1;do{var se=F.lane&-536870913;if(se!==F.lane?(Xe&se)===se:(yi&se)===se){var Y=F.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),se===us&&(ne=!0);else if((yi&Y)===Y){F=F.next,Y===us&&(ne=!0);continue}else se={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(O=j=se,C=w):j=j.next=se,Ge.lanes|=Y,ya|=Y;se=F.action,lo&&c(w,se),w=F.hasEagerState?F.eagerState:c(w,se)}else Y={lane:se,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(O=j=Y,C=w):j=j.next=Y,Ge.lanes|=se,ya|=se;F=F.next}while(F!==null&&F!==s);if(j===null?C=w:j.next=O,!Xn(w,o.memoizedState)&&(zt=!0,ne&&(c=cs,c!==null)))throw c;o.memoizedState=w,o.baseState=C,o.baseQueue=j,p.lastRenderedState=w}return x===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Sm(o){var s=kt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=c.dispatch,x=c.pending,w=s.memoizedState;if(x!==null){c.pending=null;var C=x=x.next;do w=o(w,C.action),C=C.next;while(C!==x);Xn(w,s.memoizedState)||(zt=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),c.lastRenderedState=w}return[w,p]}function Iw(o,s,c){var p=Ge,x=kt(),w=Ze;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=s();var C=!Xn((ut||x).memoizedState,c);if(C&&(x.memoizedState=c,zt=!0),x=x.queue,Am(kw.bind(null,p,x,o),[o]),x.getSnapshot!==s||C||qt!==null&&qt.memoizedState.tag&1){if(p.flags|=2048,gs(9,{destroy:void 0},Dw.bind(null,p,x,c,s),null),pt===null)throw Error(r(349));w||(yi&127)!==0||Mw(p,s,c)}return c}function Mw(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=Ge.updateQueue,s===null?(s=Jc(),Ge.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function Dw(o,s,c,p){s.value=c,s.getSnapshot=p,jw(s)&&Lw(o)}function kw(o,s,c){return c(function(){jw(s)&&Lw(o)})}function jw(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!Xn(o,c)}catch{return!0}}function Lw(o){var s=Za(o,2);s!==null&&Gn(s,o,2)}function Em(o){var s=Rn();if(typeof o=="function"){var c=o;if(o=c(),lo){Ln(!0);try{c()}finally{Ln(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:o},s}function Uw(o,s,c,p){return o.baseState=c,wm(o,ut,typeof p=="function"?p:bi)}function qL(o,s,c,p,x){if(td(o))throw Error(r(485));if(o=s.action,o!==null){var w={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){w.listeners.push(C)}};B.T!==null?c(!0):w.isTransition=!1,p(w),c=s.pending,c===null?(w.next=s.pending=w,qw(s,w)):(w.next=c.next,s.pending=c.next=w)}}function qw(o,s){var c=s.action,p=s.payload,x=o.state;if(s.isTransition){var w=B.T,C={};B.T=C;try{var O=c(x,p),j=B.S;j!==null&&j(C,O),zw(o,s,O)}catch(F){Tm(o,s,F)}finally{w!==null&&C.types!==null&&(w.types=C.types),B.T=w}}else try{w=c(x,p),zw(o,s,w)}catch(F){Tm(o,s,F)}}function zw(o,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){$w(o,s,p)},function(p){return Tm(o,s,p)}):$w(o,s,c)}function $w(o,s,c){s.status="fulfilled",s.value=c,Bw(s),o.state=c,s=o.pending,s!==null&&(c=s.next,c===s?o.pending=null:(c=c.next,s.next=c,qw(o,c)))}function Tm(o,s,c){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,Bw(s),s=s.next;while(s!==p)}o.action=null}function Bw(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function Hw(o,s){return s}function Gw(o,s){if(Ze){var c=pt.formState;if(c!==null){e:{var p=Ge;if(Ze){if(xt){t:{for(var x=xt,w=xr;x.nodeType!==8;){if(!w){x=null;break t}if(x=wr(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){xt=wr(x.nextSibling),p=x.data==="F!";break e}}ua(p)}p=!1}p&&(s=c[0])}}return c=Rn(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hw,lastRenderedState:s},c.queue=p,c=uS.bind(null,Ge,p),p.dispatch=c,p=Em(!1),w=Om.bind(null,Ge,!1,p.queue),p=Rn(),x={state:s,dispatch:null,action:o,pending:null},p.queue=x,c=qL.bind(null,Ge,x,w,c),x.dispatch=c,p.memoizedState=o,[s,c,!1]}function Vw(o){var s=kt();return Fw(s,ut,o)}function Fw(o,s,c){if(s=wm(o,s,Hw)[0],o=Qc(bi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=Gl(s)}catch(C){throw C===ds?Bc:C}else p=s;s=kt();var x=s.queue,w=x.dispatch;return c!==s.memoizedState&&(Ge.flags|=2048,gs(9,{destroy:void 0},zL.bind(null,x,c),null)),[p,w,o]}function zL(o,s){o.action=s}function Kw(o){var s=kt(),c=ut;if(c!==null)return Fw(s,c,o);kt(),s=s.memoizedState,c=kt();var p=c.queue.dispatch;return c.memoizedState=o,[s,p,!1]}function gs(o,s,c,p){return o={tag:o,create:c,deps:p,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=Jc(),Ge.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,s.lastEffect=o),o}function Yw(){return kt().memoizedState}function Zc(o,s,c,p){var x=Rn();Ge.flags|=o,x.memoizedState=gs(1|s,{destroy:void 0},c,p===void 0?null:p)}function ed(o,s,c,p){var x=kt();p=p===void 0?null:p;var w=x.memoizedState.inst;ut!==null&&p!==null&&gm(p,ut.memoizedState.deps)?x.memoizedState=gs(s,w,c,p):(Ge.flags|=o,x.memoizedState=gs(1|s,w,c,p))}function Ww(o,s){Zc(8390656,8,o,s)}function Am(o,s){ed(2048,8,o,s)}function $L(o){Ge.flags|=4;var s=Ge.updateQueue;if(s===null)s=Jc(),Ge.updateQueue=s,s.events=[o];else{var c=s.events;c===null?s.events=[o]:c.push(o)}}function Jw(o){var s=kt().memoizedState;return $L({ref:s,nextImpl:o}),function(){if((it&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Xw(o,s){return ed(4,2,o,s)}function Qw(o,s){return ed(4,4,o,s)}function Zw(o,s){if(typeof s=="function"){o=o();var c=s(o);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function eS(o,s,c){c=c!=null?c.concat([o]):null,ed(4,4,Zw.bind(null,s,o),c)}function Cm(){}function tS(o,s){var c=kt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&gm(s,p[1])?p[0]:(c.memoizedState=[o,s],o)}function nS(o,s){var c=kt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&gm(s,p[1]))return p[0];if(p=o(),lo){Ln(!0);try{o()}finally{Ln(!1)}}return c.memoizedState=[p,s],p}function Nm(o,s,c){return c===void 0||(yi&1073741824)!==0&&(Xe&261930)===0?o.memoizedState=s:(o.memoizedState=c,o=rE(),Ge.lanes|=o,ya|=o,c)}function rS(o,s,c,p){return Xn(c,s)?c:hs.current!==null?(o=Nm(o,c,p),Xn(o,s)||(zt=!0),o):(yi&42)===0||(yi&1073741824)!==0&&(Xe&261930)===0?(zt=!0,o.memoizedState=c):(o=rE(),Ge.lanes|=o,ya|=o,s)}function iS(o,s,c,p,x){var w=J.p;J.p=w!==0&&8>w?w:8;var C=B.T,O={};B.T=O,Om(o,!1,s,c);try{var j=x(),F=B.S;if(F!==null&&F(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=jL(j,p);Vl(o,s,ne,rr(o))}else Vl(o,s,p,rr(o))}catch(se){Vl(o,s,{then:function(){},status:"rejected",reason:se},rr())}finally{J.p=w,C!==null&&O.types!==null&&(C.types=O.types),B.T=C}}function BL(){}function Rm(o,s,c,p){if(o.tag!==5)throw Error(r(476));var x=aS(o).queue;iS(o,x,s,ce,c===null?BL:function(){return oS(o),c(p)})}function aS(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:ce},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:c},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function oS(o){var s=aS(o);s.next===null&&(s=o.alternate.memoizedState),Vl(o,s.next.queue,{},rr())}function Pm(){return pn(lu)}function sS(){return kt().memoizedState}function lS(){return kt().memoizedState}function HL(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var c=rr();o=fa(c);var p=ha(s,o,c);p!==null&&(Gn(p,s,c),zl(p,s,c)),s={cache:am()},o.payload=s;return}s=s.return}}function GL(o,s,c){var p=rr();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},td(o)?cS(s,c):(c=Yp(o,s,c,p),c!==null&&(Gn(c,o,p),dS(c,s,p)))}function uS(o,s,c){var p=rr();Vl(o,s,c,p)}function Vl(o,s,c,p){var x={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(td(o))cS(s,x);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var C=s.lastRenderedState,O=w(C,c);if(x.hasEagerState=!0,x.eagerState=O,Xn(O,C))return kc(o,s,x,0),pt===null&&Dc(),!1}catch{}finally{}if(c=Yp(o,s,x,p),c!==null)return Gn(c,o,p),dS(c,s,p),!0}return!1}function Om(o,s,c,p){if(p={lane:2,revertLane:ug(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},td(o)){if(s)throw Error(r(479))}else s=Yp(o,c,p,2),s!==null&&Gn(s,o,2)}function td(o){var s=o.alternate;return o===Ge||s!==null&&s===Ge}function cS(o,s){ps=Yc=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function dS(o,s,c){if((c&4194048)!==0){var p=s.lanes;p&=o.pendingLanes,c|=p,s.lanes=c,g_(o,c)}}var Fl={readContext:pn,use:Xc,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};Fl.useEffectEvent=It;var fS={readContext:pn,use:Xc,useCallback:function(o,s){return Rn().memoizedState=[o,s===void 0?null:s],o},useContext:pn,useEffect:Ww,useImperativeHandle:function(o,s,c){c=c!=null?c.concat([o]):null,Zc(4194308,4,Zw.bind(null,s,o),c)},useLayoutEffect:function(o,s){return Zc(4194308,4,o,s)},useInsertionEffect:function(o,s){Zc(4,2,o,s)},useMemo:function(o,s){var c=Rn();s=s===void 0?null:s;var p=o();if(lo){Ln(!0);try{o()}finally{Ln(!1)}}return c.memoizedState=[p,s],p},useReducer:function(o,s,c){var p=Rn();if(c!==void 0){var x=c(s);if(lo){Ln(!0);try{c(s)}finally{Ln(!1)}}}else x=s;return p.memoizedState=p.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},p.queue=o,o=o.dispatch=GL.bind(null,Ge,o),[p.memoizedState,o]},useRef:function(o){var s=Rn();return o={current:o},s.memoizedState=o},useState:function(o){o=Em(o);var s=o.queue,c=uS.bind(null,Ge,s);return s.dispatch=c,[o.memoizedState,c]},useDebugValue:Cm,useDeferredValue:function(o,s){var c=Rn();return Nm(c,o,s)},useTransition:function(){var o=Em(!1);return o=iS.bind(null,Ge,o.queue,!0,!1),Rn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,c){var p=Ge,x=Rn();if(Ze){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),pt===null)throw Error(r(349));(Xe&127)!==0||Mw(p,s,c)}x.memoizedState=c;var w={value:c,getSnapshot:s};return x.queue=w,Ww(kw.bind(null,p,w,o),[o]),p.flags|=2048,gs(9,{destroy:void 0},Dw.bind(null,p,w,c,s),null),c},useId:function(){var o=Rn(),s=pt.identifierPrefix;if(Ze){var c=Jr,p=Wr;c=(p&~(1<<32-Nn(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Wc++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=LL++,s="_"+s+"r_"+c.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:Pm,useFormState:Gw,useActionState:Gw,useOptimistic:function(o){var s=Rn();s.memoizedState=s.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Om.bind(null,Ge,!0,c),c.dispatch=s,[o,s]},useMemoCache:_m,useCacheRefresh:function(){return Rn().memoizedState=HL.bind(null,Ge)},useEffectEvent:function(o){var s=Rn(),c={impl:o};return s.memoizedState=c,function(){if((it&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Im={readContext:pn,use:Xc,useCallback:tS,useContext:pn,useEffect:Am,useImperativeHandle:eS,useInsertionEffect:Xw,useLayoutEffect:Qw,useMemo:nS,useReducer:Qc,useRef:Yw,useState:function(){return Qc(bi)},useDebugValue:Cm,useDeferredValue:function(o,s){var c=kt();return rS(c,ut.memoizedState,o,s)},useTransition:function(){var o=Qc(bi)[0],s=kt().memoizedState;return[typeof o=="boolean"?o:Gl(o),s]},useSyncExternalStore:Iw,useId:sS,useHostTransitionStatus:Pm,useFormState:Vw,useActionState:Vw,useOptimistic:function(o,s){var c=kt();return Uw(c,ut,o,s)},useMemoCache:_m,useCacheRefresh:lS};Im.useEffectEvent=Jw;var hS={readContext:pn,use:Xc,useCallback:tS,useContext:pn,useEffect:Am,useImperativeHandle:eS,useInsertionEffect:Xw,useLayoutEffect:Qw,useMemo:nS,useReducer:Sm,useRef:Yw,useState:function(){return Sm(bi)},useDebugValue:Cm,useDeferredValue:function(o,s){var c=kt();return ut===null?Nm(c,o,s):rS(c,ut.memoizedState,o,s)},useTransition:function(){var o=Sm(bi)[0],s=kt().memoizedState;return[typeof o=="boolean"?o:Gl(o),s]},useSyncExternalStore:Iw,useId:sS,useHostTransitionStatus:Pm,useFormState:Kw,useActionState:Kw,useOptimistic:function(o,s){var c=kt();return ut!==null?Uw(c,ut,o,s):(c.baseState=o,[o,c.queue.dispatch])},useMemoCache:_m,useCacheRefresh:lS};hS.useEffectEvent=Jw;function Mm(o,s,c,p){s=o.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Dm={enqueueSetState:function(o,s,c){o=o._reactInternals;var p=rr(),x=fa(p);x.payload=s,c!=null&&(x.callback=c),s=ha(o,x,p),s!==null&&(Gn(s,o,p),zl(s,o,p))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var p=rr(),x=fa(p);x.tag=1,x.payload=s,c!=null&&(x.callback=c),s=ha(o,x,p),s!==null&&(Gn(s,o,p),zl(s,o,p))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=rr(),p=fa(c);p.tag=2,s!=null&&(p.callback=s),s=ha(o,p,c),s!==null&&(Gn(s,o,c),zl(s,o,c))}};function pS(o,s,c,p,x,w,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,C):s.prototype&&s.prototype.isPureReactComponent?!Il(c,p)||!Il(x,w):!0}function mS(o,s,c,p){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==o&&Dm.enqueueReplaceState(s,s.state,null)}function uo(o,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(o=o.defaultProps){c===s&&(c=m({},c));for(var x in o)c[x]===void 0&&(c[x]=o[x])}return c}function gS(o){Mc(o)}function vS(o){console.error(o)}function yS(o){Mc(o)}function nd(o,s){try{var c=o.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function bS(o,s,c){try{var p=o.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function km(o,s,c){return c=fa(c),c.tag=3,c.payload={element:null},c.callback=function(){nd(o,s)},c}function xS(o){return o=fa(o),o.tag=3,o}function _S(o,s,c,p){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var w=p.value;o.payload=function(){return x(w)},o.callback=function(){bS(s,c,p)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){bS(s,c,p),typeof x!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var O=p.stack;this.componentDidCatch(p.value,{componentStack:O!==null?O:""})})}function VL(o,s,c,p,x){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&ls(s,c,x,!0),c=Zn.current,c!==null){switch(c.tag){case 31:case 13:return _r===null?pd():c.alternate===null&&Mt===0&&(Mt=3),c.flags&=-257,c.flags|=65536,c.lanes=x,p===Hc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),og(o,p,x)),!1;case 22:return c.flags|=65536,p===Hc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),og(o,p,x)),!1}throw Error(r(435,c.tag))}return og(o,p,x),pd(),!1}if(Ze)return s=Zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=x,p!==em&&(o=Error(r(422),{cause:p}),kl(vr(o,c)))):(p!==em&&(s=Error(r(423),{cause:p}),kl(vr(s,c))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,p=vr(p,c),x=km(o.stateNode,p,x),dm(o,x),Mt!==4&&(Mt=2)),!1;var w=Error(r(520),{cause:p});if(w=vr(w,c),eu===null?eu=[w]:eu.push(w),Mt!==4&&(Mt=2),s===null)return!0;p=vr(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,o=x&-x,c.lanes|=o,o=km(c.stateNode,p,o),dm(c,o),!1;case 1:if(s=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ba===null||!ba.has(w))))return c.flags|=65536,x&=-x,c.lanes|=x,x=xS(x),_S(x,o,c,p),dm(c,x),!1}c=c.return}while(c!==null);return!1}var jm=Error(r(461)),zt=!1;function mn(o,s,c,p){s.child=o===null?Tw(s,null,c,p):so(s,o.child,c,p)}function wS(o,s,c,p,x){c=c.render;var w=s.ref;if("ref"in p){var C={};for(var O in p)O!=="ref"&&(C[O]=p[O])}else C=p;return ro(s),p=vm(o,s,c,C,w,x),O=ym(),o!==null&&!zt?(bm(o,s,x),xi(o,s,x)):(Ze&&O&&Qp(s),s.flags|=1,mn(o,s,p,x),s.child)}function SS(o,s,c,p,x){if(o===null){var w=c.type;return typeof w=="function"&&!Wp(w)&&w.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=w,ES(o,s,w,p,x)):(o=Lc(c.type,null,p,s,s.mode,x),o.ref=s.ref,o.return=s,s.child=o)}if(w=o.child,!Gm(o,x)){var C=w.memoizedProps;if(c=c.compare,c=c!==null?c:Il,c(C,p)&&o.ref===s.ref)return xi(o,s,x)}return s.flags|=1,o=pi(w,p),o.ref=s.ref,o.return=s,s.child=o}function ES(o,s,c,p,x){if(o!==null){var w=o.memoizedProps;if(Il(w,p)&&o.ref===s.ref)if(zt=!1,s.pendingProps=p=w,Gm(o,x))(o.flags&131072)!==0&&(zt=!0);else return s.lanes=o.lanes,xi(o,s,x)}return Lm(o,s,c,p,x)}function TS(o,s,c,p){var x=p.children,w=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,o!==null){for(p=s.child=o.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;p=x&~w}else p=0,s.child=null;return AS(o,s,w,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&$c(s,w!==null?w.cachePool:null),w!==null?Nw(s,w):hm(),Rw(s);else return p=s.lanes=536870912,AS(o,s,w!==null?w.baseLanes|c:c,c,p)}else w!==null?($c(s,w.cachePool),Nw(s,w),ma(),s.memoizedState=null):(o!==null&&$c(s,null),hm(),ma());return mn(o,s,x,c),s.child}function Kl(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function AS(o,s,c,p,x){var w=sm();return w=w===null?null:{parent:Ut._currentValue,pool:w},s.memoizedState={baseLanes:c,cachePool:w},o!==null&&$c(s,null),hm(),Rw(s),o!==null&&ls(o,s,p,!0),s.childLanes=x,null}function rd(o,s){return s=ad({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function CS(o,s,c){return so(s,o.child,null,c),o=rd(s,s.pendingProps),o.flags|=2,er(s),s.memoizedState=null,o}function FL(o,s,c){var p=s.pendingProps,x=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Ze){if(p.mode==="hidden")return o=rd(s,p),s.lanes=536870912,Kl(null,o);if(mm(s),(o=xt)?(o=qE(o,xr),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:sa!==null?{id:Wr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},c=cw(o),c.return=s,s.child=c,hn=s,xt=null)):o=null,o===null)throw ua(s);return s.lanes=536870912,null}return rd(s,p)}var w=o.memoizedState;if(w!==null){var C=w.dehydrated;if(mm(s),x)if(s.flags&256)s.flags&=-257,s=CS(o,s,c);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(r(558));else if(zt||ls(o,s,c,!1),x=(c&o.childLanes)!==0,zt||x){if(p=pt,p!==null&&(C=v_(p,c),C!==0&&C!==w.retryLane))throw w.retryLane=C,Za(o,C),Gn(p,o,C),jm;pd(),s=CS(o,s,c)}else o=w.treeContext,xt=wr(C.nextSibling),hn=s,Ze=!0,la=null,xr=!1,o!==null&&hw(s,o),s=rd(s,p),s.flags|=4096;return s}return o=pi(o.child,{mode:p.mode,children:p.children}),o.ref=s.ref,s.child=o,o.return=s,o}function id(o,s){var c=s.ref;if(c===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(o===null||o.ref!==c)&&(s.flags|=4194816)}}function Lm(o,s,c,p,x){return ro(s),c=vm(o,s,c,p,void 0,x),p=ym(),o!==null&&!zt?(bm(o,s,x),xi(o,s,x)):(Ze&&p&&Qp(s),s.flags|=1,mn(o,s,c,x),s.child)}function NS(o,s,c,p,x,w){return ro(s),s.updateQueue=null,c=Ow(s,p,c,x),Pw(o),p=ym(),o!==null&&!zt?(bm(o,s,w),xi(o,s,w)):(Ze&&p&&Qp(s),s.flags|=1,mn(o,s,c,w),s.child)}function RS(o,s,c,p,x){if(ro(s),s.stateNode===null){var w=is,C=c.contextType;typeof C=="object"&&C!==null&&(w=pn(C)),w=new c(p,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Dm,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=p,w.state=s.memoizedState,w.refs={},um(s),C=c.contextType,w.context=typeof C=="object"&&C!==null?pn(C):is,w.state=s.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Mm(s,c,C,p),w.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(C=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),C!==w.state&&Dm.enqueueReplaceState(w,w.state,null),Bl(s,p,w,x),$l(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(o===null){w=s.stateNode;var O=s.memoizedProps,j=uo(c,O);w.props=j;var F=w.context,ne=c.contextType;C=is,typeof ne=="object"&&ne!==null&&(C=pn(ne));var se=c.getDerivedStateFromProps;ne=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O||F!==C)&&mS(s,w,p,C),da=!1;var Y=s.memoizedState;w.state=Y,Bl(s,p,w,x),$l(),F=s.memoizedState,O||Y!==F||da?(typeof se=="function"&&(Mm(s,c,se,p),F=s.memoizedState),(j=da||pS(s,c,j,p,Y,F,C))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=F),w.props=p,w.state=F,w.context=C,p=j):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{w=s.stateNode,cm(o,s),C=s.memoizedProps,ne=uo(c,C),w.props=ne,se=s.pendingProps,Y=w.context,F=c.contextType,j=is,typeof F=="object"&&F!==null&&(j=pn(F)),O=c.getDerivedStateFromProps,(F=typeof O=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==se||Y!==j)&&mS(s,w,p,j),da=!1,Y=s.memoizedState,w.state=Y,Bl(s,p,w,x),$l();var Z=s.memoizedState;C!==se||Y!==Z||da||o!==null&&o.dependencies!==null&&qc(o.dependencies)?(typeof O=="function"&&(Mm(s,c,O,p),Z=s.memoizedState),(ne=da||pS(s,c,ne,p,Y,Z,j)||o!==null&&o.dependencies!==null&&qc(o.dependencies))?(F||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,Z,j),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,Z,j)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===o.memoizedProps&&Y===o.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&Y===o.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Z),w.props=p,w.state=Z,w.context=j,p=ne):(typeof w.componentDidUpdate!="function"||C===o.memoizedProps&&Y===o.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&Y===o.memoizedState||(s.flags|=1024),p=!1)}return w=p,id(o,s),p=(s.flags&128)!==0,w||p?(w=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,o!==null&&p?(s.child=so(s,o.child,null,x),s.child=so(s,null,c,x)):mn(o,s,c,x),s.memoizedState=w.state,o=s.child):o=xi(o,s,x),o}function PS(o,s,c,p){return to(),s.flags|=256,mn(o,s,c,p),s.child}var Um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qm(o){return{baseLanes:o,cachePool:bw()}}function zm(o,s,c){return o=o!==null?o.childLanes&~c:0,s&&(o|=nr),o}function OS(o,s,c){var p=s.pendingProps,x=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=o!==null&&o.memoizedState===null?!1:(Dt.current&2)!==0),C&&(x=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,o===null){if(Ze){if(x?pa(s):ma(),(o=xt)?(o=qE(o,xr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:sa!==null?{id:Wr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},c=cw(o),c.return=s,s.child=c,hn=s,xt=null)):o=null,o===null)throw ua(s);return wg(o)?s.lanes=32:s.lanes=536870912,null}var O=p.children;return p=p.fallback,x?(ma(),x=s.mode,O=ad({mode:"hidden",children:O},x),p=eo(p,x,c,null),O.return=s,p.return=s,O.sibling=p,s.child=O,p=s.child,p.memoizedState=qm(c),p.childLanes=zm(o,C,c),s.memoizedState=Um,Kl(null,p)):(pa(s),$m(s,O))}var j=o.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(w)s.flags&256?(pa(s),s.flags&=-257,s=Bm(o,s,c)):s.memoizedState!==null?(ma(),s.child=o.child,s.flags|=128,s=null):(ma(),O=p.fallback,x=s.mode,p=ad({mode:"visible",children:p.children},x),O=eo(O,x,c,null),O.flags|=2,p.return=s,O.return=s,p.sibling=O,s.child=p,so(s,o.child,null,c),p=s.child,p.memoizedState=qm(c),p.childLanes=zm(o,C,c),s.memoizedState=Um,s=Kl(null,p));else if(pa(s),wg(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var F=C.dgst;C=F,p=Error(r(419)),p.stack="",p.digest=C,kl({value:p,source:null,stack:null}),s=Bm(o,s,c)}else if(zt||ls(o,s,c,!1),C=(c&o.childLanes)!==0,zt||C){if(C=pt,C!==null&&(p=v_(C,c),p!==0&&p!==j.retryLane))throw j.retryLane=p,Za(o,p),Gn(C,o,p),jm;_g(O)||pd(),s=Bm(o,s,c)}else _g(O)?(s.flags|=192,s.child=o.child,s=null):(o=j.treeContext,xt=wr(O.nextSibling),hn=s,Ze=!0,la=null,xr=!1,o!==null&&hw(s,o),s=$m(s,p.children),s.flags|=4096);return s}return x?(ma(),O=p.fallback,x=s.mode,j=o.child,F=j.sibling,p=pi(j,{mode:"hidden",children:p.children}),p.subtreeFlags=j.subtreeFlags&65011712,F!==null?O=pi(F,O):(O=eo(O,x,c,null),O.flags|=2),O.return=s,p.return=s,p.sibling=O,s.child=p,Kl(null,p),p=s.child,O=o.child.memoizedState,O===null?O=qm(c):(x=O.cachePool,x!==null?(j=Ut._currentValue,x=x.parent!==j?{parent:j,pool:j}:x):x=bw(),O={baseLanes:O.baseLanes|c,cachePool:x}),p.memoizedState=O,p.childLanes=zm(o,C,c),s.memoizedState=Um,Kl(o.child,p)):(pa(s),c=o.child,o=c.sibling,c=pi(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,o!==null&&(C=s.deletions,C===null?(s.deletions=[o],s.flags|=16):C.push(o)),s.child=c,s.memoizedState=null,c)}function $m(o,s){return s=ad({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function ad(o,s){return o=Qn(22,o,null,s),o.lanes=0,o}function Bm(o,s,c){return so(s,o.child,null,c),o=$m(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function IS(o,s,c){o.lanes|=s;var p=o.alternate;p!==null&&(p.lanes|=s),rm(o.return,s,c)}function Hm(o,s,c,p,x,w){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:x,treeForkCount:w}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=c,C.tailMode=x,C.treeForkCount=w)}function MS(o,s,c){var p=s.pendingProps,x=p.revealOrder,w=p.tail;p=p.children;var C=Dt.current,O=(C&2)!==0;if(O?(C=C&1|2,s.flags|=128):C&=1,he(Dt,C),mn(o,s,p,c),p=Ze?Dl:0,!O&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&IS(o,c,s);else if(o.tag===19)IS(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(c=s.child,x=null;c!==null;)o=c.alternate,o!==null&&Kc(o)===null&&(x=c),c=c.sibling;c=x,c===null?(x=s.child,s.child=null):(x=c.sibling,c.sibling=null),Hm(s,!1,x,c,w,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=s.child,s.child=null;x!==null;){if(o=x.alternate,o!==null&&Kc(o)===null){s.child=x;break}o=x.sibling,x.sibling=c,c=x,x=o}Hm(s,!0,c,null,w,p);break;case"together":Hm(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function xi(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),ya|=s.lanes,(c&s.childLanes)===0)if(o!==null){if(ls(o,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,c=pi(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=pi(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function Gm(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&qc(o)))}function KL(o,s,c){switch(s.tag){case 3:Ke(s,s.stateNode.containerInfo),ca(s,Ut,o.memoizedState.cache),to();break;case 27:case 5:ve(s);break;case 4:Ke(s,s.stateNode.containerInfo);break;case 10:ca(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,mm(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(pa(s),s.flags|=128,null):(c&s.child.childLanes)!==0?OS(o,s,c):(pa(s),o=xi(o,s,c),o!==null?o.sibling:null);pa(s);break;case 19:var x=(o.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(ls(o,s,c,!1),p=(c&s.childLanes)!==0),x){if(p)return MS(o,s,c);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),he(Dt,Dt.current),p)break;return null;case 22:return s.lanes=0,TS(o,s,c,s.pendingProps);case 24:ca(s,Ut,o.memoizedState.cache)}return xi(o,s,c)}function DS(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps)zt=!0;else{if(!Gm(o,c)&&(s.flags&128)===0)return zt=!1,KL(o,s,c);zt=(o.flags&131072)!==0}else zt=!1,Ze&&(s.flags&1048576)!==0&&fw(s,Dl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(o=ao(s.elementType),s.type=o,typeof o=="function")Wp(o)?(p=uo(o,p),s.tag=1,s=RS(null,s,o,p,c)):(s.tag=0,s=Lm(null,s,o,p,c));else{if(o!=null){var x=o.$$typeof;if(x===I){s.tag=11,s=wS(null,s,o,p,c);break e}else if(x===k){s.tag=14,s=SS(null,s,o,p,c);break e}}throw s=ge(o)||o,Error(r(306,s,""))}}return s;case 0:return Lm(o,s,s.type,s.pendingProps,c);case 1:return p=s.type,x=uo(p,s.pendingProps),RS(o,s,p,x,c);case 3:e:{if(Ke(s,s.stateNode.containerInfo),o===null)throw Error(r(387));p=s.pendingProps;var w=s.memoizedState;x=w.element,cm(o,s),Bl(s,p,null,c);var C=s.memoizedState;if(p=C.cache,ca(s,Ut,p),p!==w.cache&&im(s,[Ut],c,!0),$l(),p=C.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=PS(o,s,p,c);break e}else if(p!==x){x=vr(Error(r(424)),s),kl(x),s=PS(o,s,p,c);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(xt=wr(o.firstChild),hn=s,Ze=!0,la=null,xr=!0,c=Tw(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(to(),p===x){s=xi(o,s,c);break e}mn(o,s,p,c)}s=s.child}return s;case 26:return id(o,s),o===null?(c=VE(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ze||(c=s.type,o=s.pendingProps,p=_d(fe.current).createElement(c),p[fn]=s,p[Un]=o,gn(p,c,o),tn(p),s.stateNode=p):s.memoizedState=VE(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return ve(s),o===null&&Ze&&(p=s.stateNode=BE(s.type,s.pendingProps,fe.current),hn=s,xr=!0,x=xt,Sa(s.type)?(Sg=x,xt=wr(p.firstChild)):xt=x),mn(o,s,s.pendingProps.children,c),id(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Ze&&((x=p=xt)&&(p=SU(p,s.type,s.pendingProps,xr),p!==null?(s.stateNode=p,hn=s,xt=wr(p.firstChild),xr=!1,x=!0):x=!1),x||ua(s)),ve(s),x=s.type,w=s.pendingProps,C=o!==null?o.memoizedProps:null,p=w.children,yg(x,w)?p=null:C!==null&&yg(x,C)&&(s.flags|=32),s.memoizedState!==null&&(x=vm(o,s,UL,null,null,c),lu._currentValue=x),id(o,s),mn(o,s,p,c),s.child;case 6:return o===null&&Ze&&((o=c=xt)&&(c=EU(c,s.pendingProps,xr),c!==null?(s.stateNode=c,hn=s,xt=null,o=!0):o=!1),o||ua(s)),null;case 13:return OS(o,s,c);case 4:return Ke(s,s.stateNode.containerInfo),p=s.pendingProps,o===null?s.child=so(s,null,p,c):mn(o,s,p,c),s.child;case 11:return wS(o,s,s.type,s.pendingProps,c);case 7:return mn(o,s,s.pendingProps,c),s.child;case 8:return mn(o,s,s.pendingProps.children,c),s.child;case 12:return mn(o,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,ca(s,s.type,p.value),mn(o,s,p.children,c),s.child;case 9:return x=s.type._context,p=s.pendingProps.children,ro(s),x=pn(x),p=p(x),s.flags|=1,mn(o,s,p,c),s.child;case 14:return SS(o,s,s.type,s.pendingProps,c);case 15:return ES(o,s,s.type,s.pendingProps,c);case 19:return MS(o,s,c);case 31:return FL(o,s,c);case 22:return TS(o,s,c,s.pendingProps);case 24:return ro(s),p=pn(Ut),o===null?(x=sm(),x===null&&(x=pt,w=am(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=c),x=w),s.memoizedState={parent:p,cache:x},um(s),ca(s,Ut,x)):((o.lanes&c)!==0&&(cm(o,s),Bl(s,null,null,c),$l()),x=o.memoizedState,w=s.memoizedState,x.parent!==p?(x={parent:p,cache:p},s.memoizedState=x,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=x),ca(s,Ut,p)):(p=w.cache,ca(s,Ut,p),p!==x.cache&&im(s,[Ut],c,!0))),mn(o,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function _i(o){o.flags|=4}function Vm(o,s,c,p,x){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(sE())o.flags|=8192;else throw oo=Hc,lm}else o.flags&=-16777217}function kS(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!JE(s))if(sE())o.flags|=8192;else throw oo=Hc,lm}function od(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?Oe():536870912,o.lanes|=s,xs|=s)}function Yl(o,s){if(!Ze)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function _t(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(s)for(var x=o.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=p,o.childLanes=c,s}function YL(o,s,c){var p=s.pendingProps;switch(Zp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return c=s.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),vi(Ut),Q(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(ss(s)?_i(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tm())),_t(s),null;case 26:var x=s.type,w=s.memoizedState;return o===null?(_i(s),w!==null?(_t(s),kS(s,w)):(_t(s),Vm(s,x,null,p,c))):w?w!==o.memoizedState?(_i(s),_t(s),kS(s,w)):(_t(s),s.flags&=-16777217):(o=o.memoizedProps,o!==p&&_i(s),_t(s),Vm(s,x,o,p,c)),null;case 27:if(Ie(s),c=fe.current,x=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&_i(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return _t(s),null}o=de.current,ss(s)?pw(s):(o=BE(x,p,c),s.stateNode=o,_i(s))}return _t(s),null;case 5:if(Ie(s),x=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&_i(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return _t(s),null}if(w=de.current,ss(s))pw(s);else{var C=_d(fe.current);switch(w){case 1:w=C.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:w=C.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":w=C.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":w=C.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":w=C.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?C.createElement("select",{is:p.is}):C.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?C.createElement(x,{is:p.is}):C.createElement(x)}}w[fn]=s,w[Un]=p;e:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)w.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break e;for(;C.sibling===null;){if(C.return===null||C.return===s)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=w;e:switch(gn(w,x,p),x){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&_i(s)}}return _t(s),Vm(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,c),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==p&&_i(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(o=fe.current,ss(s)){if(o=s.stateNode,c=s.memoizedProps,p=null,x=hn,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}o[fn]=s,o=!!(o.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||OE(o.nodeValue,c)),o||ua(s,!0)}else o=_d(o).createTextNode(p),o[fn]=s,s.stateNode=o}return _t(s),null;case 31:if(c=s.memoizedState,o===null||o.memoizedState!==null){if(p=ss(s),c!==null){if(o===null){if(!p)throw Error(r(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[fn]=s}else to(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),o=!1}else c=tm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=c),o=!0;if(!o)return s.flags&256?(er(s),s):(er(s),null);if((s.flags&128)!==0)throw Error(r(558))}return _t(s),null;case 13:if(p=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=ss(s),p!==null&&p.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[fn]=s}else to(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),x=!1}else x=tm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return s.flags&256?(er(s),s):(er(s),null)}return er(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,o=o!==null&&o.memoizedState!==null,c&&(p=s.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==x&&(p.flags|=2048)),c!==o&&c&&(s.child.flags|=8192),od(s,s.updateQueue),_t(s),null);case 4:return Q(),o===null&&hg(s.stateNode.containerInfo),_t(s),null;case 10:return vi(s.type),_t(s),null;case 19:if(X(Dt),p=s.memoizedState,p===null)return _t(s),null;if(x=(s.flags&128)!==0,w=p.rendering,w===null)if(x)Yl(p,!1);else{if(Mt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(w=Kc(o),w!==null){for(s.flags|=128,Yl(p,!1),o=w.updateQueue,s.updateQueue=o,od(s,o),s.subtreeFlags=0,o=c,c=s.child;c!==null;)uw(c,o),c=c.sibling;return he(Dt,Dt.current&1|2),Ze&&mi(s,p.treeForkCount),s.child}o=o.sibling}p.tail!==null&&Ft()>dd&&(s.flags|=128,x=!0,Yl(p,!1),s.lanes=4194304)}else{if(!x)if(o=Kc(w),o!==null){if(s.flags|=128,x=!0,o=o.updateQueue,s.updateQueue=o,od(s,o),Yl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Ze)return _t(s),null}else 2*Ft()-p.renderingStartTime>dd&&c!==536870912&&(s.flags|=128,x=!0,Yl(p,!1),s.lanes=4194304);p.isBackwards?(w.sibling=s.child,s.child=w):(o=p.last,o!==null?o.sibling=w:s.child=w,p.last=w)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Ft(),o.sibling=null,c=Dt.current,he(Dt,x?c&1|2:c&1),Ze&&mi(s,p.treeForkCount),o):(_t(s),null);case 22:case 23:return er(s),pm(),p=s.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),c=s.updateQueue,c!==null&&od(s,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),o!==null&&X(io),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),vi(Ut),_t(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function WL(o,s){switch(Zp(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return vi(Ut),Q(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Ie(s),null;case 31:if(s.memoizedState!==null){if(er(s),s.alternate===null)throw Error(r(340));to()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(er(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));to()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return X(Dt),null;case 4:return Q(),null;case 10:return vi(s.type),null;case 22:case 23:return er(s),pm(),o!==null&&X(io),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return vi(Ut),null;case 25:return null;default:return null}}function jS(o,s){switch(Zp(s),s.tag){case 3:vi(Ut),Q();break;case 26:case 27:case 5:Ie(s);break;case 4:Q();break;case 31:s.memoizedState!==null&&er(s);break;case 13:er(s);break;case 19:X(Dt);break;case 10:vi(s.type);break;case 22:case 23:er(s),pm(),o!==null&&X(io);break;case 24:vi(Ut)}}function Wl(o,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var x=p.next;c=x;do{if((c.tag&o)===o){p=void 0;var w=c.create,C=c.inst;p=w(),C.destroy=p}c=c.next}while(c!==x)}}catch(O){ot(s,s.return,O)}}function ga(o,s,c){try{var p=s.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var w=x.next;p=w;do{if((p.tag&o)===o){var C=p.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,x=s;var j=c,F=O;try{F()}catch(ne){ot(x,j,ne)}}}p=p.next}while(p!==w)}}catch(ne){ot(s,s.return,ne)}}function LS(o){var s=o.updateQueue;if(s!==null){var c=o.stateNode;try{Cw(s,c)}catch(p){ot(o,o.return,p)}}}function US(o,s,c){c.props=uo(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(p){ot(o,s,p)}}function Jl(o,s){try{var c=o.ref;if(c!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof c=="function"?o.refCleanup=c(p):c.current=p}}catch(x){ot(o,s,x)}}function Xr(o,s){var c=o.ref,p=o.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(x){ot(o,s,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){ot(o,s,x)}else c.current=null}function qS(o){var s=o.type,c=o.memoizedProps,p=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(x){ot(o,o.return,x)}}function Fm(o,s,c){try{var p=o.stateNode;vU(p,o.type,c,s),p[Un]=s}catch(x){ot(o,o.return,x)}}function zS(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Sa(o.type)||o.tag===4}function Km(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||zS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Sa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ym(o,s,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(o,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(o),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=fi));else if(p!==4&&(p===27&&Sa(o.type)&&(c=o.stateNode,s=null),o=o.child,o!==null))for(Ym(o,s,c),o=o.sibling;o!==null;)Ym(o,s,c),o=o.sibling}function sd(o,s,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(p!==4&&(p===27&&Sa(o.type)&&(c=o.stateNode),o=o.child,o!==null))for(sd(o,s,c),o=o.sibling;o!==null;)sd(o,s,c),o=o.sibling}function $S(o){var s=o.stateNode,c=o.memoizedProps;try{for(var p=o.type,x=s.attributes;x.length;)s.removeAttributeNode(x[0]);gn(s,p,c),s[fn]=o,s[Un]=c}catch(w){ot(o,o.return,w)}}var wi=!1,$t=!1,Wm=!1,BS=typeof WeakSet=="function"?WeakSet:Set,nn=null;function JL(o,s){if(o=o.containerInfo,gg=Nd,o=ew(o),Bp(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var x=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var C=0,O=-1,j=-1,F=0,ne=0,se=o,Y=null;t:for(;;){for(var Z;se!==c||x!==0&&se.nodeType!==3||(O=C+x),se!==w||p!==0&&se.nodeType!==3||(j=C+p),se.nodeType===3&&(C+=se.nodeValue.length),(Z=se.firstChild)!==null;)Y=se,se=Z;for(;;){if(se===o)break t;if(Y===c&&++F===x&&(O=C),Y===w&&++ne===p&&(j=C),(Z=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=Z}c=O===-1||j===-1?null:{start:O,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(vg={focusedElem:o,selectionRange:c},Nd=!1,nn=s;nn!==null;)if(s=nn,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,nn=o;else for(;nn!==null;){switch(s=nn,w=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(c=0;c<o.length;c++)x=o[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,c=s,x=w.memoizedProps,w=w.memoizedState,p=c.stateNode;try{var Te=uo(c.type,x);o=p.getSnapshotBeforeUpdate(Te,w),p.__reactInternalSnapshotBeforeUpdate=o}catch(qe){ot(c,c.return,qe)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,c=o.nodeType,c===9)xg(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":xg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,nn=o;break}nn=s.return}}function HS(o,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Ei(o,c),p&4&&Wl(5,c);break;case 1:if(Ei(o,c),p&4)if(o=c.stateNode,s===null)try{o.componentDidMount()}catch(C){ot(c,c.return,C)}else{var x=uo(c.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(x,s,o.__reactInternalSnapshotBeforeUpdate)}catch(C){ot(c,c.return,C)}}p&64&&LS(c),p&512&&Jl(c,c.return);break;case 3:if(Ei(o,c),p&64&&(o=c.updateQueue,o!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Cw(o,s)}catch(C){ot(c,c.return,C)}}break;case 27:s===null&&p&4&&$S(c);case 26:case 5:Ei(o,c),s===null&&p&4&&qS(c),p&512&&Jl(c,c.return);break;case 12:Ei(o,c);break;case 31:Ei(o,c),p&4&&FS(o,c);break;case 13:Ei(o,c),p&4&&KS(o,c),p&64&&(o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(c=aU.bind(null,c),TU(o,c))));break;case 22:if(p=c.memoizedState!==null||wi,!p){s=s!==null&&s.memoizedState!==null||$t,x=wi;var w=$t;wi=p,($t=s)&&!w?Ti(o,c,(c.subtreeFlags&8772)!==0):Ei(o,c),wi=x,$t=w}break;case 30:break;default:Ei(o,c)}}function GS(o){var s=o.alternate;s!==null&&(o.alternate=null,GS(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Tp(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Tt=null,zn=!1;function Si(o,s,c){for(c=c.child;c!==null;)VS(o,s,c),c=c.sibling}function VS(o,s,c){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ht,c)}catch{}switch(c.tag){case 26:$t||Xr(c,s),Si(o,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:$t||Xr(c,s);var p=Tt,x=zn;Sa(c.type)&&(Tt=c.stateNode,zn=!1),Si(o,s,c),au(c.stateNode),Tt=p,zn=x;break;case 5:$t||Xr(c,s);case 6:if(p=Tt,x=zn,Tt=null,Si(o,s,c),Tt=p,zn=x,Tt!==null)if(zn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(c.stateNode)}catch(w){ot(c,s,w)}else try{Tt.removeChild(c.stateNode)}catch(w){ot(c,s,w)}break;case 18:Tt!==null&&(zn?(o=Tt,LE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,c.stateNode),Ns(o)):LE(Tt,c.stateNode));break;case 4:p=Tt,x=zn,Tt=c.stateNode.containerInfo,zn=!0,Si(o,s,c),Tt=p,zn=x;break;case 0:case 11:case 14:case 15:ga(2,c,s),$t||ga(4,c,s),Si(o,s,c);break;case 1:$t||(Xr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&US(c,s,p)),Si(o,s,c);break;case 21:Si(o,s,c);break;case 22:$t=(p=$t)||c.memoizedState!==null,Si(o,s,c),$t=p;break;default:Si(o,s,c)}}function FS(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Ns(o)}catch(c){ot(s,s.return,c)}}}function KS(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ns(o)}catch(c){ot(s,s.return,c)}}function XL(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new BS),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new BS),s;default:throw Error(r(435,o.tag))}}function ld(o,s){var c=XL(o);s.forEach(function(p){if(!c.has(p)){c.add(p);var x=oU.bind(null,o,p);p.then(x,x)}})}function $n(o,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var x=c[p],w=o,C=s,O=C;e:for(;O!==null;){switch(O.tag){case 27:if(Sa(O.type)){Tt=O.stateNode,zn=!1;break e}break;case 5:Tt=O.stateNode,zn=!1;break e;case 3:case 4:Tt=O.stateNode.containerInfo,zn=!0;break e}O=O.return}if(Tt===null)throw Error(r(160));VS(w,C,x),Tt=null,zn=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)YS(s,o),s=s.sibling}var kr=null;function YS(o,s){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:$n(s,o),Bn(o),p&4&&(ga(3,o,o.return),Wl(3,o),ga(5,o,o.return));break;case 1:$n(s,o),Bn(o),p&512&&($t||c===null||Xr(c,c.return)),p&64&&wi&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var x=kr;if($n(s,o),Bn(o),p&512&&($t||c===null||Xr(c,c.return)),p&4){var w=c!==null?c.memoizedState:null;if(p=o.memoizedState,c===null)if(p===null)if(o.stateNode===null){e:{p=o.type,c=o.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":w=x.getElementsByTagName("title")[0],(!w||w[Sl]||w[fn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(p),x.head.insertBefore(w,x.querySelector("head > title"))),gn(w,p,c),w[fn]=o,tn(w),p=w;break e;case"link":var C=YE("link","href",x).get(p+(c.href||""));if(C){for(var O=0;O<C.length;O++)if(w=C[O],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(O,1);break t}}w=x.createElement(p),gn(w,p,c),x.head.appendChild(w);break;case"meta":if(C=YE("meta","content",x).get(p+(c.content||""))){for(O=0;O<C.length;O++)if(w=C[O],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(O,1);break t}}w=x.createElement(p),gn(w,p,c),x.head.appendChild(w);break;default:throw Error(r(468,p))}w[fn]=o,tn(w),p=w}o.stateNode=p}else WE(x,o.type,o.stateNode);else o.stateNode=KE(x,p,o.memoizedProps);else w!==p?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,p===null?WE(x,o.type,o.stateNode):KE(x,p,o.memoizedProps)):p===null&&o.stateNode!==null&&Fm(o,o.memoizedProps,c.memoizedProps)}break;case 27:$n(s,o),Bn(o),p&512&&($t||c===null||Xr(c,c.return)),c!==null&&p&4&&Fm(o,o.memoizedProps,c.memoizedProps);break;case 5:if($n(s,o),Bn(o),p&512&&($t||c===null||Xr(c,c.return)),o.flags&32){x=o.stateNode;try{Xo(x,"")}catch(Te){ot(o,o.return,Te)}}p&4&&o.stateNode!=null&&(x=o.memoizedProps,Fm(o,x,c!==null?c.memoizedProps:x)),p&1024&&(Wm=!0);break;case 6:if($n(s,o),Bn(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,c=o.stateNode;try{c.nodeValue=p}catch(Te){ot(o,o.return,Te)}}break;case 3:if(Ed=null,x=kr,kr=wd(s.containerInfo),$n(s,o),kr=x,Bn(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Ns(s.containerInfo)}catch(Te){ot(o,o.return,Te)}Wm&&(Wm=!1,WS(o));break;case 4:p=kr,kr=wd(o.stateNode.containerInfo),$n(s,o),Bn(o),kr=p;break;case 12:$n(s,o),Bn(o);break;case 31:$n(s,o),Bn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,ld(o,p)));break;case 13:$n(s,o),Bn(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(cd=Ft()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,ld(o,p)));break;case 22:x=o.memoizedState!==null;var j=c!==null&&c.memoizedState!==null,F=wi,ne=$t;if(wi=F||x,$t=ne||j,$n(s,o),$t=ne,wi=F,Bn(o),p&8192)e:for(s=o.stateNode,s._visibility=x?s._visibility&-2:s._visibility|1,x&&(c===null||j||wi||$t||co(o)),c=null,s=o;;){if(s.tag===5||s.tag===26){if(c===null){j=c=s;try{if(w=j.stateNode,x)C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=j.stateNode;var se=j.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;O.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Te){ot(j,j.return,Te)}}}else if(s.tag===6){if(c===null){j=s;try{j.stateNode.nodeValue=x?"":j.memoizedProps}catch(Te){ot(j,j.return,Te)}}}else if(s.tag===18){if(c===null){j=s;try{var Z=j.stateNode;x?UE(Z,!0):UE(j.stateNode,!1)}catch(Te){ot(j,j.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=o.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,ld(o,c))));break;case 19:$n(s,o),Bn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,ld(o,p)));break;case 30:break;case 21:break;default:$n(s,o),Bn(o)}}function Bn(o){var s=o.flags;if(s&2){try{for(var c,p=o.return;p!==null;){if(zS(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var x=c.stateNode,w=Km(o);sd(o,w,x);break;case 5:var C=c.stateNode;c.flags&32&&(Xo(C,""),c.flags&=-33);var O=Km(o);sd(o,O,C);break;case 3:case 4:var j=c.stateNode.containerInfo,F=Km(o);Ym(o,F,j);break;default:throw Error(r(161))}}catch(ne){ot(o,o.return,ne)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function WS(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;WS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function Ei(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)HS(o,s.alternate,s),s=s.sibling}function co(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:ga(4,s,s.return),co(s);break;case 1:Xr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&US(s,s.return,c),co(s);break;case 27:au(s.stateNode);case 26:case 5:Xr(s,s.return),co(s);break;case 22:s.memoizedState===null&&co(s);break;case 30:co(s);break;default:co(s)}o=o.sibling}}function Ti(o,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,x=o,w=s,C=w.flags;switch(w.tag){case 0:case 11:case 15:Ti(x,w,c),Wl(4,w);break;case 1:if(Ti(x,w,c),p=w,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(F){ot(p,p.return,F)}if(p=w,x=p.updateQueue,x!==null){var O=p.stateNode;try{var j=x.shared.hiddenCallbacks;if(j!==null)for(x.shared.hiddenCallbacks=null,x=0;x<j.length;x++)Aw(j[x],O)}catch(F){ot(p,p.return,F)}}c&&C&64&&LS(w),Jl(w,w.return);break;case 27:$S(w);case 26:case 5:Ti(x,w,c),c&&p===null&&C&4&&qS(w),Jl(w,w.return);break;case 12:Ti(x,w,c);break;case 31:Ti(x,w,c),c&&C&4&&FS(x,w);break;case 13:Ti(x,w,c),c&&C&4&&KS(x,w);break;case 22:w.memoizedState===null&&Ti(x,w,c),Jl(w,w.return);break;case 30:break;default:Ti(x,w,c)}s=s.sibling}}function Jm(o,s){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&jl(c))}function Xm(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&jl(o))}function jr(o,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)JS(o,s,c,p),s=s.sibling}function JS(o,s,c,p){var x=s.flags;switch(s.tag){case 0:case 11:case 15:jr(o,s,c,p),x&2048&&Wl(9,s);break;case 1:jr(o,s,c,p);break;case 3:jr(o,s,c,p),x&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&jl(o)));break;case 12:if(x&2048){jr(o,s,c,p),o=s.stateNode;try{var w=s.memoizedProps,C=w.id,O=w.onPostCommit;typeof O=="function"&&O(C,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(j){ot(s,s.return,j)}}else jr(o,s,c,p);break;case 31:jr(o,s,c,p);break;case 13:jr(o,s,c,p);break;case 23:break;case 22:w=s.stateNode,C=s.alternate,s.memoizedState!==null?w._visibility&2?jr(o,s,c,p):Xl(o,s):w._visibility&2?jr(o,s,c,p):(w._visibility|=2,vs(o,s,c,p,(s.subtreeFlags&10256)!==0||!1)),x&2048&&Jm(C,s);break;case 24:jr(o,s,c,p),x&2048&&Xm(s.alternate,s);break;default:jr(o,s,c,p)}}function vs(o,s,c,p,x){for(x=x&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var w=o,C=s,O=c,j=p,F=C.flags;switch(C.tag){case 0:case 11:case 15:vs(w,C,O,j,x),Wl(8,C);break;case 23:break;case 22:var ne=C.stateNode;C.memoizedState!==null?ne._visibility&2?vs(w,C,O,j,x):Xl(w,C):(ne._visibility|=2,vs(w,C,O,j,x)),x&&F&2048&&Jm(C.alternate,C);break;case 24:vs(w,C,O,j,x),x&&F&2048&&Xm(C.alternate,C);break;default:vs(w,C,O,j,x)}s=s.sibling}}function Xl(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=o,p=s,x=p.flags;switch(p.tag){case 22:Xl(c,p),x&2048&&Jm(p.alternate,p);break;case 24:Xl(c,p),x&2048&&Xm(p.alternate,p);break;default:Xl(c,p)}s=s.sibling}}var Ql=8192;function ys(o,s,c){if(o.subtreeFlags&Ql)for(o=o.child;o!==null;)XS(o,s,c),o=o.sibling}function XS(o,s,c){switch(o.tag){case 26:ys(o,s,c),o.flags&Ql&&o.memoizedState!==null&&LU(c,kr,o.memoizedState,o.memoizedProps);break;case 5:ys(o,s,c);break;case 3:case 4:var p=kr;kr=wd(o.stateNode.containerInfo),ys(o,s,c),kr=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=Ql,Ql=16777216,ys(o,s,c),Ql=p):ys(o,s,c));break;default:ys(o,s,c)}}function QS(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function Zl(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];nn=p,eE(p,o)}QS(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ZS(o),o=o.sibling}function ZS(o){switch(o.tag){case 0:case 11:case 15:Zl(o),o.flags&2048&&ga(9,o,o.return);break;case 3:Zl(o);break;case 12:Zl(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,ud(o)):Zl(o);break;default:Zl(o)}}function ud(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];nn=p,eE(p,o)}QS(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:ga(8,s,s.return),ud(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,ud(s));break;default:ud(s)}o=o.sibling}}function eE(o,s){for(;nn!==null;){var c=nn;switch(c.tag){case 0:case 11:case 15:ga(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:jl(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,nn=p;else e:for(c=o;nn!==null;){p=nn;var x=p.sibling,w=p.return;if(GS(p),p===c){nn=null;break e}if(x!==null){x.return=w,nn=x;break e}nn=w}}}var QL={getCacheForType:function(o){var s=pn(Ut),c=s.data.get(o);return c===void 0&&(c=o(),s.data.set(o,c)),c},cacheSignal:function(){return pn(Ut).controller.signal}},ZL=typeof WeakMap=="function"?WeakMap:Map,it=0,pt=null,We=null,Xe=0,at=0,tr=null,va=!1,bs=!1,Qm=!1,Ai=0,Mt=0,ya=0,fo=0,Zm=0,nr=0,xs=0,eu=null,Hn=null,eg=!1,cd=0,tE=0,dd=1/0,fd=null,ba=null,Kt=0,xa=null,_s=null,Ci=0,tg=0,ng=null,nE=null,tu=0,rg=null;function rr(){return(it&2)!==0&&Xe!==0?Xe&-Xe:B.T!==null?ug():y_()}function rE(){if(nr===0)if((Xe&536870912)===0||Ze){var o=Ho;Ho<<=1,(Ho&3932160)===0&&(Ho=262144),nr=o}else nr=536870912;return o=Zn.current,o!==null&&(o.flags|=32),nr}function Gn(o,s,c){(o===pt&&(at===2||at===9)||o.cancelPendingCommit!==null)&&(ws(o,0),_a(o,Xe,nr,!1)),ia(o,c),((it&2)===0||o!==pt)&&(o===pt&&((it&2)===0&&(fo|=c),Mt===4&&_a(o,Xe,nr,!1)),Qr(o))}function iE(o,s,c){if((it&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&o.expiredLanes)===0||ra(o,s),x=p?nU(o,s):ag(o,s,!0),w=p;do{if(x===0){bs&&!p&&_a(o,s,0,!1);break}else{if(c=o.current.alternate,w&&!eU(c)){x=ag(o,s,!1),w=!1;continue}if(x===2){if(w=s,o.errorRecoveryDisabledLanes&w)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var O=o;x=eu;var j=O.current.memoizedState.isDehydrated;if(j&&(ws(O,C).flags|=256),C=ag(O,C,!1),C!==2){if(Qm&&!j){O.errorRecoveryDisabledLanes|=w,fo|=w,x=4;break e}w=Hn,Hn=x,w!==null&&(Hn===null?Hn=w:Hn.push.apply(Hn,w))}x=C}if(w=!1,x!==2)continue}}if(x===1){ws(o,0),_a(o,s,0,!0);break}e:{switch(p=o,w=x,w){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:_a(p,s,nr,!va);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(x=cd+300-Ft(),10<x)){if(_a(p,s,nr,!va),Go(p,0,!0)!==0)break e;Ci=s,p.timeoutHandle=kE(aE.bind(null,p,c,Hn,fd,eg,s,nr,fo,xs,va,w,"Throttled",-0,0),x);break e}aE(p,c,Hn,fd,eg,s,nr,fo,xs,va,w,null,-0,0)}}break}while(!0);Qr(o)}function aE(o,s,c,p,x,w,C,O,j,F,ne,se,Y,Z){if(o.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},XS(s,w,se);var Te=(w&62914560)===w?cd-Ft():(w&4194048)===w?tE-Ft():0;if(Te=UU(se,Te),Te!==null){Ci=w,o.cancelPendingCommit=Te(hE.bind(null,o,s,w,c,p,x,C,O,j,ne,se,null,Y,Z)),_a(o,w,C,!F);return}}hE(o,s,w,c,p,x,C,O,j)}function eU(o){for(var s=o;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var x=c[p],w=x.getSnapshot;x=x.value;try{if(!Xn(w(),x))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _a(o,s,c,p){s&=~Zm,s&=~fo,o.suspendedLanes|=s,o.pingedLanes&=~s,p&&(o.warmLanes|=s),p=o.expirationTimes;for(var x=s;0<x;){var w=31-Nn(x),C=1<<w;p[w]=-1,x&=~C}c!==0&&m_(o,c,s)}function hd(){return(it&6)===0?(nu(0),!1):!0}function ig(){if(We!==null){if(at===0)var o=We.return;else o=We,gi=no=null,xm(o),fs=null,Ul=0,o=We;for(;o!==null;)jS(o.alternate,o),o=o.return;We=null}}function ws(o,s){var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,xU(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),Ci=0,ig(),pt=o,We=c=pi(o.current,null),Xe=s,at=0,tr=null,va=!1,bs=ra(o,s),Qm=!1,xs=nr=Zm=fo=ya=Mt=0,Hn=eu=null,eg=!1,(s&8)!==0&&(s|=s&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=s;0<p;){var x=31-Nn(p),w=1<<x;s|=o[x],p&=~w}return Ai=s,Dc(),c}function oE(o,s){Ge=null,B.H=Fl,s===ds||s===Bc?(s=ww(),at=3):s===lm?(s=ww(),at=4):at=s===jm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,tr=s,We===null&&(Mt=1,nd(o,vr(s,o.current)))}function sE(){var o=Zn.current;return o===null?!0:(Xe&4194048)===Xe?_r===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?o===_r:!1}function lE(){var o=B.H;return B.H=Fl,o===null?Fl:o}function uE(){var o=B.A;return B.A=QL,o}function pd(){Mt=4,va||(Xe&4194048)!==Xe&&Zn.current!==null||(bs=!0),(ya&134217727)===0&&(fo&134217727)===0||pt===null||_a(pt,Xe,nr,!1)}function ag(o,s,c){var p=it;it|=2;var x=lE(),w=uE();(pt!==o||Xe!==s)&&(fd=null,ws(o,s)),s=!1;var C=Mt;e:do try{if(at!==0&&We!==null){var O=We,j=tr;switch(at){case 8:ig(),C=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(s=!0);var F=at;if(at=0,tr=null,Ss(o,O,j,F),c&&bs){C=0;break e}break;default:F=at,at=0,tr=null,Ss(o,O,j,F)}}tU(),C=Mt;break}catch(ne){oE(o,ne)}while(!0);return s&&o.shellSuspendCounter++,gi=no=null,it=p,B.H=x,B.A=w,We===null&&(pt=null,Xe=0,Dc()),C}function tU(){for(;We!==null;)cE(We)}function nU(o,s){var c=it;it|=2;var p=lE(),x=uE();pt!==o||Xe!==s?(fd=null,dd=Ft()+500,ws(o,s)):bs=ra(o,s);e:do try{if(at!==0&&We!==null){s=We;var w=tr;t:switch(at){case 1:at=0,tr=null,Ss(o,s,w,1);break;case 2:case 9:if(xw(w)){at=0,tr=null,dE(s);break}s=function(){at!==2&&at!==9||pt!==o||(at=7),Qr(o)},w.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:xw(w)?(at=0,tr=null,dE(s)):(at=0,tr=null,Ss(o,s,w,7));break;case 5:var C=null;switch(We.tag){case 26:C=We.memoizedState;case 5:case 27:var O=We;if(C?JE(C):O.stateNode.complete){at=0,tr=null;var j=O.sibling;if(j!==null)We=j;else{var F=O.return;F!==null?(We=F,md(F)):We=null}break t}}at=0,tr=null,Ss(o,s,w,5);break;case 6:at=0,tr=null,Ss(o,s,w,6);break;case 8:ig(),Mt=6;break e;default:throw Error(r(462))}}rU();break}catch(ne){oE(o,ne)}while(!0);return gi=no=null,B.H=p,B.A=x,it=c,We!==null?0:(pt=null,Xe=0,Dc(),Mt)}function rU(){for(;We!==null&&!Lt();)cE(We)}function cE(o){var s=DS(o.alternate,o,Ai);o.memoizedProps=o.pendingProps,s===null?md(o):We=s}function dE(o){var s=o,c=s.alternate;switch(s.tag){case 15:case 0:s=NS(c,s,s.pendingProps,s.type,void 0,Xe);break;case 11:s=NS(c,s,s.pendingProps,s.type.render,s.ref,Xe);break;case 5:xm(s);default:jS(c,s),s=We=uw(s,Ai),s=DS(c,s,Ai)}o.memoizedProps=o.pendingProps,s===null?md(o):We=s}function Ss(o,s,c,p){gi=no=null,xm(s),fs=null,Ul=0;var x=s.return;try{if(VL(o,x,s,c,Xe)){Mt=1,nd(o,vr(c,o.current)),We=null;return}}catch(w){if(x!==null)throw We=x,w;Mt=1,nd(o,vr(c,o.current)),We=null;return}s.flags&32768?(Ze||p===1?o=!0:bs||(Xe&536870912)!==0?o=!1:(va=o=!0,(p===2||p===9||p===3||p===6)&&(p=Zn.current,p!==null&&p.tag===13&&(p.flags|=16384))),fE(s,o)):md(s)}function md(o){var s=o;do{if((s.flags&32768)!==0){fE(s,va);return}o=s.return;var c=YL(s.alternate,s,Ai);if(c!==null){We=c;return}if(s=s.sibling,s!==null){We=s;return}We=s=o}while(s!==null);Mt===0&&(Mt=5)}function fE(o,s){do{var c=WL(o.alternate,o);if(c!==null){c.flags&=32767,We=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(o=o.sibling,o!==null)){We=o;return}We=o=c}while(o!==null);Mt=6,We=null}function hE(o,s,c,p,x,w,C,O,j){o.cancelPendingCommit=null;do gd();while(Kt!==0);if((it&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(w=s.lanes|s.childLanes,w|=Kp,Ya(o,c,w,C,O,j),o===pt&&(We=pt=null,Xe=0),_s=s,xa=o,Ci=c,tg=w,ng=x,nE=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,sU(jn,function(){return yE(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,x=J.p,J.p=2,C=it,it|=4;try{JL(o,s,c)}finally{it=C,J.p=x,B.T=p}}Kt=1,pE(),mE(),gE()}}function pE(){if(Kt===1){Kt=0;var o=xa,s=_s,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var p=J.p;J.p=2;var x=it;it|=4;try{YS(s,o);var w=vg,C=ew(o.containerInfo),O=w.focusedElem,j=w.selectionRange;if(C!==O&&O&&O.ownerDocument&&Z_(O.ownerDocument.documentElement,O)){if(j!==null&&Bp(O)){var F=j.start,ne=j.end;if(ne===void 0&&(ne=F),"selectionStart"in O)O.selectionStart=F,O.selectionEnd=Math.min(ne,O.value.length);else{var se=O.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),Te=O.textContent.length,qe=Math.min(j.start,Te),dt=j.end===void 0?qe:Math.min(j.end,Te);!Z.extend&&qe>dt&&(C=dt,dt=qe,qe=C);var $=Q_(O,qe),q=Q_(O,dt);if($&&q&&(Z.rangeCount!==1||Z.anchorNode!==$.node||Z.anchorOffset!==$.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var V=se.createRange();V.setStart($.node,$.offset),Z.removeAllRanges(),qe>dt?(Z.addRange(V),Z.extend(q.node,q.offset)):(V.setEnd(q.node,q.offset),Z.addRange(V))}}}}for(se=[],Z=O;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<se.length;O++){var ie=se[O];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Nd=!!gg,vg=gg=null}finally{it=x,J.p=p,B.T=c}}o.current=s,Kt=2}}function mE(){if(Kt===2){Kt=0;var o=xa,s=_s,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var p=J.p;J.p=2;var x=it;it|=4;try{HS(o,s.alternate,s)}finally{it=x,J.p=p,B.T=c}}Kt=3}}function gE(){if(Kt===4||Kt===3){Kt=0,Jn();var o=xa,s=_s,c=Ci,p=nE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kt=5:(Kt=0,_s=xa=null,vE(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(ba=null),Sp(c),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ht,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=B.T,x=J.p,J.p=2,B.T=null;try{for(var w=o.onRecoverableError,C=0;C<p.length;C++){var O=p[C];w(O.value,{componentStack:O.stack})}}finally{B.T=s,J.p=x}}(Ci&3)!==0&&gd(),Qr(o),x=o.pendingLanes,(c&261930)!==0&&(x&42)!==0?o===rg?tu++:(tu=0,rg=o):tu=0,nu(0)}}function vE(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,jl(s)))}function gd(){return pE(),mE(),gE(),yE()}function yE(){if(Kt!==5)return!1;var o=xa,s=tg;tg=0;var c=Sp(Ci),p=B.T,x=J.p;try{J.p=32>c?32:c,B.T=null,c=ng,ng=null;var w=xa,C=Ci;if(Kt=0,_s=xa=null,Ci=0,(it&6)!==0)throw Error(r(331));var O=it;if(it|=4,ZS(w.current),JS(w,w.current,C,c),it=O,nu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ht,w)}catch{}return!0}finally{J.p=x,B.T=p,vE(o,s)}}function bE(o,s,c){s=vr(c,s),s=km(o.stateNode,s,2),o=ha(o,s,2),o!==null&&(ia(o,2),Qr(o))}function ot(o,s,c){if(o.tag===3)bE(o,o,c);else for(;s!==null;){if(s.tag===3){bE(s,o,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ba===null||!ba.has(p))){o=vr(c,o),c=xS(2),p=ha(s,c,2),p!==null&&(_S(c,p,s,o),ia(p,2),Qr(p));break}}s=s.return}}function og(o,s,c){var p=o.pingCache;if(p===null){p=o.pingCache=new ZL;var x=new Set;p.set(s,x)}else x=p.get(s),x===void 0&&(x=new Set,p.set(s,x));x.has(c)||(Qm=!0,x.add(c),o=iU.bind(null,o,s,c),s.then(o,o))}function iU(o,s,c){var p=o.pingCache;p!==null&&p.delete(s),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,pt===o&&(Xe&c)===c&&(Mt===4||Mt===3&&(Xe&62914560)===Xe&&300>Ft()-cd?(it&2)===0&&ws(o,0):Zm|=c,xs===Xe&&(xs=0)),Qr(o)}function xE(o,s){s===0&&(s=Oe()),o=Za(o,s),o!==null&&(ia(o,s),Qr(o))}function aU(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),xE(o,c)}function oU(o,s){var c=0;switch(o.tag){case 31:case 13:var p=o.stateNode,x=o.memoizedState;x!==null&&(c=x.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),xE(o,c)}function sU(o,s){return hr(o,s)}var vd=null,Es=null,sg=!1,yd=!1,lg=!1,wa=0;function Qr(o){o!==Es&&o.next===null&&(Es===null?vd=Es=o:Es=Es.next=o),yd=!0,sg||(sg=!0,uU())}function nu(o,s){if(!lg&&yd){lg=!0;do for(var c=!1,p=vd;p!==null;){if(o!==0){var x=p.pendingLanes;if(x===0)var w=0;else{var C=p.suspendedLanes,O=p.pingedLanes;w=(1<<31-Nn(42|o)+1)-1,w&=x&~(C&~O),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,EE(p,w))}else w=Xe,w=Go(p,p===pt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||ra(p,w)||(c=!0,EE(p,w));p=p.next}while(c);lg=!1}}function lU(){_E()}function _E(){yd=sg=!1;var o=0;wa!==0&&bU()&&(o=wa);for(var s=Ft(),c=null,p=vd;p!==null;){var x=p.next,w=wE(p,s);w===0?(p.next=null,c===null?vd=x:c.next=x,x===null&&(Es=c)):(c=p,(o!==0||(w&3)!==0)&&(yd=!0)),p=x}Kt!==0&&Kt!==5||nu(o),wa!==0&&(wa=0)}function wE(o,s){for(var c=o.suspendedLanes,p=o.pingedLanes,x=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var C=31-Nn(w),O=1<<C,j=x[C];j===-1?((O&c)===0||(O&p)!==0)&&(x[C]=te(O,s)):j<=s&&(o.expiredLanes|=O),w&=~O}if(s=pt,c=Xe,c=Go(o,o===s?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,c===0||o===s&&(at===2||at===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&na(p),o.callbackNode=null,o.callbackPriority=0;if((c&3)===0||ra(o,c)){if(s=c&-c,s===o.callbackPriority)return s;switch(p!==null&&na(p),Sp(c)){case 2:case 8:c=ui;break;case 32:c=jn;break;case 268435456:c=De;break;default:c=jn}return p=SE.bind(null,o),c=hr(c,p),o.callbackPriority=s,o.callbackNode=c,s}return p!==null&&p!==null&&na(p),o.callbackPriority=2,o.callbackNode=null,2}function SE(o,s){if(Kt!==0&&Kt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var c=o.callbackNode;if(gd()&&o.callbackNode!==c)return null;var p=Xe;return p=Go(o,o===pt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(iE(o,p,s),wE(o,Ft()),o.callbackNode!=null&&o.callbackNode===c?SE.bind(null,o):null)}function EE(o,s){if(gd())return null;iE(o,s,!0)}function uU(){_U(function(){(it&6)!==0?hr($o,lU):_E()})}function ug(){if(wa===0){var o=us;o===0&&(o=Bo,Bo<<=1,(Bo&261888)===0&&(Bo=256)),wa=o}return wa}function TE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ac(""+o)}function AE(o,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,o.id&&c.setAttribute("form",o.id),s.parentNode.insertBefore(c,s),o=new FormData(o),c.parentNode.removeChild(c),o}function cU(o,s,c,p,x){if(s==="submit"&&c&&c.stateNode===x){var w=TE((x[Un]||null).action),C=p.submitter;C&&(s=(s=C[Un]||null)?TE(s.formAction):C.getAttribute("formAction"),s!==null&&(w=s,C=null));var O=new Pc("action","action",null,p,x);o.push({event:O,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(wa!==0){var j=C?AE(x,C):new FormData(x);Rm(c,{pending:!0,data:j,method:x.method,action:w},null,j)}}else typeof w=="function"&&(O.preventDefault(),j=C?AE(x,C):new FormData(x),Rm(c,{pending:!0,data:j,method:x.method,action:w},w,j))},currentTarget:x}]})}}for(var cg=0;cg<Fp.length;cg++){var dg=Fp[cg],dU=dg.toLowerCase(),fU=dg[0].toUpperCase()+dg.slice(1);Dr(dU,"on"+fU)}Dr(rw,"onAnimationEnd"),Dr(iw,"onAnimationIteration"),Dr(aw,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(NL,"onTransitionRun"),Dr(RL,"onTransitionStart"),Dr(PL,"onTransitionCancel"),Dr(ow,"onTransitionEnd"),Wo("onMouseEnter",["mouseout","mouseover"]),Wo("onMouseLeave",["mouseout","mouseover"]),Wo("onPointerEnter",["pointerout","pointerover"]),Wo("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function CE(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],x=p.event;p=p.listeners;e:{var w=void 0;if(s)for(var C=p.length-1;0<=C;C--){var O=p[C],j=O.instance,F=O.currentTarget;if(O=O.listener,j!==w&&x.isPropagationStopped())break e;w=O,x.currentTarget=F;try{w(x)}catch(ne){Mc(ne)}x.currentTarget=null,w=j}else for(C=0;C<p.length;C++){if(O=p[C],j=O.instance,F=O.currentTarget,O=O.listener,j!==w&&x.isPropagationStopped())break e;w=O,x.currentTarget=F;try{w(x)}catch(ne){Mc(ne)}x.currentTarget=null,w=j}}}}function Je(o,s){var c=s[Ep];c===void 0&&(c=s[Ep]=new Set);var p=o+"__bubble";c.has(p)||(NE(s,o,2,!1),c.add(p))}function fg(o,s,c){var p=0;s&&(p|=4),NE(c,o,p,s)}var bd="_reactListening"+Math.random().toString(36).slice(2);function hg(o){if(!o[bd]){o[bd]=!0,__.forEach(function(c){c!=="selectionchange"&&(hU.has(c)||fg(c,!1,o),fg(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[bd]||(s[bd]=!0,fg("selectionchange",!1,s))}}function NE(o,s,c,p){switch(rT(s)){case 2:var x=$U;break;case 8:x=BU;break;default:x=Ng}c=x.bind(null,s,c,o),x=void 0,!Mp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),p?x!==void 0?o.addEventListener(s,c,{capture:!0,passive:x}):o.addEventListener(s,c,!0):x!==void 0?o.addEventListener(s,c,{passive:x}):o.addEventListener(s,c,!1)}function pg(o,s,c,p,x){var w=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var O=p.stateNode.containerInfo;if(O===x)break;if(C===4)for(C=p.return;C!==null;){var j=C.tag;if((j===3||j===4)&&C.stateNode.containerInfo===x)return;C=C.return}for(;O!==null;){if(C=Fo(O),C===null)return;if(j=C.tag,j===5||j===6||j===26||j===27){p=w=C;continue e}O=O.parentNode}}p=p.return}M_(function(){var F=w,ne=Op(c),se=[];e:{var Y=sw.get(o);if(Y!==void 0){var Z=Pc,Te=o;switch(o){case"keypress":if(Nc(c)===0)break e;case"keydown":case"keyup":Z=oL;break;case"focusin":Te="focus",Z=Lp;break;case"focusout":Te="blur",Z=Lp;break;case"beforeblur":case"afterblur":Z=Lp;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=j_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Yj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=uL;break;case rw:case iw:case aw:Z=Xj;break;case ow:Z=dL;break;case"scroll":case"scrollend":Z=Fj;break;case"wheel":Z=hL;break;case"copy":case"cut":case"paste":Z=Zj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=U_;break;case"toggle":case"beforetoggle":Z=mL}var qe=(s&4)!==0,dt=!qe&&(o==="scroll"||o==="scrollend"),$=qe?Y!==null?Y+"Capture":null:Y;qe=[];for(var q=F,V;q!==null;){var ie=q;if(V=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||V===null||$===null||(ie=Tl(q,$),ie!=null&&qe.push(iu(q,ie,V))),dt)break;q=q.return}0<qe.length&&(Y=new Z(Y,Te,null,c,ne),se.push({event:Y,listeners:qe}))}}if((s&7)===0){e:{if(Y=o==="mouseover"||o==="pointerover",Z=o==="mouseout"||o==="pointerout",Y&&c!==Pp&&(Te=c.relatedTarget||c.fromElement)&&(Fo(Te)||Te[Vo]))break e;if((Z||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(Te=c.relatedTarget||c.toElement,Z=F,Te=Te?Fo(Te):null,Te!==null&&(dt=a(Te),qe=Te.tag,Te!==dt||qe!==5&&qe!==27&&qe!==6)&&(Te=null)):(Z=null,Te=F),Z!==Te)){if(qe=j_,ie="onMouseLeave",$="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(qe=U_,ie="onPointerLeave",$="onPointerEnter",q="pointer"),dt=Z==null?Y:El(Z),V=Te==null?Y:El(Te),Y=new qe(ie,q+"leave",Z,c,ne),Y.target=dt,Y.relatedTarget=V,ie=null,Fo(ne)===F&&(qe=new qe($,q+"enter",Te,c,ne),qe.target=V,qe.relatedTarget=dt,ie=qe),dt=ie,Z&&Te)t:{for(qe=pU,$=Z,q=Te,V=0,ie=$;ie;ie=qe(ie))V++;ie=0;for(var ke=q;ke;ke=qe(ke))ie++;for(;0<V-ie;)$=qe($),V--;for(;0<ie-V;)q=qe(q),ie--;for(;V--;){if($===q||q!==null&&$===q.alternate){qe=$;break t}$=qe($),q=qe(q)}qe=null}else qe=null;Z!==null&&RE(se,Y,Z,qe,!1),Te!==null&&dt!==null&&RE(se,dt,Te,qe,!0)}}e:{if(Y=F?El(F):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var et=F_;else if(G_(Y))if(K_)et=TL;else{et=SL;var Ne=wL}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&Rp(F.elementType)&&(et=F_):et=EL;if(et&&(et=et(o,F))){V_(se,et,c,ne);break e}Ne&&Ne(o,Y,F),o==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&Np(Y,"number",Y.value)}switch(Ne=F?El(F):window,o){case"focusin":(G_(Ne)||Ne.contentEditable==="true")&&(ts=Ne,Hp=F,Ml=null);break;case"focusout":Ml=Hp=ts=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,tw(se,c,ne);break;case"selectionchange":if(CL)break;case"keydown":case"keyup":tw(se,c,ne)}var Ve;if(qp)e:{switch(o){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else es?B_(o,c)&&(Qe="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Qe="onCompositionStart");Qe&&(q_&&c.locale!=="ko"&&(es||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&es&&(Ve=D_()):(oa=ne,Dp="value"in oa?oa.value:oa.textContent,es=!0)),Ne=xd(F,Qe),0<Ne.length&&(Qe=new L_(Qe,o,null,c,ne),se.push({event:Qe,listeners:Ne}),Ve?Qe.data=Ve:(Ve=H_(c),Ve!==null&&(Qe.data=Ve)))),(Ve=vL?yL(o,c):bL(o,c))&&(Qe=xd(F,"onBeforeInput"),0<Qe.length&&(Ne=new L_("onBeforeInput","beforeinput",null,c,ne),se.push({event:Ne,listeners:Qe}),Ne.data=Ve)),cU(se,o,F,c,ne)}CE(se,s)})}function iu(o,s,c){return{instance:o,listener:s,currentTarget:c}}function xd(o,s){for(var c=s+"Capture",p=[];o!==null;){var x=o,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=Tl(o,c),x!=null&&p.unshift(iu(o,x,w)),x=Tl(o,s),x!=null&&p.push(iu(o,x,w))),o.tag===3)return p;o=o.return}return[]}function pU(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function RE(o,s,c,p,x){for(var w=s._reactName,C=[];c!==null&&c!==p;){var O=c,j=O.alternate,F=O.stateNode;if(O=O.tag,j!==null&&j===p)break;O!==5&&O!==26&&O!==27||F===null||(j=F,x?(F=Tl(c,w),F!=null&&C.unshift(iu(c,F,j))):x||(F=Tl(c,w),F!=null&&C.push(iu(c,F,j)))),c=c.return}C.length!==0&&o.push({event:s,listeners:C})}var mU=/\r\n?/g,gU=/\u0000|\uFFFD/g;function PE(o){return(typeof o=="string"?o:""+o).replace(mU,`
`).replace(gU,"")}function OE(o,s){return s=PE(s),PE(o)===s}function ct(o,s,c,p,x,w){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Xo(o,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Xo(o,""+p);break;case"className":Ec(o,"class",p);break;case"tabIndex":Ec(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ec(o,c,p);break;case"style":O_(o,p,w);break;case"data":if(s!=="object"){Ec(o,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){o.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(c);break}p=Ac(""+p),o.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(s!=="input"&&ct(o,s,"name",x.name,x,null),ct(o,s,"formEncType",x.formEncType,x,null),ct(o,s,"formMethod",x.formMethod,x,null),ct(o,s,"formTarget",x.formTarget,x,null)):(ct(o,s,"encType",x.encType,x,null),ct(o,s,"method",x.method,x,null),ct(o,s,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(c);break}p=Ac(""+p),o.setAttribute(c,p);break;case"onClick":p!=null&&(o.onclick=fi);break;case"onScroll":p!=null&&Je("scroll",o);break;case"onScrollEnd":p!=null&&Je("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}c=Ac(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,""+p):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":p===!0?o.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,p):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(c,p):o.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(c):o.setAttribute(c,p);break;case"popover":Je("beforetoggle",o),Je("toggle",o),Sc(o,"popover",p);break;case"xlinkActuate":di(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":di(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":di(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":di(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":di(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":di(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":di(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":di(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":di(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Sc(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Gj.get(c)||c,Sc(o,c,p))}}function mg(o,s,c,p,x,w){switch(c){case"style":O_(o,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"children":typeof p=="string"?Xo(o,p):(typeof p=="number"||typeof p=="bigint")&&Xo(o,""+p);break;case"onScroll":p!=null&&Je("scroll",o);break;case"onScrollEnd":p!=null&&Je("scrollend",o);break;case"onClick":p!=null&&(o.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!w_.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),s=c.slice(2,x?c.length-7:void 0),w=o[Un]||null,w=w!=null?w[c]:null,typeof w=="function"&&o.removeEventListener(s,w,x),typeof p=="function")){typeof w!="function"&&w!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(s,p,x);break e}c in o?o[c]=p:p===!0?o.setAttribute(c,""):Sc(o,c,p)}}}function gn(o,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",o),Je("load",o);var p=!1,x=!1,w;for(w in c)if(c.hasOwnProperty(w)){var C=c[w];if(C!=null)switch(w){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(o,s,w,C,c,null)}}x&&ct(o,s,"srcSet",c.srcSet,c,null),p&&ct(o,s,"src",c.src,c,null);return;case"input":Je("invalid",o);var O=w=C=x=null,j=null,F=null;for(p in c)if(c.hasOwnProperty(p)){var ne=c[p];if(ne!=null)switch(p){case"name":x=ne;break;case"type":C=ne;break;case"checked":j=ne;break;case"defaultChecked":F=ne;break;case"value":w=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:ct(o,s,p,ne,c,null)}}C_(o,w,O,j,F,C,x,!1);return;case"select":Je("invalid",o),p=C=w=null;for(x in c)if(c.hasOwnProperty(x)&&(O=c[x],O!=null))switch(x){case"value":w=O;break;case"defaultValue":C=O;break;case"multiple":p=O;default:ct(o,s,x,O,c,null)}s=w,c=C,o.multiple=!!p,s!=null?Jo(o,!!p,s,!1):c!=null&&Jo(o,!!p,c,!0);return;case"textarea":Je("invalid",o),w=x=p=null;for(C in c)if(c.hasOwnProperty(C)&&(O=c[C],O!=null))switch(C){case"value":p=O;break;case"defaultValue":x=O;break;case"children":w=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:ct(o,s,C,O,c,null)}R_(o,p,x,w);return;case"option":for(j in c)if(c.hasOwnProperty(j)&&(p=c[j],p!=null))switch(j){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ct(o,s,j,p,c,null)}return;case"dialog":Je("beforetoggle",o),Je("toggle",o),Je("cancel",o),Je("close",o);break;case"iframe":case"object":Je("load",o);break;case"video":case"audio":for(p=0;p<ru.length;p++)Je(ru[p],o);break;case"image":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"embed":case"source":case"link":Je("error",o),Je("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in c)if(c.hasOwnProperty(F)&&(p=c[F],p!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(o,s,F,p,c,null)}return;default:if(Rp(s)){for(ne in c)c.hasOwnProperty(ne)&&(p=c[ne],p!==void 0&&mg(o,s,ne,p,c,void 0));return}}for(O in c)c.hasOwnProperty(O)&&(p=c[O],p!=null&&ct(o,s,O,p,c,null))}function vU(o,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,C=null,O=null,j=null,F=null,ne=null;for(Z in c){var se=c[Z];if(c.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":j=se;default:p.hasOwnProperty(Z)||ct(o,s,Z,null,p,se)}}for(var Y in p){var Z=p[Y];if(se=c[Y],p.hasOwnProperty(Y)&&(Z!=null||se!=null))switch(Y){case"type":w=Z;break;case"name":x=Z;break;case"checked":F=Z;break;case"defaultChecked":ne=Z;break;case"value":C=Z;break;case"defaultValue":O=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Z!==se&&ct(o,s,Y,Z,p,se)}}Cp(o,C,O,j,F,ne,w,x);return;case"select":Z=C=O=Y=null;for(w in c)if(j=c[w],c.hasOwnProperty(w)&&j!=null)switch(w){case"value":break;case"multiple":Z=j;default:p.hasOwnProperty(w)||ct(o,s,w,null,p,j)}for(x in p)if(w=p[x],j=c[x],p.hasOwnProperty(x)&&(w!=null||j!=null))switch(x){case"value":Y=w;break;case"defaultValue":O=w;break;case"multiple":C=w;default:w!==j&&ct(o,s,x,w,p,j)}s=O,c=C,p=Z,Y!=null?Jo(o,!!c,Y,!1):!!p!=!!c&&(s!=null?Jo(o,!!c,s,!0):Jo(o,!!c,c?[]:"",!1));return;case"textarea":Z=Y=null;for(O in c)if(x=c[O],c.hasOwnProperty(O)&&x!=null&&!p.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ct(o,s,O,null,p,x)}for(C in p)if(x=p[C],w=c[C],p.hasOwnProperty(C)&&(x!=null||w!=null))switch(C){case"value":Y=x;break;case"defaultValue":Z=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==w&&ct(o,s,C,x,p,w)}N_(o,Y,Z);return;case"option":for(var Te in c)if(Y=c[Te],c.hasOwnProperty(Te)&&Y!=null&&!p.hasOwnProperty(Te))switch(Te){case"selected":o.selected=!1;break;default:ct(o,s,Te,null,p,Y)}for(j in p)if(Y=p[j],Z=c[j],p.hasOwnProperty(j)&&Y!==Z&&(Y!=null||Z!=null))switch(j){case"selected":o.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ct(o,s,j,Y,p,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in c)Y=c[qe],c.hasOwnProperty(qe)&&Y!=null&&!p.hasOwnProperty(qe)&&ct(o,s,qe,null,p,Y);for(F in p)if(Y=p[F],Z=c[F],p.hasOwnProperty(F)&&Y!==Z&&(Y!=null||Z!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:ct(o,s,F,Y,p,Z)}return;default:if(Rp(s)){for(var dt in c)Y=c[dt],c.hasOwnProperty(dt)&&Y!==void 0&&!p.hasOwnProperty(dt)&&mg(o,s,dt,void 0,p,Y);for(ne in p)Y=p[ne],Z=c[ne],!p.hasOwnProperty(ne)||Y===Z||Y===void 0&&Z===void 0||mg(o,s,ne,Y,p,Z);return}}for(var $ in c)Y=c[$],c.hasOwnProperty($)&&Y!=null&&!p.hasOwnProperty($)&&ct(o,s,$,null,p,Y);for(se in p)Y=p[se],Z=c[se],!p.hasOwnProperty(se)||Y===Z||Y==null&&Z==null||ct(o,s,se,Y,p,Z)}function IE(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yU(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var x=c[p],w=x.transferSize,C=x.initiatorType,O=x.duration;if(w&&O&&IE(C)){for(C=0,O=x.responseEnd,p+=1;p<c.length;p++){var j=c[p],F=j.startTime;if(F>O)break;var ne=j.transferSize,se=j.initiatorType;ne&&IE(se)&&(j=j.responseEnd,C+=ne*(j<O?1:(O-F)/(j-F)))}if(--p,s+=8*(w+C)/(x.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var gg=null,vg=null;function _d(o){return o.nodeType===9?o:o.ownerDocument}function ME(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DE(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function yg(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bg=null;function bU(){var o=window.event;return o&&o.type==="popstate"?o===bg?!1:(bg=o,!0):(bg=null,!1)}var kE=typeof setTimeout=="function"?setTimeout:void 0,xU=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,_U=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(o){return jE.resolve(null).then(o).catch(wU)}:kE;function wU(o){setTimeout(function(){throw o})}function Sa(o){return o==="head"}function LE(o,s){var c=s,p=0;do{var x=c.nextSibling;if(o.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(p===0){o.removeChild(x),Ns(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")au(o.ownerDocument.documentElement);else if(c==="head"){c=o.ownerDocument.head,au(c);for(var w=c.firstChild;w;){var C=w.nextSibling,O=w.nodeName;w[Sl]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=C}}else c==="body"&&au(o.ownerDocument.body);c=x}while(c);Ns(s)}function UE(o,s){var c=o;o=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(o===0)break;o--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||o++;c=p}while(c)}function xg(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":xg(c),Tp(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function SU(o,s,c,p){for(;o.nodeType===1;){var x=c;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Sl])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=wr(o.nextSibling),o===null)break}return null}function EU(o,s,c){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=wr(o.nextSibling),o===null))return null;return o}function qE(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=wr(o.nextSibling),o===null))return null;return o}function _g(o){return o.data==="$?"||o.data==="$~"}function wg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function TU(o,s){var c=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function wr(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var Sg=null;function zE(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"||c==="/&"){if(s===0)return wr(o.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}o=o.nextSibling}return null}function $E(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return o;s--}else c!=="/$"&&c!=="/&"||s++}o=o.previousSibling}return null}function BE(o,s,c){switch(s=_d(c),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function au(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Tp(o)}var Sr=new Map,HE=new Set;function wd(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ni=J.d;J.d={f:AU,r:CU,D:NU,C:RU,L:PU,m:OU,X:MU,S:IU,M:DU};function AU(){var o=Ni.f(),s=hd();return o||s}function CU(o){var s=Ko(o);s!==null&&s.tag===5&&s.type==="form"?oS(s):Ni.r(o)}var Ts=typeof document>"u"?null:document;function GE(o,s,c){var p=Ts;if(p&&typeof s=="string"&&s){var x=mr(s);x='link[rel="'+o+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),HE.has(x)||(HE.add(x),o={rel:o,crossOrigin:c,href:s},p.querySelector(x)===null&&(s=p.createElement("link"),gn(s,"link",o),tn(s),p.head.appendChild(s)))}}function NU(o){Ni.D(o),GE("dns-prefetch",o,null)}function RU(o,s){Ni.C(o,s),GE("preconnect",o,s)}function PU(o,s,c){Ni.L(o,s,c);var p=Ts;if(p&&o&&s){var x='link[rel="preload"][as="'+mr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+mr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+mr(c.imageSizes)+'"]')):x+='[href="'+mr(o)+'"]';var w=x;switch(s){case"style":w=As(o);break;case"script":w=Cs(o)}Sr.has(w)||(o=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:o,as:s},c),Sr.set(w,o),p.querySelector(x)!==null||s==="style"&&p.querySelector(ou(w))||s==="script"&&p.querySelector(su(w))||(s=p.createElement("link"),gn(s,"link",o),tn(s),p.head.appendChild(s)))}}function OU(o,s){Ni.m(o,s);var c=Ts;if(c&&o){var p=s&&typeof s.as=="string"?s.as:"script",x='link[rel="modulepreload"][as="'+mr(p)+'"][href="'+mr(o)+'"]',w=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Cs(o)}if(!Sr.has(w)&&(o=m({rel:"modulepreload",href:o},s),Sr.set(w,o),c.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(su(w)))return}p=c.createElement("link"),gn(p,"link",o),tn(p),c.head.appendChild(p)}}}function IU(o,s,c){Ni.S(o,s,c);var p=Ts;if(p&&o){var x=Yo(p).hoistableStyles,w=As(o);s=s||"default";var C=x.get(w);if(!C){var O={loading:0,preload:null};if(C=p.querySelector(ou(w)))O.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":s},c),(c=Sr.get(w))&&Eg(o,c);var j=C=p.createElement("link");tn(j),gn(j,"link",o),j._p=new Promise(function(F,ne){j.onload=F,j.onerror=ne}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Sd(C,s,p)}C={type:"stylesheet",instance:C,count:1,state:O},x.set(w,C)}}}function MU(o,s){Ni.X(o,s);var c=Ts;if(c&&o){var p=Yo(c).hoistableScripts,x=Cs(o),w=p.get(x);w||(w=c.querySelector(su(x)),w||(o=m({src:o,async:!0},s),(s=Sr.get(x))&&Tg(o,s),w=c.createElement("script"),tn(w),gn(w,"link",o),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(x,w))}}function DU(o,s){Ni.M(o,s);var c=Ts;if(c&&o){var p=Yo(c).hoistableScripts,x=Cs(o),w=p.get(x);w||(w=c.querySelector(su(x)),w||(o=m({src:o,async:!0,type:"module"},s),(s=Sr.get(x))&&Tg(o,s),w=c.createElement("script"),tn(w),gn(w,"link",o),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(x,w))}}function VE(o,s,c,p){var x=(x=fe.current)?wd(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=As(c.href),c=Yo(x).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=As(c.href);var w=Yo(x).hoistableStyles,C=w.get(o);if(C||(x=x.ownerDocument||x,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,C),(w=x.querySelector(ou(o)))&&!w._p&&(C.instance=w,C.state.loading=5),Sr.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Sr.set(o,c),w||kU(x,o,c,C.state))),s&&p===null)throw Error(r(528,""));return C}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Cs(c),c=Yo(x).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function As(o){return'href="'+mr(o)+'"'}function ou(o){return'link[rel="stylesheet"]['+o+"]"}function FE(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function kU(o,s,c,p){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=o.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),gn(s,"link",c),tn(s),o.head.appendChild(s))}function Cs(o){return'[src="'+mr(o)+'"]'}function su(o){return"script[async]"+o}function KE(o,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=o.querySelector('style[data-href~="'+mr(c.href)+'"]');if(p)return s.instance=p,tn(p),p;var x=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),tn(p),gn(p,"style",x),Sd(p,c.precedence,o),s.instance=p;case"stylesheet":x=As(c.href);var w=o.querySelector(ou(x));if(w)return s.state.loading|=4,s.instance=w,tn(w),w;p=FE(c),(x=Sr.get(x))&&Eg(p,x),w=(o.ownerDocument||o).createElement("link"),tn(w);var C=w;return C._p=new Promise(function(O,j){C.onload=O,C.onerror=j}),gn(w,"link",p),s.state.loading|=4,Sd(w,c.precedence,o),s.instance=w;case"script":return w=Cs(c.src),(x=o.querySelector(su(w)))?(s.instance=x,tn(x),x):(p=c,(x=Sr.get(w))&&(p=m({},c),Tg(p,x)),o=o.ownerDocument||o,x=o.createElement("script"),tn(x),gn(x,"link",p),o.head.appendChild(x),s.instance=x);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Sd(p,c.precedence,o));return s.instance}function Sd(o,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,w=x,C=0;C<p.length;C++){var O=p[C];if(O.dataset.precedence===s)w=O;else if(w!==x)break}w?w.parentNode.insertBefore(o,w.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(o,s.firstChild))}function Eg(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Tg(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Ed=null;function YE(o,s,c){if(Ed===null){var p=new Map,x=Ed=new Map;x.set(c,p)}else x=Ed,p=x.get(c),p||(p=new Map,x.set(c,p));if(p.has(o))return p;for(p.set(o,null),c=c.getElementsByTagName(o),x=0;x<c.length;x++){var w=c[x];if(!(w[Sl]||w[fn]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var C=w.getAttribute(s)||"";C=o+C;var O=p.get(C);O?O.push(w):p.set(C,[w])}}return p}function WE(o,s,c){o=o.ownerDocument||o,o.head.insertBefore(c,s==="title"?o.querySelector("head > title"):null)}function jU(o,s,c){if(c===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function JE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function LU(o,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=As(p.href),w=s.querySelector(ou(x));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=Td.bind(o),s.then(o,o)),c.state.loading|=4,c.instance=w,tn(w);return}w=s.ownerDocument||s,p=FE(p),(x=Sr.get(x))&&Eg(p,x),w=w.createElement("link"),tn(w);var C=w;C._p=new Promise(function(O,j){C.onload=O,C.onerror=j}),gn(w,"link",p),c.instance=w}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(o.count++,c=Td.bind(o),s.addEventListener("load",c),s.addEventListener("error",c))}}var Ag=0;function UU(o,s){return o.stylesheets&&o.count===0&&Cd(o,o.stylesheets),0<o.count||0<o.imgCount?function(c){var p=setTimeout(function(){if(o.stylesheets&&Cd(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4+s);0<o.imgBytes&&Ag===0&&(Ag=62500*yU());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Cd(o,o.stylesheets),o.unsuspend)){var w=o.unsuspend;o.unsuspend=null,w()}},(o.imgBytes>Ag?50:800)+s);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(x)}}:null}function Td(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Ad=null;function Cd(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Ad=new Map,s.forEach(qU,o),Ad=null,Td.call(o))}function qU(o,s){if(!(s.state.loading&4)){var c=Ad.get(o);if(c)var p=c.get(null);else{c=new Map,Ad.set(o,c);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var C=x[w];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),p=C)}p&&c.set(null,p)}x=s.instance,C=x.getAttribute("data-precedence"),w=c.get(C)||p,w===p&&c.set(null,x),c.set(C,x),this.count++,p=Td.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),w?w.parentNode.insertBefore(x,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),s.state.loading|=4}}var lu={$$typeof:N,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function zU(o,s,c,p,x,w,C,O,j){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dn(0),this.hiddenUpdates=dn(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function XE(o,s,c,p,x,w,C,O,j,F,ne,se){return o=new zU(o,s,c,C,j,F,ne,se,O),s=1,w===!0&&(s|=24),w=Qn(3,null,null,s),o.current=w,w.stateNode=o,s=am(),s.refCount++,o.pooledCache=s,s.refCount++,w.memoizedState={element:p,isDehydrated:c,cache:s},um(w),o}function QE(o){return o?(o=is,o):is}function ZE(o,s,c,p,x,w){x=QE(x),p.context===null?p.context=x:p.pendingContext=x,p=fa(s),p.payload={element:c},w=w===void 0?null:w,w!==null&&(p.callback=w),c=ha(o,p,s),c!==null&&(Gn(c,o,s),zl(c,o,s))}function eT(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function Cg(o,s){eT(o,s),(o=o.alternate)&&eT(o,s)}function tT(o){if(o.tag===13||o.tag===31){var s=Za(o,67108864);s!==null&&Gn(s,o,67108864),Cg(o,67108864)}}function nT(o){if(o.tag===13||o.tag===31){var s=rr();s=wp(s);var c=Za(o,s);c!==null&&Gn(c,o,s),Cg(o,s)}}var Nd=!0;function $U(o,s,c,p){var x=B.T;B.T=null;var w=J.p;try{J.p=2,Ng(o,s,c,p)}finally{J.p=w,B.T=x}}function BU(o,s,c,p){var x=B.T;B.T=null;var w=J.p;try{J.p=8,Ng(o,s,c,p)}finally{J.p=w,B.T=x}}function Ng(o,s,c,p){if(Nd){var x=Rg(p);if(x===null)pg(o,s,p,Rd,c),iT(o,p);else if(GU(x,o,s,c,p))p.stopPropagation();else if(iT(o,p),s&4&&-1<HU.indexOf(o)){for(;x!==null;){var w=Ko(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var C=ci(w.pendingLanes);if(C!==0){var O=w;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var j=1<<31-Nn(C);O.entanglements[1]|=j,C&=~j}Qr(w),(it&6)===0&&(dd=Ft()+500,nu(0))}}break;case 31:case 13:O=Za(w,2),O!==null&&Gn(O,w,2),hd(),Cg(w,2)}if(w=Rg(p),w===null&&pg(o,s,p,Rd,c),w===x)break;x=w}x!==null&&p.stopPropagation()}else pg(o,s,p,null,c)}}function Rg(o){return o=Op(o),Pg(o)}var Rd=null;function Pg(o){if(Rd=null,o=Fo(o),o!==null){var s=a(o);if(s===null)o=null;else{var c=s.tag;if(c===13){if(o=l(s),o!==null)return o;o=null}else if(c===31){if(o=u(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Rd=o,null}function rT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case $o:return 2;case ui:return 8;case jn:case z:return 32;case De:return 268435456;default:return 32}default:return 32}}var Og=!1,Ea=null,Ta=null,Aa=null,uu=new Map,cu=new Map,Ca=[],HU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iT(o,s){switch(o){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(s.pointerId)}}function du(o,s,c,p,x,w){return o===null||o.nativeEvent!==w?(o={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[x]},s!==null&&(s=Ko(s),s!==null&&tT(s)),o):(o.eventSystemFlags|=p,s=o.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),o)}function GU(o,s,c,p,x){switch(s){case"focusin":return Ea=du(Ea,o,s,c,p,x),!0;case"dragenter":return Ta=du(Ta,o,s,c,p,x),!0;case"mouseover":return Aa=du(Aa,o,s,c,p,x),!0;case"pointerover":var w=x.pointerId;return uu.set(w,du(uu.get(w)||null,o,s,c,p,x)),!0;case"gotpointercapture":return w=x.pointerId,cu.set(w,du(cu.get(w)||null,o,s,c,p,x)),!0}return!1}function aT(o){var s=Fo(o.target);if(s!==null){var c=a(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){o.blockedOn=s,b_(o.priority,function(){nT(c)});return}}else if(s===31){if(s=u(c),s!==null){o.blockedOn=s,b_(o.priority,function(){nT(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Pd(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=Rg(o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);Pp=p,c.target.dispatchEvent(p),Pp=null}else return s=Ko(c),s!==null&&tT(s),o.blockedOn=c,!1;s.shift()}return!0}function oT(o,s,c){Pd(o)&&c.delete(s)}function VU(){Og=!1,Ea!==null&&Pd(Ea)&&(Ea=null),Ta!==null&&Pd(Ta)&&(Ta=null),Aa!==null&&Pd(Aa)&&(Aa=null),uu.forEach(oT),cu.forEach(oT)}function Od(o,s){o.blockedOn===s&&(o.blockedOn=null,Og||(Og=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,VU)))}var Id=null;function sT(o){Id!==o&&(Id=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Id===o&&(Id=null);for(var s=0;s<o.length;s+=3){var c=o[s],p=o[s+1],x=o[s+2];if(typeof p!="function"){if(Pg(p||c)===null)continue;break}var w=Ko(c);w!==null&&(o.splice(s,3),s-=3,Rm(w,{pending:!0,data:x,method:c.method,action:p},p,x))}}))}function Ns(o){function s(j){return Od(j,o)}Ea!==null&&Od(Ea,o),Ta!==null&&Od(Ta,o),Aa!==null&&Od(Aa,o),uu.forEach(s),cu.forEach(s);for(var c=0;c<Ca.length;c++){var p=Ca[c];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Ca.length&&(c=Ca[0],c.blockedOn===null);)aT(c),c.blockedOn===null&&Ca.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var x=c[p],w=c[p+1],C=x[Un]||null;if(typeof w=="function")C||sT(c);else if(C){var O=null;if(w&&w.hasAttribute("formAction")){if(x=w,C=w[Un]||null)O=C.formAction;else if(Pg(x)!==null)continue}else O=C.action;typeof O=="function"?c[p+1]=O:(c.splice(p,3),p-=3),sT(c)}}}function lT(){function o(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(C){return x=C})},focusReset:"manual",scroll:"manual"})}function s(){x!==null&&(x(),x=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),x!==null&&(x(),x=null)}}}function Ig(o){this._internalRoot=o}Md.prototype.render=Ig.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=rr();ZE(c,p,o,s,null,null)},Md.prototype.unmount=Ig.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;ZE(o.current,2,null,o,null,null),hd(),s[Vo]=null}};function Md(o){this._internalRoot=o}Md.prototype.unstable_scheduleHydration=function(o){if(o){var s=y_();o={blockedOn:null,target:o,priority:s};for(var c=0;c<Ca.length&&s!==0&&s<Ca[c].priority;c++);Ca.splice(c,0,o),c===0&&aT(o)}};var uT=t.version;if(uT!=="19.2.0")throw Error(r(527,uT,"19.2.0"));J.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var FU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{ht=Dd.inject(FU),Ye=Dd}catch{}}return hu.createRoot=function(o,s){if(!i(o))throw Error(r(299));var c=!1,p="",x=gS,w=vS,C=yS;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=XE(o,1,!1,null,null,c,p,null,x,w,C,lT),o[Vo]=s.current,hg(o),new Ig(s)},hu.hydrateRoot=function(o,s,c){if(!i(o))throw Error(r(299));var p=!1,x="",w=gS,C=vS,O=yS,j=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.formState!==void 0&&(j=c.formState)),s=XE(o,1,!0,s,c??null,p,x,j,w,C,O,lT),s.context=QE(null),c=s.current,p=rr(),p=wp(p),x=fa(p),x.callback=null,ha(c,x,p),c=p,s.current.lanes=c,ia(s,c),Qr(s),o[Vo]=s.current,hg(o),new Md(s)},hu.version="19.2.0",hu}var bT;function aq(){if(bT)return jg.exports;bT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jg.exports=iq(),jg.exports}var oq=aq();const sq=Vr(oq);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xT="popstate";function lq(e={}){function t(i,a){let{pathname:l="/",search:u="",hash:d=""}=Lo(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Dy("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof a=="string"?a:Pu(a))}function r(i,a){dr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return cq(t,n,r,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uq(){return Math.random().toString(36).substring(2,10)}function _T(e,t){return{usr:e.state,key:e.key,idx:t}}function Dy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Lo(t):t,state:n,key:t&&t.key||r||uq()}}function Pu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Lo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function cq(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",d=null,f=h();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function h(){return(l.state||{idx:null}).idx}function m(){u="POP";let A=h(),R=A==null?null:A-f;f=A,d&&d({action:u,location:T.location,delta:R})}function b(A,R){u="PUSH";let P=Dy(T.location,A,R);n&&n(P,A),f=h()+1;let N=_T(P,f),I=T.createHref(P);try{l.pushState(N,"",I)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(I)}a&&d&&d({action:u,location:T.location,delta:1})}function _(A,R){u="REPLACE";let P=Dy(T.location,A,R);n&&n(P,A),f=h();let N=_T(P,f),I=T.createHref(P);l.replaceState(N,"",I),a&&d&&d({action:u,location:T.location,delta:0})}function S(A){return dq(A)}let T={get action(){return u},get location(){return e(i,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(xT,m),d=A,()=>{i.removeEventListener(xT,m),d=null}},createHref(A){return t(i,A)},createURL:S,encodeLocation(A){let R=S(A);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:_,go(A){return l.go(A)}};return T}function dq(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Pu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function KP(e,t,n="/"){return fq(e,t,n,!1)}function fq(e,t,n,r){let i=typeof t=="string"?Lo(t):t,a=Ui(i.pathname||"/",n);if(a==null)return null;let l=YP(e);hq(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=Eq(a);u=wq(l[d],f,r)}return u}function YP(e,t=[],n=[],r="",i=!1){let a=(l,u,d=i,f)=>{let h={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&d)return;Rt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=ki([r,h.relativePath]),b=n.concat(h);l.children&&l.children.length>0&&(Rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),YP(l.children,t,b,m,d)),!(l.path==null&&!l.index)&&t.push({path:m,score:xq(m,l.index),routesMeta:b})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let f of WP(l.path))a(l,u,!0,f)}),t}function WP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=WP(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function hq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_q(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pq=/^:[\w-]+$/,mq=3,gq=2,vq=1,yq=10,bq=-2,wT=e=>e==="*";function xq(e,t){let n=e.split("/"),r=n.length;return n.some(wT)&&(r+=bq),t&&(r+=gq),n.filter(i=>!wT(i)).reduce((i,a)=>i+(pq.test(a)?mq:a===""?vq:yq),r)}function _q(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function wq(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=xf({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},h),b=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=xf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:ki([a,m.pathname]),pathnameBase:Rq(ki([a,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(a=ki([a,m.pathnameBase]))}return l}function xf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Sq(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:m},b)=>{if(h==="*"){let S=u[b]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const _=u[b];return m&&!_?f[h]=void 0:f[h]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:e}}function Sq(e,t=!1,n=!0){dr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Eq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ui(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Tq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aq=e=>Tq.test(e);function Cq(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Lo(e):e,a;if(n)if(Aq(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),dr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=ST(n.substring(1),"/"):a=ST(n,t)}else a=t;return{pathname:a,search:Pq(r),hash:Oq(i)}}function ST(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nq(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ab(e){let t=Nq(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ob(e,t,n,r=!1){let i;typeof e=="string"?i=Lo(e):(i={...e},Rt(!i.pathname||!i.pathname.includes("?"),zg("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),zg("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),zg("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}u=m>=0?t[m]:"/"}let d=Cq(i,u),f=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||h)&&(d.pathname+="/"),d}var ki=e=>e.join("/").replace(/\/\/+/g,"/"),Rq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Oq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Iq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JP=["POST","PUT","PATCH","DELETE"];new Set(JP);var Mq=["GET",...JP];new Set(Mq);var ll=E.createContext(null);ll.displayName="DataRouter";var Eh=E.createContext(null);Eh.displayName="DataRouterState";E.createContext(!1);var XP=E.createContext({isTransitioning:!1});XP.displayName="ViewTransition";var Dq=E.createContext(new Map);Dq.displayName="Fetchers";var kq=E.createContext(null);kq.displayName="Await";var Fr=E.createContext(null);Fr.displayName="Navigation";var Zu=E.createContext(null);Zu.displayName="Location";var li=E.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var sb=E.createContext(null);sb.displayName="RouteError";function jq(e,{relative:t}={}){Rt(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Fr),{hash:i,pathname:a,search:l}=ec(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:ki([n,a])),r.createHref({pathname:u,search:l,hash:i})}function ul(){return E.useContext(Zu)!=null}function Fi(){return Rt(ul(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Zu).location}var QP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZP(e){E.useContext(Fr).static||E.useLayoutEffect(e)}function eO(){let{isDataRoute:e}=E.useContext(li);return e?Wq():Lq()}function Lq(){Rt(ul(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(ll),{basename:t,navigator:n}=E.useContext(Fr),{matches:r}=E.useContext(li),{pathname:i}=Fi(),a=JSON.stringify(ab(r)),l=E.useRef(!1);return ZP(()=>{l.current=!0}),E.useCallback((d,f={})=>{if(dr(l.current,QP),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=ob(d,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ki([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,a,i,e])}E.createContext(null);function ec(e,{relative:t}={}){let{matches:n}=E.useContext(li),{pathname:r}=Fi(),i=JSON.stringify(ab(n));return E.useMemo(()=>ob(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Uq(e,t){return tO(e,t)}function tO(e,t,n,r,i){var P;Rt(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(Fr),{matches:l}=E.useContext(li),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let N=m&&m.path||"";nO(f,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=Fi(),_;if(t){let N=typeof t=="string"?Lo(t):t;Rt(h==="/"||((P=N.pathname)==null?void 0:P.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),_=N}else _=b;let S=_.pathname||"/",T=S;if(h!=="/"){let N=h.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let A=KP(e,{pathname:T});dr(m||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),dr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Hq(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:ki([h,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:ki([h,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,n,r,i);return t&&R?E.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function qq(){let e=Yq(),t=Iq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,l)}var zq=E.createElement(qq,null),$q=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?E.createElement(li.Provider,{value:this.props.routeContext},E.createElement(sb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bq({routeContext:e,match:t,children:n}){let r=E.useContext(ll);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(li.Provider,{value:e},n)}function Hq(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Rt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:b,errors:_}=n,S=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||S){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(h,m)=>{var b,_;r(h,{location:n.location,params:((_=(b=n.matches)==null?void 0:b[0])==null?void 0:_.params)??{},errorInfo:m})}:void 0;return a.reduceRight((h,m,b)=>{let _,S=!1,T=null,A=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,T=m.route.errorElement||zq,u&&(d<0&&b===0?(nO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):d===b&&(S=!0,A=m.route.hydrateFallbackElement||null)));let R=t.concat(a.slice(0,b+1)),P=()=>{let N;return _?N=T:S?N=A:m.route.Component?N=E.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=h,E.createElement(Bq,{match:m,routeContext:{outlet:h,matches:R,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?E.createElement($q,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:P(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:f}):P()},null)}function lb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gq(e){let t=E.useContext(ll);return Rt(t,lb(e)),t}function Vq(e){let t=E.useContext(Eh);return Rt(t,lb(e)),t}function Fq(e){let t=E.useContext(li);return Rt(t,lb(e)),t}function ub(e){let t=Fq(e),n=t.matches[t.matches.length-1];return Rt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Kq(){return ub("useRouteId")}function Yq(){var r;let e=E.useContext(sb),t=Vq("useRouteError"),n=ub("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Wq(){let{router:e}=Gq("useNavigate"),t=ub("useNavigate"),n=E.useRef(!1);return ZP(()=>{n.current=!0}),E.useCallback(async(i,a={})=>{dr(n.current,QP),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var ET={};function nO(e,t,n){!t&&!ET[e]&&(ET[e]=!0,dr(!1,n))}E.memo(Jq);function Jq({routes:e,future:t,state:n,unstable_onError:r}){return tO(e,void 0,n,r,t)}function rO({to:e,replace:t,state:n,relative:r}){Rt(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(Fr);dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(li),{pathname:l}=Fi(),u=eO(),d=ob(e,ab(a),l,r==="path"),f=JSON.stringify(d);return E.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function Zr(e){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xq({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Rt(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Lo(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:b="default"}=n,_=E.useMemo(()=>{let S=Ui(d,l);return S==null?null:{location:{pathname:S,search:f,hash:h,state:m,key:b},navigationType:r}},[l,d,f,h,m,b,r]);return dr(_!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:E.createElement(Fr.Provider,{value:u},E.createElement(Zu.Provider,{children:t,value:_}))}function Qq({children:e,location:t}){return Uq(ky(e),t)}function ky(e,t=[]){let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let a=[...t,i];if(r.type===E.Fragment){n.push.apply(n,ky(r.props.children,a));return}Rt(r.type===Zr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=ky(r.props.children,a)),n.push(l)}),n}var df="get",ff="application/x-www-form-urlencoded";function Th(e){return e!=null&&typeof e.tagName=="string"}function Zq(e){return Th(e)&&e.tagName.toLowerCase()==="button"}function ez(e){return Th(e)&&e.tagName.toLowerCase()==="form"}function tz(e){return Th(e)&&e.tagName.toLowerCase()==="input"}function nz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rz(e,t){return e.button===0&&(!t||t==="_self")&&!nz(e)}var kd=null;function iz(){if(kd===null)try{new FormData(document.createElement("form"),0),kd=!1}catch{kd=!0}return kd}var az=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $g(e){return e!=null&&!az.has(e)?(dr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ff}"`),null):e}function oz(e,t){let n,r,i,a,l;if(ez(e)){let u=e.getAttribute("action");r=u?Ui(u,t):null,n=e.getAttribute("method")||df,i=$g(e.getAttribute("enctype"))||ff,a=new FormData(e)}else if(Zq(e)||tz(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Ui(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||df,i=$g(e.getAttribute("formenctype"))||$g(u.getAttribute("enctype"))||ff,a=new FormData(u,e),!iz()){let{name:f,type:h,value:m}=e;if(h==="image"){let b=f?`${f}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else f&&a.append(f,m)}}else{if(Th(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=df,r=null,i=ff,l=e}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sz(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ui(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function lz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function cz(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await lz(a,n);return l.links?l.links():[]}return[]}));return pz(r.flat(1).filter(uz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function TT(e,t,n,r,i,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var h;return n[f].pathname!==d.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return a==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):a==="data"?t.filter((d,f)=>{var m;let h=r.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function dz(e,t,{includeHydrateFallback:n}={}){return fz(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function fz(e){return[...new Set(e)]}function hz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function pz(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(hz(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function iO(){let e=E.useContext(ll);return cb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function mz(){let e=E.useContext(Eh);return cb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var db=E.createContext(void 0);db.displayName="FrameworkContext";function aO(){let e=E.useContext(db);return cb(e,"You must render this element inside a <HydratedRouter> element"),e}function gz(e,t){let n=E.useContext(db),[r,i]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=t,b=E.useRef(null);E.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let T=R=>{R.forEach(P=>{l(P.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[e]),E.useEffect(()=>{if(r){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[r]);let _=()=>{i(!0)},S=()=>{i(!1),l(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:pu(u,_),onBlur:pu(d,S),onMouseEnter:pu(f,_),onMouseLeave:pu(h,S),onTouchStart:pu(m,_)}]:[!1,b,{}]}function pu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function vz({page:e,...t}){let{router:n}=iO(),r=E.useMemo(()=>KP(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?E.createElement(bz,{page:e,matches:r,...t}):null}function yz(e){let{manifest:t,routeModules:n}=aO(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return cz(e,t,n).then(l=>{a||i(l)}),()=>{a=!0}},[e,t,n]),r}function bz({page:e,matches:t,...n}){let r=Fi(),{manifest:i,routeModules:a}=aO(),{basename:l}=iO(),{loaderData:u,matches:d}=mz(),f=E.useMemo(()=>TT(e,t,d,i,r,"data"),[e,t,d,i,r]),h=E.useMemo(()=>TT(e,t,d,i,r,"assets"),[e,t,d,i,r]),m=E.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,T=!1;if(t.forEach(R=>{var N;let P=i.routes[R.route.id];!P||!P.hasLoader||(!f.some(I=>I.route.id===R.route.id)&&R.route.id in u&&((N=a[R.route.id])!=null&&N.shouldRevalidate)||P.hasClientLoader?T=!0:S.add(R.route.id))}),S.size===0)return[];let A=sz(e,l,"data");return T&&S.size>0&&A.searchParams.set("_routes",t.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[A.pathname+A.search]},[l,u,r,i,f,t,e,a]),b=E.useMemo(()=>dz(h,i),[h,i]),_=yz(h);return E.createElement(E.Fragment,null,m.map(S=>E.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>E.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),_.map(({key:S,link:T})=>E.createElement("link",{key:S,nonce:n.nonce,...T})))}function xz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var oO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oO&&(window.__reactRouterVersion="7.9.6")}catch{}function _z({basename:e,children:t,window:n}){let r=E.useRef();r.current==null&&(r.current=lq({window:n,v5Compat:!0}));let i=r.current,[a,l]=E.useState({action:i.action,location:i.location}),u=E.useCallback(d=>{E.startTransition(()=>l(d))},[l]);return E.useLayoutEffect(()=>i.listen(u),[i,u]),E.createElement(Xq,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var sO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lO=E.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:h,viewTransition:m,...b},_){let{basename:S}=E.useContext(Fr),T=typeof f=="string"&&sO.test(f),A,R=!1;if(typeof f=="string"&&T&&(A=f,oO))try{let U=new URL(window.location.href),le=f.startsWith("//")?new URL(U.protocol+f):new URL(f),W=Ui(le.pathname,S);le.origin===U.origin&&W!=null?f=W+le.search+le.hash:R=!0}catch{dr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=jq(f,{relative:i}),[N,I,M]=gz(r,b),D=Ez(f,{replace:l,state:u,target:d,preventScrollReset:h,relative:i,viewTransition:m});function k(U){t&&t(U),U.defaultPrevented||D(U)}let G=E.createElement("a",{...b,...M,href:A||P,onClick:R||a?t:k,ref:xz(_,I),target:d,"data-discover":!T&&n==="render"?"true":void 0});return N&&!T?E.createElement(E.Fragment,null,G,E.createElement(vz,{page:P})):G});lO.displayName="Link";var Pa=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:d,...f},h){let m=ec(l,{relative:f.relative}),b=Fi(),_=E.useContext(Eh),{navigator:S,basename:T}=E.useContext(Fr),A=_!=null&&Rz(m)&&u===!0,R=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,P=b.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(P=P.toLowerCase(),N=N?N.toLowerCase():null,R=R.toLowerCase()),N&&T&&(N=Ui(N,T)||N);const I=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let M=P===R||!i&&P.startsWith(R)&&P.charAt(I)==="/",D=N!=null&&(N===R||!i&&N.startsWith(R)&&N.charAt(R.length)==="/"),k={isActive:M,isPending:D,isTransitioning:A},G=M?t:void 0,U;typeof r=="function"?U=r(k):U=[r,M?"active":null,D?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let le=typeof a=="function"?a(k):a;return E.createElement(lO,{...f,"aria-current":G,className:U,ref:h,style:le,to:l,viewTransition:u},typeof d=="function"?d(k):d)});Pa.displayName="NavLink";var wz=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:l=df,action:u,onSubmit:d,relative:f,preventScrollReset:h,viewTransition:m,...b},_)=>{let S=Cz(),T=Nz(u,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&sO.test(u),P=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let I=N.nativeEvent.submitter,M=(I==null?void 0:I.getAttribute("formmethod"))||l;S(I||N.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:m})};return E.createElement("form",{ref:_,method:A,action:T,onSubmit:r?d:P,...b,"data-discover":!R&&e==="render"?"true":void 0})});wz.displayName="Form";function Sz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uO(e){let t=E.useContext(ll);return Rt(t,Sz(e)),t}function Ez(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=eO(),d=Fi(),f=ec(e,{relative:a});return E.useCallback(h=>{if(rz(h,t)){h.preventDefault();let m=n!==void 0?n:Pu(d)===Pu(f);u(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[d,u,f,n,r,t,e,i,a,l])}var Tz=0,Az=()=>`__${String(++Tz)}__`;function Cz(){let{router:e}=uO("useSubmit"),{basename:t}=E.useContext(Fr),n=Kq();return E.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:d,body:f}=oz(r,t);if(i.navigate===!1){let h=i.fetcherKey||Az();await e.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Nz(e,{relative:t}={}){let{basename:n}=E.useContext(Fr),r=E.useContext(li);Rt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ec(e||".",{relative:t})},l=Fi();if(e==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(h=>h==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ki([n,a.pathname])),Pu(a)}function Rz(e,{relative:t}={}){let n=E.useContext(XP);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uO("useViewTransitionState"),i=ec(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ui(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ui(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xf(i.pathname,l)!=null||xf(i.pathname,a)!=null}var fb=FP();/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),AT=e=>{const t=Oz(e);return t.charAt(0).toUpperCase()+t.slice(1)},cO=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Iz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},d)=>E.createElement("svg",{ref:d,...Mz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:cO("lucide",i),...!a&&!Iz(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,h])=>E.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const n=E.forwardRef(({className:r,...i},a)=>E.createElement(Dz,{ref:a,iconNode:t,className:cO(`lucide-${Pz(AT(e))}`,`lucide-${e}`,r),...i}));return n.displayName=AT(e),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],CT=Re("arrow-left",kz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hb=Re("bell",jz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],pb=Re("building-2",Lz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],dO=Re("building",Uz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],zz=Re("calendar-days",qz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],NT=Re("calendar",$z);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_f=Re("camera",Bz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gz=Re("check",Hz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fO=Re("chevron-right",Vz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hO=Re("chevron-left",Fz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Yz=Re("chevrons-up-down",Kz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pO=Re("circle-alert",Wz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RT=Re("circle-check-big",Jz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PT=Re("circle-check",Xz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],Zz=Re("circle-stop",Qz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OT=Re("circle",e4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],jy=Re("clipboard-check",t4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],r4=Re("clipboard-list",n4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wf=Re("clock",i4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],o4=Re("database",a4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ly=Re("download",s4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],mO=Re("droplets",l4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Uy=Re("file-text",u4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gO=Re("funnel",c4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],f4=Re("history",d4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],mb=Re("image",h4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],m4=Re("key-round",p4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],v4=Re("layout-dashboard",g4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],b4=Re("layout-grid",y4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],_4=Re("list",x4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Co=Re("loader-circle",w4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vO=Re("lock",S4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],T4=Re("log-out",E4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bg=Re("mail",A4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],N4=Re("map-pin",C4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],P4=Re("menu",R4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],I4=Re("mic",O4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],IT=Re("pen-tool",M4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],La=Re("pencil",D4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],j4=Re("phone",k4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xs=Re("plus",L4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],q4=Re("printer",U4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$4=Re("save",z4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],H4=Re("scan",B4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gb=Re("search",G4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],F4=Re("send",V4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ou=Re("settings",K4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yO=Re("shield-check",Y4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bO=Re("shield",W4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],X4=Re("sparkles",J4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Z4=Re("square-check-big",Q4);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],t3=Re("star",e3);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sn=Re("trash-2",n3);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i3=Re("triangle-alert",r3);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Hg=Re("upload",a3);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],s3=Re("user-plus",o3);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],u3=Re("user",l3);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sf=Re("users",c3);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Iu=Re("wrench",d3);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ct=Re("x",f3);var Pn=(e=>(e.ADMIN="ADMIN",e.RESIDENT="RESIDENT",e.STAFF="STAFF",e))(Pn||{}),Se=(e=>(e.NONE="NONE",e.READ_ONLY="READ_ONLY",e.READ_WRITE="READ_WRITE",e.FULL_ACCESS="FULL_ACCESS",e))(Se||{});const Ue={WATER:"module_water",TASKS:"module_tasks",DOCUMENTS:"module_documents",EQUIPMENT:"module_equipment",STRUCTURAL:"module_structural",SUPPLIERS:"module_suppliers",ADMIN_PANEL:"module_admin_panel"};var qy=function(e,t){return qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},qy(e,t)};function xO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ef=function(){return Ef=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ef.apply(this,arguments)};function cl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function _O(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(a=(i<3?l(a):i>3?l(t,n,a):l(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function wO(e,t){return function(n,r){t(n,r,e)}}function SO(e,t,n,r,i,a){function l(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var u=r.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,h=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),m,b=!1,_=n.length-1;_>=0;_--){var S={};for(var T in r)S[T]=T==="access"?{}:r[T];for(var T in r.access)S.access[T]=r.access[T];S.addInitializer=function(R){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(R||null))};var A=(0,n[_])(u==="accessor"?{get:h.get,set:h.set}:h[d],S);if(u==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(m=l(A.get))&&(h.get=m),(m=l(A.set))&&(h.set=m),(m=l(A.init))&&i.unshift(m)}else(m=l(A))&&(u==="field"?i.unshift(m):h[d]=m)}f&&Object.defineProperty(f,r.name,h),b=!0}function EO(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function TO(e){return typeof e=="symbol"?e:"".concat(e)}function AO(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function CO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ae(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?a(h.value):i(h.value).then(u,d)}f((r=r.apply(e,t||[])).next())})}function NO(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(h){return d([f,h])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(h){f=[6,h],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Ah=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function RO(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ah(t,e,n)}function Tf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vb(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],l;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return a}function PO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vb(arguments[t]));return e}function OO(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],l=0,u=a.length;l<u;l++,i++)r[i]=a[l];return r}function IO(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Qs(e){return this instanceof Qs?(this.v=e,this):new Qs(e)}function MO(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(_){return function(S){return Promise.resolve(S).then(_,m)}}function u(_,S){r[_]&&(i[_]=function(T){return new Promise(function(A,R){a.push([_,T,A,R])>1||d(_,T)})},S&&(i[_]=S(i[_])))}function d(_,S){try{f(r[_](S))}catch(T){b(a[0][3],T)}}function f(_){_.value instanceof Qs?Promise.resolve(_.value.v).then(h,m):b(a[0][2],_)}function h(_){d("next",_)}function m(_){d("throw",_)}function b(_,S){_(S),a.shift(),a.length&&d(a[0][0],a[0][1])}}function DO(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(l){return(n=!n)?{value:Qs(e[i](l)),done:!1}:a?a(l):l}:a}}function kO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Tf=="function"?Tf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,d){l=e[a](l),i(u,d,l.done,l.value)})}}function i(a,l,u,d){Promise.resolve(d).then(function(f){a({value:f,done:u})},l)}}function jO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var h3=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},zy=function(e){return zy=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},zy(e)};function LO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=zy(e),r=0;r<n.length;r++)n[r]!=="default"&&Ah(t,e,n[r]);return h3(t,e),t}function UO(e){return e&&e.__esModule?e:{default:e}}function qO(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function zO(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function $O(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function BO(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var p3=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function HO(e){function t(a){e.error=e.hasError?new p3(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(l){return t(l),i()})}else r|=1}catch(l){t(l)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function GO(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,l){return r?t?".jsx":".js":i&&(!a||!l)?n:i+a+"."+l.toLowerCase()+"js"}):e}const m3={__extends:xO,__assign:Ef,__rest:cl,__decorate:_O,__param:wO,__esDecorate:SO,__runInitializers:EO,__propKey:TO,__setFunctionName:AO,__metadata:CO,__awaiter:Ae,__generator:NO,__createBinding:Ah,__exportStar:RO,__values:Tf,__read:vb,__spread:PO,__spreadArrays:OO,__spreadArray:IO,__await:Qs,__asyncGenerator:MO,__asyncDelegator:DO,__asyncValues:kO,__makeTemplateObject:jO,__importStar:LO,__importDefault:UO,__classPrivateFieldGet:qO,__classPrivateFieldSet:zO,__classPrivateFieldIn:$O,__addDisposableResource:BO,__disposeResources:HO,__rewriteRelativeImportExtension:GO},g3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:BO,get __assign(){return Ef},__asyncDelegator:DO,__asyncGenerator:MO,__asyncValues:kO,__await:Qs,__awaiter:Ae,__classPrivateFieldGet:qO,__classPrivateFieldIn:$O,__classPrivateFieldSet:zO,__createBinding:Ah,__decorate:_O,__disposeResources:HO,__esDecorate:SO,__exportStar:RO,__extends:xO,__generator:NO,__importDefault:UO,__importStar:LO,__makeTemplateObject:jO,__metadata:CO,__param:wO,__propKey:TO,__read:vb,__rest:cl,__rewriteRelativeImportExtension:GO,__runInitializers:EO,__setFunctionName:AO,__spread:PO,__spreadArray:IO,__spreadArrays:OO,__values:Tf,default:m3},Symbol.toStringTag,{value:"Module"})),v3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class yb extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class y3 extends yb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class MT extends yb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class DT extends yb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $y;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($y||($y={}));class b3{constructor(t,{headers:n={},customFetch:r,region:i=$y.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=v3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ae(this,arguments,void 0,function*(n,r={}){var i;let a,l;try{const{headers:u,method:d,body:f,signal:h,timeout:m}=r;let b={},{region:_}=r;_||(_=this.region);const S=new URL(`${this.url}/${n}`);_&&_!=="any"&&(b["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let T;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(b["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(b["Content-Type"]="application/json",T=JSON.stringify(f)):T=f;let A=h;m&&(l=new AbortController,a=setTimeout(()=>l.abort(),m),h?(A=l.signal,h.addEventListener("abort",()=>l.abort())):A=l.signal);const R=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),u),body:T,signal:A}).catch(M=>{throw new y3(M)}),P=R.headers.get("x-relay-error");if(P&&P==="true")throw new MT(R);if(!R.ok)throw new DT(R);let N=((i=R.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return N==="application/json"?I=yield R.json():N==="application/octet-stream"||N==="application/pdf"?I=yield R.blob():N==="text/event-stream"?I=R:N==="multipart/form-data"?I=yield R.formData():I=yield R.text(),{data:I,error:null,response:R}}catch(u){return{data:null,error:u,response:u instanceof DT||u instanceof MT?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var wn={};const dl=JU(g3);var jd={},Ld={},Ud={},qd={},zd={},$d={},kT;function VO(){if(kT)return $d;kT=1,Object.defineProperty($d,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return $d.default=e,$d}var jT;function FO(){if(jT)return zd;jT=1,Object.defineProperty(zd,"__esModule",{value:!0});const t=dl.__importDefault(VO());class n{constructor(i){var a,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,h,m,b;let _=null,S=null,T=null,A=d.status,R=d.statusText;if(d.ok){if(this.method!=="HEAD"){const M=await d.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=M:S=JSON.parse(M))}const N=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),I=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");N&&I&&I.length>1&&(T=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(_={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,T=null,A=406,R="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const N=await d.text();try{_=JSON.parse(N),Array.isArray(_)&&d.status===404&&(S=[],_=null,A=200,R="OK")}catch{d.status===404&&N===""?(A=204,R="No Content"):_={message:N}}if(_&&this.isMaybeSingle&&(!((b=_==null?void 0:_.details)===null||b===void 0)&&b.includes("0 rows"))&&(_=null,A=200,R="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:S,count:T,status:A,statusText:R}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,h,m,b,_,S;let T="";const A=d==null?void 0:d.cause;if(A){const R=(f=A==null?void 0:A.message)!==null&&f!==void 0?f:"",P=(h=A==null?void 0:A.code)!==null&&h!==void 0?h:"";T=`${(m=d==null?void 0:d.name)!==null&&m!==void 0?m:"FetchError"}: ${d==null?void 0:d.message}`,T+=`

Caused by: ${(b=A==null?void 0:A.name)!==null&&b!==void 0?b:"Error"}: ${R}`,P&&(T+=` (${P})`),A!=null&&A.stack&&(T+=`
${A.stack}`)}else T=(_=d==null?void 0:d.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(S=d==null?void 0:d.name)!==null&&S!==void 0?S:"FetchError"}: ${d==null?void 0:d.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,a)}returns(){return this}overrideTypes(){return this}}return zd.default=n,zd}var LT;function KO(){if(LT)return qd;LT=1,Object.defineProperty(qd,"__esModule",{value:!0});const t=dl.__importDefault(FO());class n extends t.default{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var h;const m=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${b}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return qd.default=n,qd}var UT;function bb(){if(UT)return Ud;UT=1,Object.defineProperty(Ud,"__esModule",{value:!0});const t=dl.__importDefault(KO()),n=new RegExp("[,()]");class r extends t.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}regexMatch(a,l){return this.url.searchParams.append(a,`match.${l}`),this}regexIMatch(a,l){return this.url.searchParams.append(a,`imatch.${l}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}isDistinct(a,l){return this.url.searchParams.append(a,`isdistinct.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&n.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${f}fts${h}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}}return Ud.default=r,Ud}var qT;function YO(){if(qT)return Ld;qT=1,Object.defineProperty(Ld,"__esModule",{value:!0});const t=dl.__importDefault(bb());class n{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(i,a){const{head:l=!1,count:u}=a??{},d=l?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(m.length>0){const b=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Ld.default=n,Ld}var zT;function x3(){if(zT)return jd;zT=1,Object.defineProperty(jd,"__esModule",{value:!0});const e=dl,t=e.__importDefault(YO()),n=e.__importDefault(bb());class r{constructor(a,{headers:l={},schema:u,fetch:d}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:d=!1,count:f}={}){var h;let m;const b=new URL(`${this.url}/rpc/${a}`);let _;u||d?(m=u?"HEAD":"GET",Object.entries(l).filter(([T,A])=>A!==void 0).map(([T,A])=>[T,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([T,A])=>{b.searchParams.append(T,A)})):(m="POST",_=l);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new n.default({method:m,url:b,headers:S,schema:this.schemaName,body:_,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return jd.default=r,jd}var $T;function _3(){if($T)return wn;$T=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.PostgrestError=wn.PostgrestBuilder=wn.PostgrestTransformBuilder=wn.PostgrestFilterBuilder=wn.PostgrestQueryBuilder=wn.PostgrestClient=void 0;const e=dl,t=e.__importDefault(x3());wn.PostgrestClient=t.default;const n=e.__importDefault(YO());wn.PostgrestQueryBuilder=n.default;const r=e.__importDefault(bb());wn.PostgrestFilterBuilder=r.default;const i=e.__importDefault(KO());wn.PostgrestTransformBuilder=i.default;const a=e.__importDefault(FO());wn.PostgrestBuilder=a.default;const l=e.__importDefault(VO());return wn.PostgrestError=l.default,wn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},wn}var WO=_3();const JO=Vr(WO),w3=GP({__proto__:null,default:JO},[WO]),{PostgrestClient:S3,PostgrestQueryBuilder:ele,PostgrestFilterBuilder:tle,PostgrestTransformBuilder:nle,PostgrestBuilder:rle,PostgrestError:ile}=JO||w3;class E3{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const T3="2.86.0",A3=`realtime-js/${T3}`,XO="1.0.0",C3="2.0.0",BT=XO,By=1e4,N3=1e3,R3=100;var xo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xo||(xo={}));var Yt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Yt||(Yt={}));var qr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qr||(qr={}));var Hy;(function(e){e.websocket="websocket"})(Hy||(Hy={}));var _o;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_o||(_o={}));class P3{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,a;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+m.length,_=new ArrayBuffer(this.HEADER_LENGTH+b);let S=new DataView(_),T=0;S.setUint8(T++,this.KINDS.userBroadcastPush),S.setUint8(T++,d.length),S.setUint8(T++,u.length),S.setUint8(T++,l.length),S.setUint8(T++,f.length),S.setUint8(T++,m.length),S.setUint8(T++,n),Array.from(d,R=>S.setUint8(T++,R.charCodeAt(0))),Array.from(u,R=>S.setUint8(T++,R.charCodeAt(0))),Array.from(l,R=>S.setUint8(T++,R.charCodeAt(0))),Array.from(f,R=>S.setUint8(T++,R.charCodeAt(0))),Array.from(m,R=>S.setUint8(T++,R.charCodeAt(0)));var A=new Uint8Array(_.byteLength+r.byteLength);return A.set(new Uint8Array(_),0),A.set(new Uint8Array(r),_.byteLength),A.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,l,u,d]=r;return n({join_ref:i,ref:a,topic:l,event:u,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const h=r.decode(t.slice(d,d+a));d=d+a;const m=r.decode(t.slice(d,d+l));d=d+l;const b=t.slice(d,t.byteLength),_=u===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,S={type:this.BROADCAST_EVENT,event:h,payload:_};return l>0&&(S.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class QO{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(vt||(vt={}));const HT=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=O3(l,e,t,i),a),{}):{}},O3=(e,t,n,r)=>{const i=t.find(u=>u.name===e),a=i==null?void 0:i.type,l=n[e];return a&&!r.includes(a)?ZO(a,l):Gy(l)},ZO=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return k3(t,n)}switch(e){case vt.bool:return I3(t);case vt.float4:case vt.float8:case vt.int2:case vt.int4:case vt.int8:case vt.numeric:case vt.oid:return M3(t);case vt.json:case vt.jsonb:return D3(t);case vt.timestamp:return j3(t);case vt.abstime:case vt.date:case vt.daterange:case vt.int4range:case vt.int8range:case vt.money:case vt.reltime:case vt.text:case vt.time:case vt.timestamptz:case vt.timetz:case vt.tsrange:case vt.tstzrange:return Gy(t);default:return Gy(t)}},Gy=e=>e,I3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},D3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},k3=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>ZO(t,u))}return e},j3=e=>typeof e=="string"?e.replace(" ","T"):e,eI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Gg{constructor(t,n,r={},i=By){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var GT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(GT||(GT={}));class Au{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Au.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=Au.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Au.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(a,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const m=a[f];if(m){const b=h.map(A=>A.presence_ref),_=m.map(A=>A.presence_ref),S=h.filter(A=>_.indexOf(A.presence_ref)<0),T=m.filter(A=>b.indexOf(A.presence_ref)<0);S.length>0&&(u[f]=S),T.length>0&&(d[f]=T)}else u[f]=h}),this.syncDiff(a,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,d)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),h.length>0){const m=t[u].map(_=>_.presence_ref),b=h.filter(_=>m.indexOf(_.presence_ref)<0);t[u].unshift(...b)}r(u,h,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const h=d.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var VT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(VT||(VT={}));var Cu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cu||(Cu={}));var Ri;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ri||(Ri={}));class xb{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gg(this,qr.join,this.params,this.timeout),this.rejoinTimer=new QO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Au(this),this.broadcastEndpointURL=eI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Yt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Cu.PRESENCE]&&this.bindings[Cu.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},b={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(Ri.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(Ri.CLOSED)),this.updateJoinPayload(Object.assign({config:b},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket.setAuth(),_===void 0){t==null||t(Ri.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,A=(S=T==null?void 0:T.length)!==null&&S!==void 0?S:0,R=[];for(let P=0;P<A;P++){const N=T[P],{filter:{event:I,schema:M,table:D,filter:k}}=N,G=_&&_[P];if(G&&G.event===I&&G.schema===M&&G.table===D&&G.filter===k)R.push(Object.assign(Object.assign({},N),{id:G.id}));else{this.unsubscribe(),this.state=Yt.errored,t==null||t(Ri.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t(Ri.SUBSCRIBED);return}}).receive("error",_=>{this.state=Yt.errored,t==null||t(Ri.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ri.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Yt.joined&&t===Cu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Gg(this,qr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Gg(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>R3){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:h}=qr;if(r&&[u,d,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let b=this._onMessage(l,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var S,T,A;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((A=(T=_.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===l}).map(_=>_.callback(b,r)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var S,T,A,R,P,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const I=_.id,M=(S=_.filter)===null||S===void 0?void 0:S.event;return I&&((T=n.ids)===null||T===void 0?void 0:T.includes(I))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const I=(P=(R=_==null?void 0:_.filter)===null||R===void 0?void 0:R.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return I==="*"||I===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:T,table:A,commit_timestamp:R,type:P,errors:N}=S;b=Object.assign(Object.assign({},{schema:T,table:A,commit_timestamp:R,eventType:P,new:{},old:{},errors:N}),this._getPayloadRecords(S))}_.callback(b,r)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&xb.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qr.close,{},t)}_onError(t){this._on(qr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=HT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=HT(t.columns,t.old_record)),n}}const Vg=()=>{},Bd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},L3=[1e3,2e3,5e3,1e4],U3=1e4,q3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z3{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=By,this.transport=null,this.heartbeatIntervalMs=Bd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vg,this.ref=0,this.reconnectTimer=null,this.vsn=BT,this.logger=Vg,this.conn=null,this.sendBuffer=[],this.serializer=new P3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Hy.websocket}`,this.httpEndpoint=eI(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E3.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xo.connecting:return _o.Connecting;case xo.open:return _o.Open;case xo.closing:return _o.Closing;default:return _o.Closed}}isConnected(){return this.connectionState()===_o.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new xb(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(N3,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Bd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=n,u=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===xo.open||this.conn.readyState===xo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([q3],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:A3};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(qr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new QO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,l,u,d,f,h,m,b,_;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:By,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Bd.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Vg,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:BT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(S=>L3[S-1]||U3),this.vsn){case XO:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((S,T)=>T(JSON.stringify(S))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((S,T)=>T(JSON.parse(S)));break;case C3:this.encode=(b=t==null?void 0:t.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ch extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ot(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $3 extends Ch{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vy extends Ch{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const _b=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B3=()=>Response,Fy=e=>{if(Array.isArray(e))return e.map(n=>Fy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Fy(r)}),t},H3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},G3=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Fg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},V3=(e,t,n)=>Ae(void 0,void 0,void 0,function*(){const r=yield B3();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,l=(i==null?void 0:i.statusCode)||a+"";t(new $3(Fg(i),a,l))}).catch(i=>{t(new Vy(Fg(i),i))}):t(new Vy(Fg(e),e))}),F3=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(H3(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function tc(e,t,n,r,i,a){return Ae(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,F3(t,r,i,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>V3(d,u,r))})})}function Mu(e,t,n,r){return Ae(this,void 0,void 0,function*(){return tc(e,"GET",t,n,r)})}function Ur(e,t,n,r,i){return Ae(this,void 0,void 0,function*(){return tc(e,"POST",t,r,i,n)})}function Ky(e,t,n,r,i){return Ae(this,void 0,void 0,function*(){return tc(e,"PUT",t,r,i,n)})}function K3(e,t,n,r){return Ae(this,void 0,void 0,function*(){return tc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function wb(e,t,n,r,i){return Ae(this,void 0,void 0,function*(){return tc(e,"DELETE",t,r,i,n)})}class Y3{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ot(t))return{data:null,error:t};throw t}})}}var tI;class W3{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[tI]="BlobDownloadBuilder",this.promise=null}asStream(){return new Y3(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ot(t))return{data:null,error:t};throw t}})}}tI=Symbol.toStringTag;const J3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class X3{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=_b(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ae(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},FT),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),m=yield(t=="PUT"?Ky:Ur)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ae(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:FT.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const m=yield Ky(this.fetch,u.toString(),d,{headers:h});return{data:{path:a,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ot(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Ur(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new Ch("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ae(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ae(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ur(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ae(this,void 0,void 0,function*(){try{const i=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=a?`?${a}`:"",u=this._getFinalPath(t),d=()=>Mu(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new W3(d,this.shouldThrowOnError)}info(t){return Ae(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Mu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fy(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}exists(t){return Ae(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield K3(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r)&&r instanceof Vy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield wb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ae(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},J3),n),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ae(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const nI="2.86.0",rI={"X-Client-Info":`storage-js/${nI}`};class Q3{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rI),n),this.fetch=_b(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ae(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Mu(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}getBucket(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield Mu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}createBucket(t){return Ae(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ae(this,void 0,void 0,function*(){try{return{data:yield Ky(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield wb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Du=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Z3(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function e5(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function t5(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:l}){const u=Z3(e.baseUrl,r,i),d=await e5(e.auth),f=await t(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...l},body:a?JSON.stringify(a):void 0}),h=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),b=m&&h?JSON.parse(h):h;if(!f.ok){const _=m?b:void 0,S=_==null?void 0:_.error;throw new Du((S==null?void 0:S.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:_})}return{status:f.status,headers:f.headers,data:b}}}}function Hd(e){return e.join("")}var n5=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Hd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hd(e.namespace)}`}),!0}catch(t){if(t instanceof Du&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Du&&n.status===409)return;throw n}}};function Rs(e){return e.join("")}var r5=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Du&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Du&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},i5=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=t5({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new n5(this.client,t),this.tableOps=new r5(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class a5{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rI),n),this.fetch=_b(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ae(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Mu(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield wb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}from(t){if(!G3(t))throw new Ch("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new i5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ae(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Sb={"X-Client-Info":`storage-js/${nI}`,"Content-Type":"application/json"};class iI extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function or(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Kg extends iI{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class o5 extends iI{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var KT;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(KT||(KT={}));const Eb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},YT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l5=(e,t,n)=>Ae(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";t(new Kg(YT(l),i,u))}).catch(()=>{const l=i+"",u=a.statusText||`HTTP ${i} error`;t(new Kg(u,i,l))});else{const l=i+"",u=a.statusText||`HTTP ${i} error`;t(new Kg(u,i,l))}}else t(new o5(YT(e),e))}),u5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(s5(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function c5(e,t,n,r,i,a){return Ae(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,u5(t,r,i,a)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>l5(d,u,r))})})}function sr(e,t,n,r,i){return Ae(this,void 0,void 0,function*(){return c5(e,"POST",t,r,i,n)})}class d5{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sb),n),this.fetch=Eb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ae(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ae(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ae(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}}class f5{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sb),n),this.fetch=Eb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ae(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}getVectors(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}listVectors(t){return Ae(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield sr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ae(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}}class h5{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sb),n),this.fetch=Eb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ae(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}getBucket(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}listBuckets(){return Ae(this,arguments,void 0,function*(t={}){try{return{data:yield sr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ae(this,void 0,void 0,function*(){try{return{data:(yield sr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}}class p5 extends h5{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new m5(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ae(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ae(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ae(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ae(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class m5 extends d5{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ae(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ae(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ae(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ae(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new g5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class g5 extends f5{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ae(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ae(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ae(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ae(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ae(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class v5 extends Q3{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new X3(this.url,this.headers,t,this.fetch)}get vectors(){return new p5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new a5(this.url+"/iceberg",this.headers,this.fetch)}}const y5="2.86.0";let Su="";typeof Deno<"u"?Su="deno":typeof document<"u"?Su="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Su="react-native":Su="node";const b5={"X-Client-Info":`supabase-js-${Su}/${y5}`},x5={headers:b5},_5={schema:"public"},w5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},S5={},E5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),T5=()=>Headers,A5=(e,t,n)=>{const r=E5(n),i=T5();return async(a,l)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},l),{headers:f}))}};function C5(e){return e.endsWith("/")?e:e+"/"}function N5(e,t){var n,r;const{db:i,auth:a,realtime:l,global:u}=e,{db:d,auth:f,realtime:h,global:m}=t,b={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function R5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const aI="2.86.0",qs=30*1e3,Yy=3,Yg=Yy*qs,P5="http://localhost:9999",O5="supabase.auth.token",I5={"X-Client-Info":`gotrue-js/${aI}`},Wy="X-Supabase-Api-Version",oI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D5=600*1e3;class ku extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class k5 extends ku{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function j5(e){return Pe(e)&&e.name==="AuthApiError"}class wo extends ku{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class $a extends ku{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ir extends $a{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L5(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class Ps extends $a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gd extends $a{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vd extends $a{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U5(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class WT extends $a{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jy extends $a{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Wg(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class JT extends $a{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Xy extends $a{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Af="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),XT=` 	
\r=`.split(""),q5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<XT.length;t+=1)e[XT[t].charCodeAt(0)]=-2;for(let t=0;t<Af.length;t+=1)e[Af[t].charCodeAt(0)]=t;return e})();function QT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Af[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Af[r]),t.queuedBits-=6}}function sI(e,t,n){const r=q5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ZT(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{B5(l,r,n)};for(let l=0;l<e.length;l+=1)sI(e.charCodeAt(l),i,a);return t.join("")}function z5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}z5(r,t)}}function B5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Vs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)sI(e.charCodeAt(i),n,r);return new Uint8Array(t)}function H5(e){const t=[];return $5(e,n=>t.push(n)),new Uint8Array(t)}function So(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>QT(i,n,r)),QT(null,n,r),t.join("")}function G5(e){return Math.round(Date.now()/1e3)+e}function V5(){return Symbol("auth-callback")}const vn=()=>typeof window<"u"&&typeof document<"u",ho={tested:!1,writable:!1},lI=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ho.tested)return ho.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ho.tested=!0,ho.writable=!0}catch{ho.tested=!0,ho.writable=!1}return ho.writable};function F5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const uI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),K5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},po=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ra=async(e,t)=>{await e.removeItem(t)};class Nh{constructor(){this.promise=new Nh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Nh.promiseConstructor=Promise;function Jg(e){const t=e.split(".");if(t.length!==3)throw new Xy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!M5.test(t[r]))throw new Xy("JWT not in base64url format");return{header:JSON.parse(ZT(t[0])),payload:JSON.parse(ZT(t[1])),signature:Vs(t[2]),raw:{header:t[0],payload:t[1]}}}async function Y5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W5(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){r(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function J5(e){return("0"+e.toString(16)).substr(-2)}function X5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,J5).join("")}async function Q5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Z5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Q5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Os(e,t,n=!1){const r=X5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await zs(e,`${t}-code-verifier`,i);const a=await Z5(r);return[a,r===a?"plain":"s256"]}const e6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t6(e){const t=e.headers.get(Wy);if(!t||!t.match(e6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function n6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function r6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Is(e){if(!i6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function a6(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function e1(e){return JSON.parse(JSON.stringify(e))}const go=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o6=[502,503,504];async function t1(e){var t;if(!K5(e))throw new Jy(go(e),0);if(o6.includes(e.status))throw new Jy(go(e),e.status);let n;try{n=await e.json()}catch(a){throw new wo(go(a),a)}let r;const i=t6(e);if(i&&i.getTime()>=oI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new JT(go(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ir}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new JT(go(n),e.status,n.weak_password.reasons);throw new k5(go(n),e.status||500,r)}const s6=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ze(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Wy]||(a[Wy]=oI["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await l6(e,t,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function l6(e,t,n,r,i,a){const l=s6(t,r,i,a);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Jy(go(d),0)}if(u.ok||await t1(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await t1(d)}}function Lr(e){var t;let n=null;d6(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=G5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function n1(e){const t=Lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ma(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function u6(e){return{data:e,error:null}}function c6(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,l=cl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function r1(e){return e}function d6(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qg=["global","local","others"];class f6{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=uI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Qg[0]){if(Qg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qg.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ma})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=cl(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:c6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ma})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:r1});if(h.error)throw h.error;const m=await h.json(),b=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);f[`${A}Page`]=T}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Pe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Is(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ma})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Is(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ma})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Is(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ma})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Is(t.userId);try{const{data:n,error:r}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Is(t.userId),Is(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:r1});if(h.error)throw h.error;const m=await h.json(),b=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);f[`${A}Page`]=T}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Pe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}function i1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ms={debug:!!(globalThis&&lI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class h6 extends cI{}async function p6(e,t,n){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new h6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ms.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function m6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function g6(e){return parseInt(e,16)}function v6(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function y6(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:h,uri:m,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=dI(e.address),S=h?`${h}://${r}`:r,T=e.statement?`${e.statement}
`:"",A=`${S} wants you to sign in with your Ethereum account:
${_}

${T}`;let R=`URI: ${m}
Version: ${b}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(R+=`
Expiration Time: ${i.toISOString()}`),u&&(R+=`
Not Before: ${u.toISOString()}`),d&&(R+=`
Request ID: ${d}`),f){let P=`
Resources:`;for(const N of f){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);P+=`
- ${N}`}R+=P}return`${A}
${R}`}class Bt extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Cf extends Bt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function b6({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(fI(l)){if(a.rp.id!==l)return new Bt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function x6({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(fI(r)){if(n.rpId!==r)return new Bt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class _6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const w6=new _6;function S6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=cl(e,["challenge","user","excludeCredentials"]),a=Vs(t).buffer,l=Object.assign(Object.assign({},n),{id:Vs(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Vs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function E6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=cl(e,["challenge","allowCredentials"]),i=Vs(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Vs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function T6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:So(new Uint8Array(e.response.attestationObject)),clientDataJSON:So(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function A6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:So(new Uint8Array(i.authenticatorData)),clientDataJSON:So(new Uint8Array(i.clientDataJSON)),signature:So(new Uint8Array(i.signature)),userHandle:i.userHandle?So(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function a1(){var e,t;return!!(vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function C6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cf("Browser returned unexpected credential type",t)}:{data:null,error:new Cf("Empty credential response",t)}}catch(t){return{data:null,error:b6({error:t,options:e})}}}async function N6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cf("Browser returned unexpected credential type",t)}:{data:null,error:new Cf("Empty credential response",t)}}catch(t){return{data:null,error:x6({error:t,options:e})}}}const R6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},P6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(t(l)){const u=r[a];t(u)?r[a]=Nf(u,l):r[a]=Nf(l)}else r[a]=l}return r}function O6(e,t){return Nf(R6,e,t||{})}function I6(e,t){return Nf(P6,e,t||{})}class M6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=i??w6.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=O6(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:m}=await C6({publicKey:f,signal:d});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const f=I6(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:m}=await N6(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(l){return Pe(l)?{data:null,error:l}:{data:null,error:new wo("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new ku("rpId is required for WebAuthn authentication")};try{if(!a1())return{data:null,error:new wo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return Pe(l)?{data:null,error:l}:{data:null,error:new wo("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new ku("rpId is required for WebAuthn registration")};try{if(!a1())return{data:null,error:new wo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Pe(l)?{data:null,error:l}:{data:null,error:new wo("Unexpected error in register",l)}}}}m6();const D6={url:P5,storageKey:O5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function o1(e,t,n){return await n()}const Ds={};class ju{get jwks(){var t,n;return(n=(t=Ds[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ds[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},D6),t);if(this.storageKey=a.storageKey,this.instanceID=(n=ju.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ju.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&vn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new f6({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=uI(a.fetch),this.lock=a.lock||o1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:vn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=p6:this.lock=o1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new M6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:lI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=i1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=i1(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${aI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(vn()&&(n=F5(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),U5(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Pe(n)?this._returnResult({error:n}):this._returnResult({error:new wo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Lr}),{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:m,options:b}=t;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Os(this.storage,this.storageKey)),a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:h,password:m,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:_,code_challenge_method:S},xform:Lr})}else if("phone"in t){const{phone:h,password:m,options:b}=t;a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(i=b==null?void 0:b.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Lr})}else throw new Gd("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:u}=t;n=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:n1})}else if("phone"in t){const{phone:a,password:l,options:u}=t;n=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:n1})}else throw new Gd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Ps;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,l,u,d,f,h,m,b;let _,S;if("message"in t)_=t.message,S=t.signature;else{const{chain:T,wallet:A,statement:R,options:P}=t;let N;if(vn())if(typeof A=="object")N=A;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")N=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=A}const I=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),M=await N.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=dI(M[0]);let k=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const U=await N.request({method:"eth_chainId"});k=g6(U)}const G={domain:I.host,address:D,statement:R,uri:I.href,version:"1",chainId:k,nonce:(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.resources};_=y6(G),S=await N.request({method:"personal_sign",params:[v6(_),D]})}try{const{data:T,error:A}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Lr});if(A)throw A;if(!T||!T.session||!T.user){const R=new Ps;return this._returnResult({data:{user:null,session:null},error:R})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:A})}catch(T){if(Pe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var n,r,i,a,l,u,d,f,h,m,b,_;let S,T;if("message"in t)S=t.message,T=t.signature;else{const{chain:A,wallet:R,statement:P,options:N}=t;let I;if(vn())if(typeof R=="object")I=R;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))I=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=R}const M=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const D=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),P?{statement:P}:null));let k;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")k=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)k=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)S=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),T=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${M.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((m=(h=N==null?void 0:N.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...N.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const D=await I.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=D}}try{const{data:A,error:R}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:So(T)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Lr});if(R)throw R;if(!A||!A.session||!A.user){const P=new Ps;return this._returnResult({data:{user:null,session:null},error:P})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:R})}catch(A){if(Pe(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const n=await po(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:l}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Lr});if(await Ra(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new Ps;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:l}=t,u=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Lr}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const h=new Ps;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Os(this.storage,this.storageKey));const{error:m}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:h}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new Gd("You must provide either an email or phone number.")}catch(u){if(Pe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Lr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Os(this.storage,this.storageKey));const f=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:u6});return!((a=f.data)===null||a===void 0)&&a.url&&vn()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(Pe(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ir;const{error:i}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:l}=await ze(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:l,error:u}=await ze(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Gd("You must provide either an email or phone number and a type")}catch(n){if(Pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await po(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Yg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await po(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Xg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=a6(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ma}):await this._useSession(async n=>{var r,i,a;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ir}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ma})})}catch(n){if(Pe(n))return L5(n)&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ir;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Os(this.storage,this.storageKey));const{data:f,error:h}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Ma});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(Pe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ir;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:l}=Jg(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ir;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!vn())throw new Vd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new WT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new WT("No code detected.");const{data:P,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!a||!u||!l||!f)throw new Vd("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let b=h+m;d&&(b=parseInt(d));const _=b-h;_*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const S=b-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,h);const{data:T,error:A}=await this._getUser(a);if(A)throw A;const R={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:b,refresh_token:l,token_type:f,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:t.type},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await po(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(j5(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=V5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Os(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Pe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var l,u,d,f,h;const{data:m,error:b}=a;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return vn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:h}=t,m=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lr}),{data:b,error:_}=m;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Ps}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)throw l;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await W5(async i=>(i>0&&await Y5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lr})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Wg(a)&&Date.now()+l-r<qs})}catch(r){if(this._debug(n,"error",r),Pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await po(this.storage,this.storageKey);if(i&&this.userStorage){let l=await po(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await zs(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Xg()}else if(i&&!i.user&&!i.user){const l=await po(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Ra(this.storage,this.storageKey+"-user"),await zs(this.storage,this.storageKey,i)):i.user=Xg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Yg;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Yg}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Wg(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ir;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Nh;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new ir;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),Pe(a)){const l={data:null,error:a};return Wg(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await zs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=e1(i);await zs(this.storage,this.storageKey,a)}else{const i=e1(n);await zs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ra(this.storage,this.storageKey),await Ra(this.storage,this.storageKey+"-code-verifier"),await Ra(this.storage,this.storageKey+"-user"),this.userStorage&&await Ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qs}ms, refresh threshold is ${Yy} ticks`),i<=Yy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Os(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?T6(t.webauthn.credential_response):A6(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:S6(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:E6(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Jg(r.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ir})})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ir});const l=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&vn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ir});const l=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&vn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ir})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ir})})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+D5>i)return r;const{data:a,error:l}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});r=_.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:d}}=Jg(r);n!=null&&n.allowExpired||n6(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:i,signature:l},error:null}}const h=r6(i.alg),m=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,H5(`${u}.${d}`)))throw new Xy("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}}ju.nextInstanceID={};const k6=ju;class j6 extends k6{constructor(t){super(t)}}class L6{constructor(t,n,r){var i,a,l;this.supabaseUrl=t,this.supabaseKey=n;const u=R5(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:_5,realtime:S5,auth:Object.assign(Object.assign({},w5),{storageKey:d}),global:x5},h=N5(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=A5(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new S3(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new v5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new b3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:u,lock:d,debug:f,throwOnError:h},m,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new j6({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),m),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:u,lock:d,debug:f,throwOnError:h,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new z3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const U6=(e,t,n)=>new L6(e,t,n);function q6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}q6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const z6="https://rgtfxuurnqahvchmgiuu.supabase.co",$6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJndGZ4dXVybnFhaHZjaG1naXV1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyMzA4MzAsImV4cCI6MjA3OTgwNjgzMH0.jvW3_j8zyzPAe5drgon5X5c5NfktROyZ2yuY0aLOnds",pe=U6(z6,$6),ks=async e=>{const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")},He=(e,t)=>{if(!e)return;let n="Erro desconhecido";try{typeof e=="string"?n=e:e instanceof Error?n=e.message:typeof e=="object"&&(n=e.message||e.error_description||e.details||(e.code?`Cdigo SQL: ${e.code}`:JSON.stringify(e)))}catch{n="Erro ao processar mensagem de erro"}console.error(`Error in ${t}:`,n,e),n.includes("schema cache")||n.includes("acquisition_date")||n.includes("equipment_images")||n.includes("signature_url")||n.includes("structural_issues")||n.includes("notify_admin")||n.includes("document_categories")?alert(`ERRO DE SCHEMA: O banco de dados est desatualizado.

Por favor, v ao Dashboard, baixe o Script de Migrao V17 e execute-o no Supabase.`):n.includes("Could not find the table")||n.includes("does not exist")||n.includes("42P01")?alert(`ERRO DE BANCO DE DADOS: Tabela no encontrada.

Execute o script de migrao no Supabase.`):n.includes("duplicate key")?alert(`Erro ao ${t}: J existe um registro com este identificador.`):alert(`Erro ao ${t}: ${String(n)}`)},st=async(e,t,n,r)=>{try{pe.from("audit_logs").insert([{enterprise_id:e,user_email:t,action:n,details:r}]).then(({error:i})=>{i&&console.error("Failed to write audit log:",i)})}catch(i){console.error("Audit Log Exception:",i)}},Fd=(e,t,n)=>{console.log(`[MOCK EMAIL] To: ${e} | Subject: ${t}`)},Rh=e=>new Promise((t,n)=>{if(e.type.startsWith("image/")){const r=new FileReader;r.readAsDataURL(e),r.onload=i=>{var l;const a=new Image;a.src=(l=i.target)==null?void 0:l.result,a.onload=()=>{var b;const u=document.createElement("canvas");let d=a.width,f=a.height;const h=1024;d>f?d>h&&(f*=h/d,d=h):f>h&&(d*=h/f,f=h),u.width=d,u.height=f;const m=u.getContext("2d");if(m){m.drawImage(a,0,0,d,f);const _=u.toDataURL("image/jpeg",.7);t(_)}else t((b=i.target)==null?void 0:b.result)},a.onerror=u=>n(u)},r.onerror=i=>n(i)}else{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=i=>n(i)}}),s1=e=>({id:e.id,enterpriseId:e.enterprise_id,name:e.name,category:e.category,location:e.location,description:e.description,installDate:e.install_date,acquisitionDate:e.acquisition_date,lastMaintenance:e.last_maintenance,nextMaintenance:e.next_maintenance,qrCodeUrl:e.qr_code_url,status:e.status,createdAt:e.created_at}),l1=e=>{var t;return{id:e.id,enterpriseId:e.enterprise_id,enterpriseName:(t=e.enterprises)==null?void 0:t.name,title:e.title,assignedTo:e.assigned_to,status:e.status,dueDate:e.due_date,description:e.description,audioDescription:e.audio_description,notifyAssignee:e.notify_assignee,createdAt:e.created_at}},B6=e=>({id:e.id,enterpriseId:e.enterprise_id,unit:e.unit,date:e.date,reading:e.reading,previousReading:e.previous_reading}),H6=e=>({id:e.id,enterpriseId:e.enterprise_id,title:e.title,description:e.description,location:e.location,priority:e.priority,status:e.status,reportedBy:e.reported_by,notifyAdmin:e.notify_admin,createdAt:e.created_at,resolvedAt:e.resolved_at}),be={login:async(e,t)=>{try{const n=await ks(t),r=e.trim().toLowerCase(),{data:i,error:a}=await pe.from("app_users").select("*").eq("email",r).eq("password_hash",n).single();if(a||!i)return(a==null?void 0:a.code)==="42P01"&&alert("ERRO CRTICO: Tabelas de autenticao (app_users) no encontradas. Execute o Script de Migrao V14."),null;const{data:l,error:u}=await pe.from("memberships").select("*, enterprises(name)").eq("user_email",r);if(u||!l||l.length===0)return null;const d=l.map(f=>{var m;let h=((m=f.enterprises)==null?void 0:m.name)||"Desconhecido";return h==="Condomnio de Condominio"&&(h="Condomnio Assembleia 66"),{enterpriseId:f.enterprise_id,enterpriseName:h,role:f.role,permissions:f.permissions||{},notifications:f.notifications||{}}});return d.forEach(f=>st(f.enterpriseId,r,"LOGIN","Usurio acessou o sistema")),{id:r,email:r,name:i.name||r.split("@")[0],memberships:d}}catch(n){return console.error("Login Exception:",n),null}},registerSystemUser:async(e,t,n,r)=>{try{const i=t.trim().toLowerCase(),a=await ks(n),{data:l}=await pe.from("app_users").select("email").eq("email",i).single();if(l)return{success:!1,message:"E-mail j cadastrado no sistema."};const{error:u}=await pe.from("app_users").insert([{email:i,name:e,password_hash:a}]);if(u)throw u;const d=r&&r.trim()?r:"Condomnio Assembleia 66",{data:f,error:h}=await pe.from("enterprises").insert([{name:d}]).select("id").single();if(h||!f)throw new Error("Erro ao criar condomnio padro.");const m=f.id,b={};Object.values(Ue).forEach(T=>b[T]=Se.FULL_ACCESS);const _={};Object.values(Ue).forEach(T=>_[T]=!0);const{error:S}=await pe.from("memberships").insert([{enterprise_id:m,user_email:i,user_name:e,role:Pn.ADMIN,permissions:b,notifications:_}]);if(S)throw S;return await be.addUnit("Unidade 101",m,i),await be.addEquipmentCategory("Geral",m),await be.addEquipmentLocation("Portaria",m),["Geral","Financeiro","Atas","Regimentos","Manuais","Plantas"].forEach(T=>be.addDocumentCategory(T,m)),{success:!0,message:"Conta criada com sucesso! Faa login para continuar."}}catch(i){return{success:!1,message:i.message||"Erro ao criar conta."}}},resetPasswordRequest:async e=>{const{data:t}=await pe.from("app_users").select("email").eq("email",e.toLowerCase()).single();return!!t},changePassword:async(e,t)=>{const n=await ks(t),{error:r}=await pe.from("app_users").update({password_hash:n}).eq("email",e);return r?(He(r,"alterar senha"),!1):!0},registerMember:async(e,t,n,r,i,a,l,u)=>{const d=n.trim().toLowerCase(),{data:f}=await pe.from("app_users").select("email").eq("email",d).single();if(f){if(u){const m=await ks(u);await pe.from("app_users").update({name:r,password_hash:m}).eq("email",d)}}else{if(!u){alert("Senha  obrigatria para novos usurios.");return}const m=await ks(u),{error:b}=await pe.from("app_users").insert([{email:d,name:r,password_hash:m}]);if(b){He(b,"criar usurio base");return}}const{error:h}=await pe.from("memberships").insert([{enterprise_id:e,user_email:d,user_name:r,role:i,permissions:a,notifications:l}]);h?He(h,"cadastrar vnculo"):st(e,t,"CADASTRAR_USUARIO",`Cadastrou ${d} como ${i}`)},updateMember:async(e,t,n,r,i,a,l,u)=>{if(u){const f=await ks(u);await pe.from("app_users").update({name:r,password_hash:f}).eq("email",n)}else await pe.from("app_users").update({name:r}).eq("email",n);const{error:d}=await pe.from("memberships").update({user_name:r,role:i,permissions:a,notifications:l}).eq("enterprise_id",e).eq("user_email",n);d?He(d,"atualizar usurio"):st(e,t,"ATUALIZAR_USUARIO",`Atualizou ${n}`)},deleteMember:async(e,t,n)=>{const{error:r}=await pe.from("memberships").delete().eq("enterprise_id",e).eq("user_email",n);r?He(r,"excluir usurio"):st(e,t,"EXCLUIR_USUARIO",`Removeu acesso de ${n}`)},getEnterpriseUsers:async e=>{const{data:t,error:n}=await pe.from("memberships").select("*").eq("enterprise_id",e);return n?[]:t.map(r=>({enterpriseId:r.enterprise_id,enterpriseName:"",role:r.role,permissions:r.permissions||{},notifications:r.notifications||{},userName:r.user_name,userEmail:r.user_email}))},getAuditLogs:async(e,t)=>{let n=pe.from("audit_logs").select("*").eq("enterprise_id",e).order("created_at",{ascending:!1});t?(t.user&&(n=n.ilike("user_email",`%${t.user}%`)),t.action&&(n=n.eq("action",t.action)),t.startDate&&(n=n.gte("created_at",`${t.startDate}T00:00:00`)),t.endDate&&(n=n.lte("created_at",`${t.endDate}T23:59:59`)),n=n.limit(500)):n=n.limit(50);const{data:r,error:i}=await n;return i?[]:r.map(a=>({id:a.id,enterpriseId:a.enterprise_id,userEmail:a.user_email,action:a.action,details:a.details,createdAt:a.created_at}))},updateEnterpriseSettings:async(e,t,n)=>{const{error:r}=await pe.from("enterprises").update({settings:n}).eq("id",e);r?He(r,"atualizar configuraes"):st(e,t,"ATUALIZAR_CONFIG","Atualizou configuraes do condomnio")},getEnterpriseSettings:async e=>{const{data:t}=await pe.from("enterprises").select("settings").eq("id",e).single();return(t==null?void 0:t.settings)||{}},getUnits:async e=>{const{data:t,error:n}=await pe.from("units").select("name").eq("enterprise_id",e).order("name");return n?[]:(t||[]).map(r=>r.name)},addUnit:async(e,t,n)=>{const{error:r}=await pe.from("units").insert([{name:e,enterprise_id:t}]);r?He(r,"adicionar unidade"):st(t,n,"CRIAR_UNIDADE",`Nova unidade: ${e}`)},deleteUnit:async(e,t,n)=>{const{error:r}=await pe.from("units").delete().eq("name",e).eq("enterprise_id",t);r?He(r,"excluir unidade"):st(t,n,"EXCLUIR_UNIDADE",`Excluiu unidade: ${e}`)},getWaterReadings:async e=>{const{data:t,error:n}=await pe.from("water_readings").select("*").eq("enterprise_id",e).order("date",{ascending:!1});return n?[]:(t||[]).map(B6)},addWaterReading:async(e,t)=>{var n;try{const{data:r}=await pe.from("water_readings").select("reading").eq("enterprise_id",e.enterpriseId).eq("unit",e.unit).order("date",{ascending:!1}).limit(1),i=r&&r.length>0?r[0].reading:e.reading,{error:a}=await pe.from("water_readings").insert([{enterprise_id:e.enterpriseId,unit:e.unit,date:e.date,reading:e.reading,previous_reading:i}]);if(a)throw a;const l=e.reading-i;st(e.enterpriseId,t,"REGISTRAR_LEITURA",`Unidade ${e.unit}: ${e.reading}m`);const{data:u}=await pe.from("enterprises").select("settings").eq("id",e.enterpriseId).single(),d=((n=u==null?void 0:u.settings)==null?void 0:n.waterLimit)||999999;l>d&&(console.log(`[ALERT] High Consumption: ${l} > ${d}`),Fd(t,"Alerta de Consumo Elevado",`A unidade ${e.unit} registrou um consumo de ${l.toFixed(2)}m, acima do limite de ${d}m.`))}catch(r){He(r,"salvar leitura")}},updateWaterReading:async(e,t,n,r)=>{const{error:i}=await pe.from("water_readings").update(t).eq("id",e);i?He(i,"atualizar leitura"):st(n,r,"EDITAR_LEITURA",`Atualizou leitura ID ${e.substring(0,6)}`)},deleteWaterReading:async(e,t,n)=>{const{error:r}=await pe.from("water_readings").delete().eq("id",e);r?He(r,"excluir leitura"):st(t,n,"EXCLUIR_LEITURA",`Removeu leitura ID ${e.substring(0,6)}`)},getTasks:async(e,t,n)=>{try{let r=pe.from("tasks").select("*, enterprises(name)").eq("enterprise_id",n);t!==Se.FULL_ACCESS&&(r=r.eq("assigned_to",e.toLowerCase()));const{data:i,error:a}=await r.order("due_date",{ascending:!0});return a?[]:(i||[]).map(l1)}catch{return[]}},getUnifiedTasks:async(e,t)=>{try{const n=t.map(a=>{const l=a.permissions[Ue.TASKS]||Se.NONE;return l===Se.NONE?Promise.resolve([]):be.getTasks(e,l,a.enterpriseId)});return(await Promise.all(n)).flat().sort((a,l)=>{const u=a.dueDate?new Date(a.dueDate).getTime():0,d=l.dueDate?new Date(l.dueDate).getTime():0;return u-d})}catch{return[]}},addTask:async(e,t)=>{if(!e.assignedTo)return alert("Erro: Responsvel  obrigatrio."),null;const n={enterprise_id:e.enterpriseId,title:e.title,description:e.description,assigned_to:e.assignedTo.toLowerCase(),status:e.status,due_date:e.dueDate,notify_assignee:e.notifyAssignee??!0};e.audioDescription!==void 0&&(n.audio_description=e.audioDescription);const{data:r,error:i}=await pe.from("tasks").insert([n]).select().single();return!i&&r?(st(e.enterpriseId,t,"CRIAR_TAREFA",`Tarefa: "${e.title}" para ${e.assignedTo}`),e.notifyAssignee!==!1&&Fd(e.assignedTo,"Nova Tarefa Atribuda",`Voc recebeu uma nova tarefa: ${e.title}`),l1(r)):(He(i,"adicionar tarefa"),null)},updateTask:async(e,t,n,r)=>{let i=t.title;if(!i){const{data:u}=await pe.from("tasks").select("title").eq("id",e).single();i=(u==null?void 0:u.title)||"Desconhecida"}const a={};t.title!==void 0&&(a.title=t.title),t.description!==void 0&&(a.description=t.description),t.audioDescription!==void 0&&(a.audio_description=t.audioDescription),t.assignedTo!==void 0&&(a.assigned_to=t.assignedTo.toLowerCase()),t.status!==void 0&&(a.status=t.status),t.dueDate!==void 0&&(a.due_date=t.dueDate),t.notifyAssignee!==void 0&&(a.notify_assignee=t.notifyAssignee);const{error:l}=await pe.from("tasks").update(a).eq("id",e);if(l)He(l,"atualizar tarefa");else{let u=`Tarefa "${i}"`;t.status&&(u+=` -> Status: ${t.status}`),st(n,r,"ATUALIZAR_TAREFA",u),t.notifyAssignee&&t.assignedTo&&Fd(t.assignedTo,"Tarefa Atualizada")}},deleteTask:async(e,t,n)=>{const{data:r}=await pe.from("tasks").select("title").eq("id",e).single(),i=(r==null?void 0:r.title)||e,{error:a}=await pe.from("tasks").delete().eq("id",e);a?He(a,"excluir tarefa"):st(t,n,"EXCLUIR_TAREFA",`Excluiu tarefa: "${i}"`)},getTaskComments:async e=>{const{data:t,error:n}=await pe.from("task_comments").select("*").eq("task_id",e).order("created_at",{ascending:!0});return n?[]:t.map(r=>({id:r.id,taskId:r.task_id,userEmail:r.user_email,userName:r.user_name,content:r.content,contentType:r.content_type,createdAt:r.created_at}))},addTaskComment:async(e,t,n,r,i)=>{const{error:a}=await pe.from("task_comments").insert([{task_id:e,user_email:t,user_name:n,content:r,content_type:i}]);a&&He(a,"adicionar comentrio")},getTaskAttachments:async e=>{const{data:t,error:n}=await pe.from("task_attachments").select("*").eq("task_id",e).order("created_at",{ascending:!1});return n?[]:t.map(r=>({id:r.id,taskId:r.task_id,type:r.type,url:r.url,createdAt:r.created_at}))},addTaskAttachment:async(e,t)=>{const{error:n}=await pe.from("task_attachments").insert([{task_id:e,type:"IMAGE",url:t}]);n&&He(n,"adicionar anexo")},getAvailableUsers:async e=>{try{const{data:t}=await pe.from("memberships").select("user_email, user_name").eq("enterprise_id",e),n=(t||[]).map(a=>({name:a.user_name||a.user_email,id:a.user_email,type:"USER"})),{data:r}=await pe.from("custom_assignees").select("name").eq("enterprise_id",e),i=(r||[]).map(a=>({name:a.name,id:a.name,type:"CUSTOM"}));return[...n,...i]}catch{return[]}},addCustomAssignee:async(e,t)=>{const{error:n}=await pe.from("custom_assignees").insert([{name:e,enterprise_id:t}]);He(n,"adicionar responsvel")},deleteCustomAssignee:async(e,t)=>{const{error:n}=await pe.from("custom_assignees").delete().eq("name",e).eq("enterprise_id",t);He(n,"excluir responsvel")},getEquipment:async e=>{const{data:t,error:n}=await pe.from("equipment").select("*").eq("enterprise_id",e);return n?[]:(t||[]).map(s1)},addEquipment:async(e,t)=>{const{data:n,error:r}=await pe.from("equipment").insert([{enterprise_id:e.enterpriseId,name:e.name,category:e.category,location:e.location,description:e.description,install_date:e.installDate,acquisition_date:e.acquisitionDate,last_maintenance:e.lastMaintenance,next_maintenance:e.nextMaintenance,status:e.status}]).select().single();return!r&&n?(st(e.enterpriseId,t,"ADICIONAR_EQUIPAMENTO",`Equipamento: ${e.name}`),s1(n)):(He(r,"adicionar equipamento"),null)},updateEquipment:async(e,t,n,r)=>{const i={name:t.name,category:t.category,location:t.location,description:t.description,install_date:t.installDate,acquisition_date:t.acquisitionDate,status:t.status};Object.keys(i).forEach(l=>i[l]===void 0&&delete i[l]);const{error:a}=await pe.from("equipment").update(i).eq("id",e);a?He(a,"atualizar equipamento"):st(n,r,"ATUALIZAR_EQUIPAMENTO",`Atualizou equipamento ID ${e.substring(0,8)}`)},deleteEquipment:async(e,t,n)=>{const{data:r}=await pe.from("equipment").select("name").eq("id",e).single(),i=(r==null?void 0:r.name)||e,{error:a}=await pe.from("equipment").delete().eq("id",e);a?He(a,"excluir equipamento"):st(t,n,"EXCLUIR_EQUIPAMENTO",`Excluiu equipamento: ${i}`)},getEquipmentImages:async e=>{const{data:t,error:n}=await pe.from("equipment_images").select("*").eq("equipment_id",e).order("created_at",{ascending:!1});return n?[]:t.map(r=>({id:r.id,equipmentId:r.equipment_id,url:r.url,createdAt:r.created_at}))},addEquipmentImage:async(e,t)=>{const{error:n}=await pe.from("equipment_images").insert([{equipment_id:e,url:t}]);n&&He(n,"adicionar imagem ao equipamento")},getEquipmentCategories:async e=>{const{data:t,error:n}=await pe.from("equipment_categories").select("name").eq("enterprise_id",e);return n?[]:(t||[]).map(r=>r.name)},addEquipmentCategory:async(e,t)=>{const{error:n}=await pe.from("equipment_categories").insert([{name:e,enterprise_id:t}]);He(n,"adicionar categoria")},updateEquipmentCategory:async(e,t,n,r)=>{const{error:i}=await pe.from("equipment_categories").update({name:t}).eq("enterprise_id",n).eq("name",e);if(i){He(i,"atualizar categoria");return}const{error:a}=await pe.from("equipment").update({category:t}).eq("enterprise_id",n).eq("category",e);a||st(n,r,"EDITAR_CATEGORIA",`Renomeou categoria "${e}" para "${t}"`)},deleteEquipmentCategory:async(e,t)=>{const{error:n}=await pe.from("equipment_categories").delete().eq("name",e).eq("enterprise_id",t);He(n,"excluir categoria")},getEquipmentLocations:async e=>{const{data:t,error:n}=await pe.from("equipment_locations").select("name").eq("enterprise_id",e);return n?[]:(t||[]).map(r=>r.name)},addEquipmentLocation:async(e,t)=>{const{error:n}=await pe.from("equipment_locations").insert([{name:e,enterprise_id:t}]);He(n,"adicionar local")},updateEquipmentLocation:async(e,t,n,r)=>{const{error:i}=await pe.from("equipment_locations").update({name:t}).eq("enterprise_id",n).eq("name",e);if(i){He(i,"atualizar localizao");return}const{error:a}=await pe.from("equipment").update({location:t}).eq("enterprise_id",n).eq("location",e);a||st(n,r,"EDITAR_LOCAL",`Renomeou local "${e}" para "${t}"`)},deleteEquipmentLocation:async(e,t)=>{const{error:n}=await pe.from("equipment_locations").delete().eq("name",e).eq("enterprise_id",t);He(n,"excluir local")},addMaintenanceLog:async(e,t,n)=>{const{error:r}=await pe.from("maintenance_logs").insert([{equipment_id:e.equipmentId,date:e.date,technician:e.technician,description:e.description,type:e.type,signature_url:e.signatureUrl}]);r?He(r,"registrar manuteno"):(await pe.from("equipment").update({last_maintenance:e.date}).eq("id",e.equipmentId),st(n,t,"REGISTRAR_MANUTENCAO",`Manuteno em equipamento ID ${e.equipmentId}`))},updateMaintenanceLog:async(e,t,n,r)=>{const i={date:t.date,technician:t.technician,description:t.description,type:t.type,signature_url:t.signatureUrl};Object.keys(i).forEach(l=>i[l]===void 0&&delete i[l]);const{error:a}=await pe.from("maintenance_logs").update(i).eq("id",e);a?He(a,"editar manuteno"):st(n,r,"EDITAR_MANUTENCAO",`Editou log ID ${e.substring(0,8)}`)},getMaintenanceLogs:async e=>{const{data:t,error:n}=await pe.from("maintenance_logs").select("*").eq("equipment_id",e).order("date",{ascending:!1});return n?[]:(t||[]).map(r=>({id:r.id,equipmentId:r.equipment_id,date:r.date,technician:r.technician,description:r.description,type:r.type,signatureUrl:r.signature_url}))},deleteMaintenanceLog:async(e,t,n)=>{const{error:r}=await pe.from("maintenance_logs").delete().eq("id",e);r?He(r,"excluir manuteno"):st(t,n,"EXCLUIR_MANUTENCAO",`Excluiu log de manuteno ID ${e.substring(0,8)}`)},getSuppliers:async e=>{const{data:t,error:n}=await pe.from("suppliers").select("*").eq("enterprise_id",e);return n?[]:(t||[]).map(r=>({id:r.id,enterpriseId:r.enterprise_id,name:r.name,serviceType:r.service_type,contact:r.contact,rating:r.rating}))},getDocuments:async e=>{const{data:t,error:n}=await pe.from("documents").select("*").eq("enterprise_id",e).order("date",{ascending:!1});return n?[]:(t||[]).map(r=>({id:r.id,enterpriseId:r.enterprise_id,title:r.title,category:r.category,url:r.url,fileType:r.file_type,date:r.date}))},addDocument:async(e,t,n)=>{var r;try{const i=await Rh(e.file),a=((r=e.file.type.split("/")[1])==null?void 0:r.toUpperCase())||"FILE",{error:l}=await pe.from("documents").insert([{enterprise_id:t,title:e.title,category:e.category,url:i,file_type:a,date:e.date}]);l?He(l,"adicionar documento"):st(t,n,"UPLOAD_DOC",`Upload documento: ${e.title}`)}catch(i){He(i,"processar arquivo")}},updateDocument:async(e,t,n,r)=>{const{error:i}=await pe.from("documents").update(t).eq("id",e);i?He(i,"editar documento"):st(n,r,"EDITAR_DOC",`Editou documento ID ${e.substring(0,8)}`)},deleteDocument:async(e,t,n)=>{const{data:r}=await pe.from("documents").select("title").eq("id",e).single(),{error:i}=await pe.from("documents").delete().eq("id",e);i?He(i,"excluir documento"):st(t,n,"EXCLUIR_DOC",`Excluiu documento: ${r==null?void 0:r.title}`)},getDocumentCategories:async e=>{const{data:t,error:n}=await pe.from("document_categories").select("name").eq("enterprise_id",e);return n?[]:(t||[]).map(r=>r.name)},addDocumentCategory:async(e,t)=>{const{error:n}=await pe.from("document_categories").insert([{name:e,enterprise_id:t}]);n&&He(n,"adicionar categoria de documento")},updateDocumentCategory:async(e,t,n,r)=>{const{error:i}=await pe.from("document_categories").update({name:t}).eq("enterprise_id",n).eq("name",e);if(i){He(i,"atualizar categoria de documento");return}const{error:a}=await pe.from("documents").update({category:t}).eq("enterprise_id",n).eq("category",e);a||st(n,r,"EDITAR_CATEGORIA_DOC",`Renomeou categoria doc "${e}" para "${t}"`)},deleteDocumentCategory:async(e,t)=>{const{error:n}=await pe.from("document_categories").delete().eq("name",e).eq("enterprise_id",t);n&&He(n,"excluir categoria de documento")},getStructuralIssues:async e=>{const{data:t,error:n}=await pe.from("structural_issues").select("*, structural_photos(url)").eq("enterprise_id",e).order("priority",{ascending:!1});return n?[]:(t||[]).map(r=>{var i,a;return{...H6(r),coverPhoto:((a=(i=r.structural_photos)==null?void 0:i[0])==null?void 0:a.url)||void 0}})},addStructuralIssue:async(e,t,n)=>{const{data:r,error:i}=await pe.from("structural_issues").insert([{enterprise_id:e.enterpriseId,title:e.title,description:e.description,location:e.location,priority:e.priority,status:"REPORTED",reported_by:e.reportedBy,notify_admin:e.notifyAdmin??!0}]).select().single();if(i||!r){He(i,"reportar problema estrutural");return}if(st(e.enterpriseId,n,"REPORTAR_ESTRUTURAL",`Reportou: ${e.title}`),t.length>0){const a=t.map(l=>({issue_id:r.id,url:l}));await pe.from("structural_photos").insert(a)}e.notifyAdmin&&Fd("Admins","Novo Problema Estrutural",`Problema "${e.title}" reportado em ${e.location} com prioridade ${e.priority}.`)},updateStructuralIssue:async(e,t,n,r)=>{const i={title:t.title,description:t.description,location:t.location,priority:t.priority,status:t.status,notify_admin:t.notifyAdmin};t.status==="RESOLVED"&&(i.resolved_at=new Date().toISOString()),Object.keys(i).forEach(l=>i[l]===void 0&&delete i[l]);const{error:a}=await pe.from("structural_issues").update(i).eq("id",e);a?He(a,"atualizar problema estrutural"):st(n,r,"ATUALIZAR_ESTRUTURAL",`Atualizou problema ID ${e.substring(0,8)}`)},addStructuralPhoto:async(e,t)=>{const{error:n}=await pe.from("structural_photos").insert([{issue_id:e,url:t}]);n&&He(n,"adicionar foto estrutural")},deleteStructuralPhoto:async e=>{const{error:t}=await pe.from("structural_photos").delete().eq("id",e);t&&He(t,"excluir foto estrutural")},updateStructuralIssueStatus:async(e,t,n,r)=>{const i={status:t};t==="RESOLVED"&&(i.resolved_at=new Date().toISOString());const{error:a}=await pe.from("structural_issues").update(i).eq("id",e);a?He(a,"atualizar status estrutural"):st(n,r,"ATUALIZAR_ESTRUTURAL_STATUS",`Status alterado para ${t}`)},deleteStructuralIssue:async(e,t,n)=>{await pe.from("structural_photos").delete().eq("issue_id",e);const{error:r}=await pe.from("structural_issues").delete().eq("id",e);r?He(r,"excluir problema estrutural"):st(t,n,"EXCLUIR_ESTRUTURAL",`Excluiu problema ID ${e.substring(0,8)}`)},getStructuralPhotos:async e=>{const{data:t,error:n}=await pe.from("structural_photos").select("*").eq("issue_id",e);return n?[]:(t||[]).map(r=>({id:r.id,issueId:r.issue_id,url:r.url}))},getDashboardStats:async e=>{try{const{count:t}=await pe.from("tasks").select("*",{count:"exact",head:!0}).eq("enterprise_id",e).eq("status","PENDING"),{count:n}=await pe.from("water_readings").select("*",{count:"exact",head:!0}).eq("enterprise_id",e),{count:r}=await pe.from("equipment").select("*",{count:"exact",head:!0}).eq("enterprise_id",e);return{pendingTasks:t||0,waterReadings:n||0,equipmentCount:r||0,connected:!0}}catch{return{pendingTasks:0,waterReadings:0,equipmentCount:0,connected:!1}}}},G6=({user:e,currentEnterpriseId:t,onSwitchEnterprise:n,onLogout:r,isMobileOpen:i=!1,onMobileToggle:a})=>{const[l,u]=E.useState(!1),[d,f]=E.useState(""),[h,m]=E.useState(""),[b,_]=E.useState(""),S=Fi();E.useEffect(()=>{i&&a&&a()},[S.pathname]);const T=({isActive:I})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${I?"bg-blue-600 text-white shadow-md":"text-gray-300 hover:bg-slate-800 hover:text-white"}`,A=e.memberships.find(I=>I.enterpriseId===t),R=(A==null?void 0:A.permissions)||{},P=I=>{const M=R[I];return M&&M!==Se.NONE},N=async I=>{if(I.preventDefault(),d.length<6){_("Senha deve ter no mnimo 6 caracteres.");return}if(d!==h){_("As senhas no conferem.");return}await be.changePassword(e.email,d)?(_("Senha alterada com sucesso!"),setTimeout(()=>{u(!1),_(""),f(""),m("")},1500)):_("Erro ao alterar senha.")};return v.jsxs(v.Fragment,{children:[i&&v.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden",onClick:a}),v.jsxs("aside",{className:`
      w-64 bg-slate-900 text-white h-screen fixed left-0 top-0 flex flex-col shadow-xl z-50
      transition-transform duration-300 ease-in-out
      ${i?"translate-x-0":"-translate-x-full md:translate-x-0"}
    `,children:[i&&a&&v.jsx("button",{onClick:a,className:"absolute top-4 right-4 md:hidden bg-slate-800 hover:bg-slate-700 p-2 rounded-lg transition-colors","aria-label":"Fechar menu",children:v.jsx(Ct,{size:20})}),v.jsxs("div",{className:"p-4 border-b border-slate-700",children:[v.jsx("h1",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-cyan-300 mb-4 px-2",children:"SindGestor"}),v.jsxs("div",{className:"relative group",children:[v.jsxs("button",{className:"w-full bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg p-3 flex items-center justify-between transition-colors",children:[v.jsxs("div",{className:"flex flex-col items-start overflow-hidden w-full",children:[v.jsx("span",{className:"text-xs text-slate-400 font-medium mb-1",children:"Condomnio Atual"}),v.jsx("span",{className:"text-sm font-bold text-white w-full text-left whitespace-normal leading-tight",title:A==null?void 0:A.enterpriseName,children:(A==null?void 0:A.enterpriseName)||"Selecione..."})]}),v.jsx(Yz,{size:16,className:"text-slate-400 shrink-0 ml-1"})]}),v.jsx("div",{className:"absolute top-full left-0 w-full mt-1 bg-slate-800 border border-slate-600 rounded-lg shadow-xl overflow-hidden hidden group-hover:block z-50",children:e.memberships.map(I=>v.jsxs("button",{onClick:()=>n(I.enterpriseId),className:`w-full text-left px-4 py-3 text-sm hover:bg-slate-700 transition ${I.enterpriseId===t?"bg-slate-700 text-white font-bold":"text-slate-300"}`,children:[I.enterpriseName,v.jsx("span",{className:"block text-[10px] text-slate-500 uppercase",children:I.role})]},I.enterpriseId))})]})]}),v.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[v.jsxs(Pa,{to:"/",className:T,end:!0,children:[v.jsx(v4,{size:20}),v.jsx("span",{children:"Dashboard"})]}),P(Ue.ADMIN_PANEL)&&v.jsxs(Pa,{to:"/admin",className:T,children:[v.jsx(yO,{size:20}),v.jsx("span",{children:"Admin Panel"})]}),P(Ue.WATER)&&v.jsxs(Pa,{to:"/water",className:T,children:[v.jsx(mO,{size:20}),v.jsx("span",{children:"gua"})]}),P(Ue.TASKS)&&v.jsxs(Pa,{to:"/tasks",className:T,children:[v.jsx(r4,{size:20}),v.jsx("span",{children:"Tarefas"})]}),P(Ue.EQUIPMENT)&&v.jsxs(Pa,{to:"/equipment",className:T,children:[v.jsx(Iu,{size:20}),v.jsx("span",{children:"Equipamentos"})]}),P(Ue.STRUCTURAL)&&v.jsxs(Pa,{to:"/structural",className:T,children:[v.jsx(dO,{size:20}),v.jsx("span",{children:"Estrutural"})]}),P(Ue.DOCUMENTS)&&v.jsxs(Pa,{to:"/documents",className:T,children:[v.jsx(Uy,{size:20}),v.jsx("span",{children:"Documentao"})]})]}),v.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-900",children:[v.jsxs("div",{className:"px-2 mb-3",children:[v.jsx("p",{className:"text-sm font-medium text-white",children:e.name}),v.jsx("p",{className:"text-xs text-slate-500 truncate",children:e.email})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>u(!0),className:"flex items-center justify-center p-2 bg-slate-800 hover:bg-slate-700 text-blue-400 rounded-lg transition",title:"Alterar Senha",children:v.jsx(m4,{size:18})}),v.jsxs("button",{onClick:r,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-900/20 hover:bg-red-900/40 text-red-400 rounded-lg transition",children:[v.jsx(T4,{size:18}),v.jsx("span",{children:"Sair"})]})]})]})]}),l&&v.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[100]",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl w-full max-w-sm shadow-2xl",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-bold text-slate-800",children:"Alterar Senha"}),v.jsx("button",{onClick:()=>u(!1),children:v.jsx(Ct,{size:20})})]}),v.jsxs("form",{onSubmit:N,className:"space-y-4",children:[v.jsx("input",{type:"password",placeholder:"Nova Senha",value:d,onChange:I=>f(I.target.value),className:"w-full p-2 border rounded text-slate-800"}),v.jsx("input",{type:"password",placeholder:"Confirmar Senha",value:h,onChange:I=>m(I.target.value),className:"w-full p-2 border rounded text-slate-800"}),b&&v.jsx("p",{className:`text-xs ${b.includes("sucesso")?"text-green-600":"text-red-500"}`,children:b}),v.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded font-bold",children:"Salvar"})]})]})})]})},V6=({onLogin:e})=>{const[t,n]=E.useState("LOGIN"),[r,i]=E.useState(!1),[a,l]=E.useState(""),[u,d]=E.useState(""),[f,h]=E.useState(""),[m,b]=E.useState(""),[_,S]=E.useState(""),[T,A]=E.useState("Condomnio Assembleia 66"),[R,P]=E.useState(""),[N,I]=E.useState(""),M=async G=>{G.preventDefault(),i(!0),l("");try{const U=await be.login(f.trim().toLowerCase(),m);U?e(U):l("Credenciais invlidas. Verifique e-mail e senha.")}catch{l("Erro ao conectar.")}finally{i(!1)}},D=async G=>{if(G.preventDefault(),l(""),N!=="3382"){l("Cdigo de acesso invlido. Contate o suporte.");return}if(m!==R){l("As senhas no conferem.");return}if(m.length<6){l("A senha deve ter no mnimo 6 caracteres.");return}i(!0);const U=await be.registerSystemUser(_,f,m,T);i(!1),U.success?(d(U.message),setTimeout(()=>{d(""),n("LOGIN")},3e3)):l(U.message)},k=async G=>{G.preventDefault(),i(!0),await be.resetPasswordRequest(f),i(!1),d("Se o e-mail estiver cadastrado, voc receber um link de recuperao em instantes."),setTimeout(()=>{d(""),n("LOGIN")},5e3)};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 px-4 font-inter",children:v.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md text-center relative overflow-hidden",children:[t==="LOGIN"&&v.jsxs("div",{className:"animate-fade-in",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"SindGestor"}),v.jsx("p",{className:"text-slate-500 mt-2",children:"Plataforma Multi-Condomnio"})]}),v.jsxs("form",{onSubmit:M,className:"space-y-4 text-left",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-mail"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"email",required:!0,className:"w-full p-3 pl-10 border border-slate-300 rounded-lg outline-none focus:ring-2 focus:ring-blue-500",value:f,onChange:G=>h(G.target.value),placeholder:"seu@email.com"}),v.jsx(Bg,{className:"absolute left-3 top-3 text-slate-400",size:18})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Senha"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"password",required:!0,className:"w-full p-3 pl-10 border border-slate-300 rounded-lg outline-none focus:ring-2 focus:ring-blue-500",value:m,onChange:G=>b(G.target.value),placeholder:""}),v.jsx(vO,{className:"absolute left-3 top-3 text-slate-400",size:18})]}),v.jsx("div",{className:"text-right mt-1",children:v.jsx("button",{type:"button",onClick:()=>n("FORGOT"),className:"text-xs text-blue-600 hover:underline",children:"Esqueceu a senha?"})})]}),a&&v.jsxs("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg flex gap-2",children:[v.jsx(pO,{size:16,className:"shrink-0 mt-0.5"}),v.jsx("span",{children:a})]}),u&&v.jsx("div",{className:"p-3 bg-green-50 text-green-600 text-sm rounded-lg",children:u}),v.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition flex items-center justify-center gap-2 disabled:opacity-70",children:r?v.jsx(Co,{className:"animate-spin"}):"Entrar"})]}),v.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100",children:[v.jsx("p",{className:"text-sm text-slate-500",children:"Novo por aqui?"}),v.jsx("button",{onClick:()=>n("REGISTER"),className:"text-blue-600 font-bold hover:underline mt-1",children:"Criar nova conta de administrador"})]})]}),t==="REGISTER"&&v.jsxs("div",{className:"animate-fade-in text-left",children:[v.jsxs("button",{onClick:()=>n("LOGIN"),className:"mb-4 text-slate-500 hover:text-slate-800 flex items-center gap-1 text-sm",children:[v.jsx(CT,{size:16})," Voltar para Login"]}),v.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Criar Conta"}),v.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Cadastre-se para gerenciar seu condomnio."}),v.jsxs("form",{onSubmit:D,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Nome Completo"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",required:!0,className:"w-full p-2 pl-9 border border-slate-300 rounded-lg",value:_,onChange:G=>S(G.target.value)}),v.jsx(u3,{className:"absolute left-2.5 top-2.5 text-slate-400",size:16})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"E-mail"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"email",required:!0,className:"w-full p-2 pl-9 border border-slate-300 rounded-lg",value:f,onChange:G=>h(G.target.value)}),v.jsx(Bg,{className:"absolute left-2.5 top-2.5 text-slate-400",size:16})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Nome do Condomnio"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",required:!0,className:"w-full p-2 pl-9 border border-slate-300 rounded-lg",placeholder:"Ex: Condomnio Assembleia 66",value:T,onChange:G=>A(G.target.value)}),v.jsx(pb,{className:"absolute left-2.5 top-2.5 text-slate-400",size:16})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Senha"}),v.jsx("input",{type:"password",required:!0,className:"w-full p-2 border border-slate-300 rounded-lg",value:m,onChange:G=>b(G.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Confirmar"}),v.jsx("input",{type:"password",required:!0,className:"w-full p-2 border border-slate-300 rounded-lg",value:R,onChange:G=>P(G.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Cdigo de Acesso"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",required:!0,className:"w-full p-2 pl-9 border border-slate-300 rounded-lg",placeholder:"Cdigo de 4 dgitos",value:N,onChange:G=>I(G.target.value),maxLength:4}),v.jsx(bO,{className:"absolute left-2.5 top-2.5 text-slate-400",size:16})]}),v.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Este cdigo  fornecido pela administrao do sistema."})]}),a&&v.jsx("div",{className:"p-2 bg-red-50 text-red-600 text-xs rounded-lg",children:a}),v.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition flex items-center justify-center gap-2 mt-4 disabled:opacity-70",children:r?v.jsx(Co,{className:"animate-spin"}):"Registrar"})]})]}),t==="FORGOT"&&v.jsxs("div",{className:"animate-fade-in text-left",children:[v.jsxs("button",{onClick:()=>n("LOGIN"),className:"mb-4 text-slate-500 hover:text-slate-800 flex items-center gap-1 text-sm",children:[v.jsx(CT,{size:16})," Voltar para Login"]}),v.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Recuperar Senha"}),v.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Informe seu e-mail para receber as instrues."}),v.jsxs("form",{onSubmit:k,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"E-mail Cadastrado"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"email",required:!0,className:"w-full p-3 pl-10 border border-slate-300 rounded-lg",value:f,onChange:G=>h(G.target.value)}),v.jsx(Bg,{className:"absolute left-3 top-3 text-slate-400",size:18})]})]}),u&&v.jsx("div",{className:"p-3 bg-green-50 text-green-700 text-sm rounded-lg",children:u}),v.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition flex items-center justify-center gap-2 disabled:opacity-70",children:r?v.jsx(Co,{className:"animate-spin"}):"Enviar Link"})]})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let F6,K6;function Y6(){return{geminiUrl:F6,vertexUrl:K6}}function W6(e,t,n,r){var i,a;if(!(e!=null&&e.baseUrl)){const l=Y6();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ki{}function xe(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];y(h,t.slice(a+1),n[f])}else for(const f of d)y(f,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];y(d[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(u=>g(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function J6(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),l=new Set;let u=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){u=d;break}if(u!==-1&&a.length>u)for(let d=u;d<a.length;d++){const f=a[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}Qy(e,i,a,0,l)}}function Qy(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])Qy(d,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of u)d[f]=l[f];for(const[f,h]of Object.entries(d)){const m=[];for(const b of n.slice(r))b==="*"?m.push(f):m.push(b);y(l,m,h)}for(const f of u)delete l[f]}}else{const l=e;a in l&&Qy(l[a],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tb(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X6(e){const t={},n=g(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=g(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function Q6(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],e$(l)),t}function Z6(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],t$(l)),t}function e$(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>n$(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function t$(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>r$(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function n$(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],u$(n)),t}function r$(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],c$(n)),t}function i$(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function a$(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function o$(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],s$(l)),t}function s$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function hI(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],l$(l)),t}function l$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function u$(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],Tb(r));const i=g(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function c$(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],Tb(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var u1;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(u1||(u1={}));var c1;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(c1||(c1={}));var d1;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(d1||(d1={}));var ka;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ka||(ka={}));var f1;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(f1||(f1={}));var h1;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(h1||(h1={}));var p1;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(p1||(p1={}));var m1;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(m1||(m1={}));var g1;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(g1||(g1={}));var v1;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(v1||(v1={}));var y1;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(y1||(y1={}));var b1;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(b1||(b1={}));var x1;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(x1||(x1={}));var _1;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(_1||(_1={}));var w1;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(w1||(w1={}));var S1;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(S1||(S1={}));var E1;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(E1||(E1={}));var T1;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(T1||(T1={}));var A1;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(A1||(A1={}));var Rf;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Rf||(Rf={}));var C1;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(C1||(C1={}));var N1;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(N1||(N1={}));var R1;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(R1||(R1={}));var Zy;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Zy||(Zy={}));var P1;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(P1||(P1={}));var O1;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(O1||(O1={}));var I1;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(I1||(I1={}));var M1;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(M1||(M1={}));var D1;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(D1||(D1={}));var k1;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(k1||(k1={}));var j1;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(j1||(j1={}));var L1;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(L1||(L1={}));var U1;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(U1||(U1={}));var q1;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(q1||(q1={}));var z1;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(z1||(z1={}));var $1;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($1||($1={}));var B1;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(B1||(B1={}));var H1;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(H1||(H1={}));var G1;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(G1||(G1={}));var V1;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(V1||(V1={}));var F1;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(F1||(F1={}));var K1;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(K1||(K1={}));var Y1;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Y1||(Y1={}));var W1;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(W1||(W1={}));var J1;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(J1||(J1={}));var X1;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(X1||(X1={}));var Q1;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Q1||(Q1={}));var Z1;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Z1||(Z1={}));var eA;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eA||(eA={}));var tA;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tA||(tA={}));var nA;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(nA||(nA={}));var rA;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rA||(rA={}));var iA;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(iA||(iA={}));var aA;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(aA||(aA={}));var Bs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Bs||(Bs={}));class e0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class mu{get text(){var t,n,r,i,a,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const b of(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[_,S]of Object.entries(b))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(_);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;h=!0,f+=b.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var t,n,r,i,a,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[b,_]of Object.entries(m))b!=="inlineData"&&(_!==null||_!==void 0)&&h.push(b);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,a,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,a,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,a,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class oA{}class sA{}class d${}class f${}class h${}class p${}class lA{}class uA{}class cA{}class m${}class Pf{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Pf;let i;const a=t;return n?i=Z6(a):i=Q6(a),Object.assign(r,i),r}}class dA{}class fA{}class hA{}class g${}class v${}class y${}class Ab{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Ab,a=o$(t);return Object.assign(r,a),r}}class b${}class x${}class _${}class pA{}class w${get text(){var t,n,r;let i="",a=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class S${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Cb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Cb,a=hI(t);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function pI(e,t){const n=nt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function mI(e){return Array.isArray(e)?e.map(t=>Of(t)):[Of(e)]}function Of(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function gI(e){const t=Of(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function vI(e){const t=Of(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function mA(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function yI(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>mA(t)):[mA(e)]}function t0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function gA(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function vA(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Tn(e){if(e==null)throw new Error("ContentUnion is required");return t0(e)?e:{role:"user",parts:yI(e)}}function Nb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Tn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Tn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Tn(n)):[Tn(t)]}function Pr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(gA(e)||vA(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Tn(e)]}const t=[],n=[],r=t0(e[0]);for(const i of e){const a=t0(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(gA(i)||vA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:yI(n)}),t}function E$(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(ka).includes(n[0].toUpperCase())?n[0].toUpperCase():ka.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(ka).includes(r.toUpperCase())?r.toUpperCase():ka.TYPE_UNSPECIFIED})}}function Fs(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&E$(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(ka).includes(u.toUpperCase())?u.toUpperCase():ka.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Fs(u);else if(r.includes(l)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(Fs(f))}t[l]=d}else if(i.includes(l)){const d={};for(const[f,h]of Object.entries(u))d[f]=Fs(h);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=u}return t}function Rb(e){return Fs(e)}function Pb(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ob(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function fl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Fs(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Fs(t.response));return e}function hl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function T$(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Yi(e,t){if(typeof t!="string")throw new Error("name must be a string");return T$(e,t,"cachedContents")}function bI(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ba(e){return Tb(e)}function A$(e){return e!=null&&typeof e=="object"&&"name"in e}function C$(e){return e!=null&&typeof e=="object"&&"video"in e}function N$(e){return e!=null&&typeof e=="object"&&"uri"in e}function xI(e){var t;let n;if(A$(e)&&(n=e.name),!(N$(e)&&(n=e.uri,n===void 0))&&!(C$(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function _I(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function wI(e){for(const t of["models","tunedModels","publisherModels"])if(R$(e,t))return e[t];return[]}function R$(e,t){return e!==null&&typeof e=="object"&&t in e}function P$(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function O$(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=P$(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function SI(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function I$(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function EI(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function pl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function TI(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M$(e){const t={},n=g(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=g(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>hB(l))),y(t,["inlinedResponses"],a)}const i=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["inlinedEmbedContentResponses"],a)}return t}function D$(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const i=g(e,["bigqueryDestination","outputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function k$(e){const t={},n=g(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&y(t,["bigqueryDestination","outputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function hf(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["metadata","state"]);i!=null&&y(t,["state"],TI(i));const a=g(e,["metadata","createTime"]);a!=null&&y(t,["createTime"],a);const l=g(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const u=g(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const d=g(e,["metadata","model"]);d!=null&&y(t,["model"],d);const f=g(e,["metadata","output"]);return f!=null&&y(t,["dest"],M$(EI(f))),t}function n0(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["state"]);i!=null&&y(t,["state"],TI(i));const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["createTime"]);l!=null&&y(t,["createTime"],l);const u=g(e,["startTime"]);u!=null&&y(t,["startTime"],u);const d=g(e,["endTime"]);d!=null&&y(t,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&y(t,["updateTime"],f);const h=g(e,["model"]);h!=null&&y(t,["model"],h);const m=g(e,["inputConfig"]);m!=null&&y(t,["src"],j$(m));const b=g(e,["outputConfig"]);b!=null&&y(t,["dest"],D$(EI(b)));const _=g(e,["completionStats"]);return _!=null&&y(t,["completionStats"],_),t}function j$(e){const t={},n=g(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const i=g(e,["bigquerySource","inputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function L$(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(t,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>fB(e,l))),y(n,["requests","requests"],a)}return n}function U$(e){const t={},n=g(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&y(t,["bigquerySource","inputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function q$(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function z$(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],pl(e,r)),n}function $$(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],pl(e,r)),n}function B$(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],H$(r));const i=g(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const d=g(e,["index"]);d!=null&&y(t,["index"],d);const f=g(e,["logprobsResult"]);f!=null&&y(t,["logprobsResult"],f);const h=g(e,["safetyRatings"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(_=>_)),y(t,["safetyRatings"],b)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function H$(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function AI(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>xB(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function G$(e,t){const n={},r=g(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function V$(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["dest"]);return t!==void 0&&i!=null&&y(t,["outputConfig"],k$(I$(i))),n}function yA(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["src"]);i!=null&&y(n,["batch","inputConfig"],L$(e,SI(e,i)));const a=g(t,["config"]);return a!=null&&G$(a,n),n}function F$(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],nt(e,r));const i=g(t,["src"]);i!=null&&y(n,["inputConfig"],U$(SI(e,i)));const a=g(t,["config"]);return a!=null&&V$(a,n),n}function K$(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function Y$(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["src"]);i!=null&&y(n,["batch","inputConfig"],tB(e,i));const a=g(t,["config"]);return a!=null&&K$(a,n),n}function W$(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],pl(e,r)),n}function J$(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],pl(e,r)),n}function X$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);return a!=null&&y(t,["error"],a),t}function Q$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);return a!=null&&y(t,["error"],a),t}function Z$(e,t){const n={},r=g(t,["contents"]);if(r!=null){let a=Nb(e,r);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["requests[]","request","content"],a)}const i=g(t,["config"]);return i!=null&&(y(n,["_self"],eB(i,n)),J6(n,{"requests[].*":"requests[].request.*"})),n}function eB(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function tB(e,t){const n={},r=g(t,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(t,["inlinedRequests"]);return i!=null&&y(n,["requests"],Z$(e,i)),n}function nB(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function rB(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function iB(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function aB(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],AI(Tn(i)));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const d=g(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const b=g(t,["logprobs"]);b!=null&&y(r,["logprobs"],b);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const S=g(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const T=g(t,["seed"]);T!=null&&y(r,["seed"],T);const A=g(t,["responseMimeType"]);A!=null&&y(r,["responseMimeType"],A);const R=g(t,["responseSchema"]);R!=null&&y(r,["responseSchema"],Rb(R));const P=g(t,["responseJsonSchema"]);if(P!=null&&y(r,["responseJsonSchema"],P),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=g(t,["safetySettings"]);if(n!==void 0&&N!=null){let H=N;Array.isArray(H)&&(H=H.map(re=>_B(re))),y(n,["safetySettings"],H)}const I=g(t,["tools"]);if(n!==void 0&&I!=null){let H=hl(I);Array.isArray(H)&&(H=H.map(re=>SB(fl(re)))),y(n,["tools"],H)}const M=g(t,["toolConfig"]);if(n!==void 0&&M!=null&&y(n,["toolConfig"],wB(M)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=g(t,["cachedContent"]);n!==void 0&&D!=null&&y(n,["cachedContent"],Yi(e,D));const k=g(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const G=g(t,["mediaResolution"]);G!=null&&y(r,["mediaResolution"],G);const U=g(t,["speechConfig"]);if(U!=null&&y(r,["speechConfig"],Pb(U)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=g(t,["thinkingConfig"]);le!=null&&y(r,["thinkingConfig"],le);const W=g(t,["imageConfig"]);return W!=null&&y(r,["imageConfig"],dB(W)),r}function oB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>B$(f))),y(t,["candidates"],d)}const i=g(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function sB(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],pl(e,r)),n}function lB(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],pl(e,r)),n}function uB(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function cB(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function dB(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function fB(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["request","model"],nt(e,r));const i=g(t,["contents"]);if(i!=null){let u=Pr(i);Array.isArray(u)&&(u=u.map(d=>AI(d))),y(n,["request","contents"],u)}const a=g(t,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(t,["config"]);return l!=null&&y(n,["request","generationConfig"],aB(e,l,g(n,["request"],{}))),n}function hB(e){const t={},n=g(e,["response"]);n!=null&&y(t,["response"],oB(n));const r=g(e,["error"]);return r!=null&&y(t,["error"],r),t}function pB(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);if(t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function mB(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);t!==void 0&&i!=null&&y(t,["_query","pageToken"],i);const a=g(e,["filter"]);return t!==void 0&&a!=null&&y(t,["_query","filter"],a),n}function gB(e){const t={},n=g(e,["config"]);return n!=null&&pB(n,t),t}function vB(e){const t={},n=g(e,["config"]);return n!=null&&mB(n,t),t}function yB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>hf(l))),y(t,["batchJobs"],a)}return t}function bB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>n0(l))),y(t,["batchJobs"],a)}return t}function xB(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],nB(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],rB(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&y(t,["inlineData"],q$(d));const f=g(e,["text"]);f!=null&&y(t,["text"],f);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const b=g(e,["videoMetadata"]);return b!=null&&y(t,["videoMetadata"],b),t}function _B(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function wB(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],iB(n));const r=g(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function SB(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],uB(u));const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],cB(d));const f=g(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qi;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(qi||(qi={}));class Uo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EB extends Ki{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Uo(qi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=yA(this.apiClient,t),r=n._url,i=xe("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const h of d){const m=Object.assign({},h);if(m.systemInstruction){const b=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=b,m.request=_}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=F$(this.apiClient,t);return u=xe("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>n0(h))}else{const f=yA(this.apiClient,t);return u=xe("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>hf(h))}}async createEmbeddingsInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Y$(this.apiClient,t);return a=xe("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>hf(d))}}async get(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=lB(this.apiClient,t);return u=xe("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>n0(h))}else{const f=sB(this.apiClient,t);return u=xe("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>hf(h))}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const d=$$(this.apiClient,t);l=xe("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=z$(this.apiClient,t);l=xe("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=vB(t);return u=xe("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=bB(h),b=new pA;return Object.assign(b,m),b})}else{const f=gB(t);return u=xe("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=yB(h),b=new pA;return Object.assign(b,m),b})}}async delete(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=J$(this.apiClient,t);return u=xe("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>Q$(h))}else{const f=W$(this.apiClient,t);return u=xe("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>X$(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TB(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function bA(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>YB(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function AB(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let h=Pr(l);Array.isArray(h)&&(h=h.map(m=>bA(m))),y(t,["contents"],h)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],bA(Tn(u)));const d=g(e,["tools"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>JB(m))),y(t,["tools"],h)}const f=g(e,["toolConfig"]);if(t!==void 0&&f!=null&&y(t,["toolConfig"],WB(f)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function CB(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let m=Pr(l);Array.isArray(m)&&(m=m.map(b=>b)),y(t,["contents"],m)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],Tn(u));const d=g(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(b=>XB(b))),y(t,["tools"],m)}const f=g(e,["toolConfig"]);t!==void 0&&f!=null&&y(t,["toolConfig"],f);const h=g(e,["kmsKeyName"]);return t!==void 0&&h!=null&&y(t,["encryption_spec","kmsKeyName"],h),n}function NB(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],pI(e,r));const i=g(t,["config"]);return i!=null&&AB(i,n),n}function RB(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],pI(e,r));const i=g(t,["config"]);return i!=null&&CB(i,n),n}function PB(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Yi(e,r)),n}function OB(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Yi(e,r)),n}function IB(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function MB(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function DB(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function kB(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jB(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function LB(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function UB(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Yi(e,r)),n}function qB(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Yi(e,r)),n}function zB(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function $B(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function BB(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function HB(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function GB(e){const t={},n=g(e,["config"]);return n!=null&&BB(n,t),t}function VB(e){const t={},n=g(e,["config"]);return n!=null&&HB(n,t),t}function FB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function KB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function YB(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],DB(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],kB(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&y(t,["inlineData"],TB(d));const f=g(e,["text"]);f!=null&&y(t,["text"],f);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const b=g(e,["videoMetadata"]);return b!=null&&y(t,["videoMetadata"],b),t}function WB(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],jB(n));const r=g(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function JB(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],zB(u));const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],$B(d));const f=g(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function XB(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(b=>LB(b))),y(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const d=g(e,["googleMaps"]);d!=null&&y(t,["googleMaps"],d);const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function QB(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function ZB(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function e8(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],Yi(e,r));const i=g(t,["config"]);return i!=null&&QB(i,n),n}function t8(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],Yi(e,r));const i=g(t,["config"]);return i!=null&&ZB(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n8 extends Ki{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Uo(qi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=RB(this.apiClient,t);return u=xe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=NB(this.apiClient,t);return u=xe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=qB(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=UB(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=OB(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=MB(h),b=new fA;return Object.assign(b,m),b})}else{const f=PB(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=IB(h),b=new fA;return Object.assign(b,m),b})}}async update(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=t8(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=e8(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=VB(t);return u=xe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=KB(h),b=new hA;return Object.assign(b,m),b})}else{const f=GB(t);return u=xe("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=FB(h),b=new hA;return Object.assign(b,m),b})}}}function xA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wt(e){return this instanceof wt?(this.v=e,this):new wt(e)}function Ks(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(_){return function(S){return Promise.resolve(S).then(_,m)}}function u(_,S){r[_]&&(i[_]=function(T){return new Promise(function(A,R){a.push([_,T,A,R])>1||d(_,T)})},S&&(i[_]=S(i[_])))}function d(_,S){try{f(r[_](S))}catch(T){b(a[0][3],T)}}function f(_){_.value instanceof wt?Promise.resolve(_.value.v).then(h,m):b(a[0][2],_)}function h(_){d("next",_)}function m(_){d("throw",_)}function b(_,S){_(S),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Nu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof xA=="function"?xA(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,d){l=e[a](l),i(u,d,l.done,l.value)})}}function i(a,l,u,d){Promise.resolve(d).then(function(f){a({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r8(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:CI(n)}function CI(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function i8(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _A(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!CI(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class a8{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new o8(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class o8{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),i8(a)}async sendMessage(t){var n;await this.sendPromise;const r=Tn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const d=await i,f=(l=(a=d.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,h=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let b=[];h!=null&&(b=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=f?[f]:[];this.recordHistory(r,_,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Tn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?_A(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return Ks(this,arguments,function*(){var l,u,d,f;const h=[];try{for(var m=!0,b=Nu(t),_;_=yield wt(b.next()),l=_.done,!l;m=!0){f=_.value,m=!1;const S=f;if(r8(S)){const T=(i=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;T!==void 0&&h.push(T)}yield yield wt(S)}}catch(S){u={error:S}}finally{try{!m&&!l&&(d=b.return)&&(yield wt(d.call(b)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._A(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ph extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ph.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s8(e){const t={},n=g(e,["file"]);return n!=null&&y(t,["file"],n),t}function l8(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function u8(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],xI(n)),t}function c8(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function d8(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],xI(n)),t}function f8(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function h8(e){const t={},n=g(e,["config"]);return n!=null&&f8(n,t),t}function p8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m8 extends Ki{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Uo(qi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=h8(t);return a=xe("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=p8(d),h=new b$;return Object.assign(h,f),h})}}async createInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=s8(t);return a=xe("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=l8(d),h=new x$;return Object.assign(h,f),h})}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d8(t);return a=xe("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=u8(t);return a=xe("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=c8(d),h=new _$;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pf(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function g8(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>I8(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function v8(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function y8(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function b8(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function x8(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const d=g(e,["logprobs"]);d!=null&&y(t,["logprobs"],d);const f=g(e,["maxOutputTokens"]);f!=null&&y(t,["maxOutputTokens"],f);const h=g(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const b=g(e,["responseLogprobs"]);b!=null&&y(t,["responseLogprobs"],b);const _=g(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const S=g(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const T=g(e,["responseSchema"]);T!=null&&y(t,["responseSchema"],T);const A=g(e,["routingConfig"]);A!=null&&y(t,["routingConfig"],A);const R=g(e,["seed"]);R!=null&&y(t,["seed"],R);const P=g(e,["speechConfig"]);P!=null&&y(t,["speechConfig"],NI(P));const N=g(e,["stopSequences"]);N!=null&&y(t,["stopSequences"],N);const I=g(e,["temperature"]);I!=null&&y(t,["temperature"],I);const M=g(e,["thinkingConfig"]);M!=null&&y(t,["thinkingConfig"],M);const D=g(e,["topK"]);D!=null&&y(t,["topK"],D);const k=g(e,["topP"]);if(k!=null&&y(t,["topP"],k),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function _8(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function w8(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function S8(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],Ob(m));const b=g(e,["thinkingConfig"]);t!==void 0&&b!=null&&y(t,["setup","generationConfig","thinkingConfig"],b);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],g8(Tn(S)));const T=g(e,["tools"]);if(t!==void 0&&T!=null){let D=hl(T);Array.isArray(D)&&(D=D.map(k=>D8(fl(k)))),y(t,["setup","tools"],D)}const A=g(e,["sessionResumption"]);t!==void 0&&A!=null&&y(t,["setup","sessionResumption"],M8(A));const R=g(e,["inputAudioTranscription"]);t!==void 0&&R!=null&&y(t,["setup","inputAudioTranscription"],R);const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const N=g(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&y(t,["setup","realtimeInputConfig"],N);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const M=g(e,["proactivity"]);return t!==void 0&&M!=null&&y(t,["setup","proactivity"],M),n}function E8(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],x8(r));const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],NI(Ob(m)));const b=g(e,["thinkingConfig"]);t!==void 0&&b!=null&&y(t,["setup","generationConfig","thinkingConfig"],b);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],Tn(S));const T=g(e,["tools"]);if(t!==void 0&&T!=null){let D=hl(T);Array.isArray(D)&&(D=D.map(k=>k8(fl(k)))),y(t,["setup","tools"],D)}const A=g(e,["sessionResumption"]);t!==void 0&&A!=null&&y(t,["setup","sessionResumption"],A);const R=g(e,["inputAudioTranscription"]);t!==void 0&&R!=null&&y(t,["setup","inputAudioTranscription"],R);const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const N=g(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&y(t,["setup","realtimeInputConfig"],N);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const M=g(e,["proactivity"]);return t!==void 0&&M!=null&&y(t,["setup","proactivity"],M),n}function T8(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],nt(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],S8(i,n)),n}function A8(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],nt(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],E8(i,n)),n}function C8(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function N8(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["weightedPrompts"],r)}return t}function R8(e){const t={},n=g(e,["media"]);if(n!=null){let f=mI(n);Array.isArray(f)&&(f=f.map(h=>pf(h))),y(t,["mediaChunks"],f)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],pf(vI(r)));const i=g(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&y(t,["video"],pf(gI(a)));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const d=g(e,["activityEnd"]);return d!=null&&y(t,["activityEnd"],d),t}function P8(e){const t={},n=g(e,["media"]);if(n!=null){let f=mI(n);Array.isArray(f)&&(f=f.map(h=>h)),y(t,["mediaChunks"],f)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],vI(r));const i=g(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&y(t,["video"],gI(a));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const d=g(e,["activityEnd"]);return d!=null&&y(t,["activityEnd"],d),t}function O8(e){const t={},n=g(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=g(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const i=g(e,["toolCall"]);i!=null&&y(t,["toolCall"],i);const a=g(e,["toolCallCancellation"]);a!=null&&y(t,["toolCallCancellation"],a);const l=g(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],j8(l));const u=g(e,["goAway"]);u!=null&&y(t,["goAway"],u);const d=g(e,["sessionResumptionUpdate"]);return d!=null&&y(t,["sessionResumptionUpdate"],d),t}function I8(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],v8(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],y8(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&y(t,["inlineData"],pf(d));const f=g(e,["text"]);f!=null&&y(t,["text"],f);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const b=g(e,["videoMetadata"]);return b!=null&&y(t,["videoMetadata"],b),t}function M8(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function NI(e){const t={},n=g(e,["languageCode"]);n!=null&&y(t,["languageCode"],n);const r=g(e,["voiceConfig"]);if(r!=null&&y(t,["voiceConfig"],r),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function D8(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],_8(u));const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],w8(d));const f=g(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function k8(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(b=>b8(b))),y(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const d=g(e,["googleMaps"]);d!=null&&y(t,["googleMaps"],d);const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function j8(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=g(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const i=g(e,["candidatesTokenCount"]);i!=null&&y(t,["responseTokenCount"],i);const a=g(e,["toolUsePromptTokenCount"]);a!=null&&y(t,["toolUsePromptTokenCount"],a);const l=g(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const u=g(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const d=g(e,["promptTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["promptTokensDetails"],_)}const f=g(e,["cacheTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["cacheTokensDetails"],_)}const h=g(e,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["responseTokensDetails"],_)}const m=g(e,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["toolUsePromptTokensDetails"],_)}const b=g(e,["trafficType"]);return b!=null&&y(t,["trafficType"],b),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L8(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function U8(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],q8(r));const i=g(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const d=g(e,["index"]);d!=null&&y(t,["index"],d);const f=g(e,["logprobsResult"]);f!=null&&y(t,["logprobsResult"],f);const h=g(e,["safetyRatings"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(_=>_)),y(t,["safetyRatings"],b)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function q8(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function z8(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["contents"]);if(i!=null){let a=Pr(i);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["contents"],a)}return n}function $8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["tokensInfo"],i)}return t}function B8(e){const t={},n=g(e,["values"]);n!=null&&y(t,["values"],n);const r=g(e,["statistics"]);return r!=null&&y(t,["statistics"],H8(r)),t}function H8(e){const t={},n=g(e,["truncated"]);n!=null&&y(t,["truncated"],n);const r=g(e,["token_count"]);return r!=null&&y(t,["tokenCount"],r),t}function Oh(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>QH(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function G8(e){const t={},n=g(e,["controlType"]);n!=null&&y(t,["controlType"],n);const r=g(e,["enableControlImageComputation"]);return r!=null&&y(t,["computeControl"],r),t}function V8(e){const t={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function F8(e,t){const n={},r=g(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],Tn(r));const i=g(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>MI(u))),y(t,["tools"],l)}const a=g(e,["generationConfig"]);return t!==void 0&&a!=null&&y(t,["generationConfig"],LH(a)),n}function K8(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["contents"]);if(i!=null){let l=Pr(i);Array.isArray(l)&&(l=l.map(u=>Oh(u))),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&V8(a),n}function Y8(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["contents"]);if(i!=null){let l=Pr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&F8(a,n),n}function W8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);r!=null&&y(t,["totalTokens"],r);const i=g(e,["cachedContentTokenCount"]);return i!=null&&y(t,["cachedContentTokenCount"],i),t}function J8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);return r!=null&&y(t,["totalTokens"],r),t}function X8(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],nt(e,r)),n}function Q8(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],nt(e,r)),n}function Z8(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function eH(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function tH(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const a=g(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const f=g(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const b=g(e,["includeRaiReason"]);t!==void 0&&b!=null&&y(t,["parameters","includeRaiReason"],b);const _=g(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const S=g(e,["outputMimeType"]);t!==void 0&&S!=null&&y(t,["parameters","outputOptions","mimeType"],S);const T=g(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","compressionQuality"],T);const A=g(e,["addWatermark"]);t!==void 0&&A!=null&&y(t,["parameters","addWatermark"],A);const R=g(e,["labels"]);t!==void 0&&R!=null&&y(t,["labels"],R);const P=g(e,["editMode"]);t!==void 0&&P!=null&&y(t,["parameters","editMode"],P);const N=g(e,["baseSteps"]);return t!==void 0&&N!=null&&y(t,["parameters","editConfig","baseSteps"],N),n}function nH(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>iG(d))),y(n,["instances[0]","referenceImages"],u)}const l=g(t,["config"]);return l!=null&&tH(l,n),n}function rH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Ih(a))),y(t,["generatedImages"],i)}return t}function iH(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function aH(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["instances[]","task_type"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["instances[]","title"],i);const a=g(e,["outputDimensionality"]);t!==void 0&&a!=null&&y(t,["parameters","outputDimensionality"],a);const l=g(e,["mimeType"]);t!==void 0&&l!=null&&y(t,["instances[]","mimeType"],l);const u=g(e,["autoTruncate"]);return t!==void 0&&u!=null&&y(t,["parameters","autoTruncate"],u),n}function oH(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["contents"]);if(i!=null){let u=Nb(e,i);Array.isArray(u)&&(u=u.map(d=>d)),y(n,["requests[]","content"],u)}const a=g(t,["config"]);a!=null&&iH(a,n);const l=g(t,["model"]);return l!==void 0&&y(n,["requests[]","model"],nt(e,l)),n}function sH(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["contents"]);if(i!=null){let l=Nb(e,i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["instances[]","content"],l)}const a=g(t,["config"]);return a!=null&&aH(a,n),n}function lH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["embeddings"],a)}const i=g(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function uH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>B8(l))),y(t,["embeddings"],a)}const i=g(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function cH(e){const t={},n=g(e,["endpoint"]);n!=null&&y(t,["name"],n);const r=g(e,["deployedModelId"]);return r!=null&&y(t,["deployedModelId"],r),t}function dH(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function fH(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hH(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function pH(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function mH(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Oh(Tn(i)));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const d=g(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const b=g(t,["logprobs"]);b!=null&&y(r,["logprobs"],b);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const S=g(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const T=g(t,["seed"]);T!=null&&y(r,["seed"],T);const A=g(t,["responseMimeType"]);A!=null&&y(r,["responseMimeType"],A);const R=g(t,["responseSchema"]);R!=null&&y(r,["responseSchema"],Rb(R));const P=g(t,["responseJsonSchema"]);if(P!=null&&y(r,["responseJsonSchema"],P),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=g(t,["safetySettings"]);if(n!==void 0&&N!=null){let H=N;Array.isArray(H)&&(H=H.map(re=>aG(re))),y(n,["safetySettings"],H)}const I=g(t,["tools"]);if(n!==void 0&&I!=null){let H=hl(I);Array.isArray(H)&&(H=H.map(re=>fG(fl(re)))),y(n,["tools"],H)}const M=g(t,["toolConfig"]);if(n!==void 0&&M!=null&&y(n,["toolConfig"],dG(M)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=g(t,["cachedContent"]);n!==void 0&&D!=null&&y(n,["cachedContent"],Yi(e,D));const k=g(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const G=g(t,["mediaResolution"]);G!=null&&y(r,["mediaResolution"],G);const U=g(t,["speechConfig"]);if(U!=null&&y(r,["speechConfig"],Pb(U)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=g(t,["thinkingConfig"]);le!=null&&y(r,["thinkingConfig"],le);const W=g(t,["imageConfig"]);return W!=null&&y(r,["imageConfig"],BH(W)),r}function gH(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Tn(i));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const d=g(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const b=g(t,["logprobs"]);b!=null&&y(r,["logprobs"],b);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const S=g(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const T=g(t,["seed"]);T!=null&&y(r,["seed"],T);const A=g(t,["responseMimeType"]);A!=null&&y(r,["responseMimeType"],A);const R=g(t,["responseSchema"]);R!=null&&y(r,["responseSchema"],Rb(R));const P=g(t,["responseJsonSchema"]);P!=null&&y(r,["responseJsonSchema"],P);const N=g(t,["routingConfig"]);N!=null&&y(r,["routingConfig"],N);const I=g(t,["modelSelectionConfig"]);I!=null&&y(r,["modelConfig"],I);const M=g(t,["safetySettings"]);if(n!==void 0&&M!=null){let B=M;Array.isArray(B)&&(B=B.map(J=>J)),y(n,["safetySettings"],B)}const D=g(t,["tools"]);if(n!==void 0&&D!=null){let B=hl(D);Array.isArray(B)&&(B=B.map(J=>MI(fl(J)))),y(n,["tools"],B)}const k=g(t,["toolConfig"]);n!==void 0&&k!=null&&y(n,["toolConfig"],k);const G=g(t,["labels"]);n!==void 0&&G!=null&&y(n,["labels"],G);const U=g(t,["cachedContent"]);n!==void 0&&U!=null&&y(n,["cachedContent"],Yi(e,U));const le=g(t,["responseModalities"]);le!=null&&y(r,["responseModalities"],le);const W=g(t,["mediaResolution"]);W!=null&&y(r,["mediaResolution"],W);const H=g(t,["speechConfig"]);H!=null&&y(r,["speechConfig"],II(Pb(H)));const re=g(t,["audioTimestamp"]);re!=null&&y(r,["audioTimestamp"],re);const ge=g(t,["thinkingConfig"]);ge!=null&&y(r,["thinkingConfig"],ge);const we=g(t,["imageConfig"]);return we!=null&&y(r,["imageConfig"],HH(we)),r}function wA(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["contents"]);if(i!=null){let l=Pr(i);Array.isArray(l)&&(l=l.map(u=>Oh(u))),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&y(n,["generationConfig"],mH(e,a,n)),n}function SA(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["contents"]);if(i!=null){let l=Pr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&y(n,["generationConfig"],gH(e,a,n)),n}function EA(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>U8(f))),y(t,["candidates"],d)}const i=g(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function TA(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),y(t,["candidates"],f)}const i=g(e,["createTime"]);i!=null&&y(t,["createTime"],i);const a=g(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const l=g(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const u=g(e,["responseId"]);u!=null&&y(t,["responseId"],u);const d=g(e,["usageMetadata"]);return d!=null&&y(t,["usageMetadata"],d),t}function vH(e,t){const n={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);t!==void 0&&i!=null&&y(t,["parameters","aspectRatio"],i);const a=g(e,["guidanceScale"]);if(t!==void 0&&a!=null&&y(t,["parameters","guidanceScale"],a),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const u=g(e,["personGeneration"]);t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u);const d=g(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&y(t,["parameters","includeSafetyAttributes"],d);const f=g(e,["includeRaiReason"]);t!==void 0&&f!=null&&y(t,["parameters","includeRaiReason"],f);const h=g(e,["language"]);t!==void 0&&h!=null&&y(t,["parameters","language"],h);const m=g(e,["outputMimeType"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","mimeType"],m);const b=g(e,["outputCompressionQuality"]);if(t!==void 0&&b!=null&&y(t,["parameters","outputOptions","compressionQuality"],b),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=g(e,["imageSize"]);if(t!==void 0&&_!=null&&y(t,["parameters","sampleImageSize"],_),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function yH(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const a=g(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const f=g(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const b=g(e,["includeRaiReason"]);t!==void 0&&b!=null&&y(t,["parameters","includeRaiReason"],b);const _=g(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const S=g(e,["outputMimeType"]);t!==void 0&&S!=null&&y(t,["parameters","outputOptions","mimeType"],S);const T=g(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","compressionQuality"],T);const A=g(e,["addWatermark"]);t!==void 0&&A!=null&&y(t,["parameters","addWatermark"],A);const R=g(e,["labels"]);t!==void 0&&R!=null&&y(t,["labels"],R);const P=g(e,["imageSize"]);t!==void 0&&P!=null&&y(t,["parameters","sampleImageSize"],P);const N=g(e,["enhancePrompt"]);return t!==void 0&&N!=null&&y(t,["parameters","enhancePrompt"],N),n}function bH(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["config"]);return a!=null&&vH(a,n),n}function xH(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["config"]);return a!=null&&yH(a,n),n}function _H(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>MH(l))),y(t,["generatedImages"],a)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],PI(i)),t}function wH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Ih(l))),y(t,["generatedImages"],a)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],OI(i)),t}function SH(e,t){const n={},r=g(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(t!==void 0&&i!=null&&y(t,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(e,["aspectRatio"]);t!==void 0&&a!=null&&y(t,["parameters","aspectRatio"],a);const l=g(e,["resolution"]);t!==void 0&&l!=null&&y(t,["parameters","resolution"],l);const u=g(e,["personGeneration"]);if(t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=g(e,["negativePrompt"]);t!==void 0&&d!=null&&y(t,["parameters","negativePrompt"],d);const f=g(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&y(t,["parameters","enhancePrompt"],f),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(e,["lastFrame"]);t!==void 0&&h!=null&&y(t,["instances[0]","lastFrame"],Mh(h));const m=g(e,["referenceImages"]);if(t!==void 0&&m!=null){let b=m;Array.isArray(b)&&(b=b.map(_=>TG(_))),y(t,["instances[0]","referenceImages"],b)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function EH(e,t){const n={},r=g(e,["numberOfVideos"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["fps"]);t!==void 0&&a!=null&&y(t,["parameters","fps"],a);const l=g(e,["durationSeconds"]);t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l);const u=g(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const d=g(e,["aspectRatio"]);t!==void 0&&d!=null&&y(t,["parameters","aspectRatio"],d);const f=g(e,["resolution"]);t!==void 0&&f!=null&&y(t,["parameters","resolution"],f);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=g(e,["pubsubTopic"]);t!==void 0&&m!=null&&y(t,["parameters","pubsubTopic"],m);const b=g(e,["negativePrompt"]);t!==void 0&&b!=null&&y(t,["parameters","negativePrompt"],b);const _=g(e,["enhancePrompt"]);t!==void 0&&_!=null&&y(t,["parameters","enhancePrompt"],_);const S=g(e,["generateAudio"]);t!==void 0&&S!=null&&y(t,["parameters","generateAudio"],S);const T=g(e,["lastFrame"]);t!==void 0&&T!=null&&y(t,["instances[0]","lastFrame"],Kr(T));const A=g(e,["referenceImages"]);if(t!==void 0&&A!=null){let N=A;Array.isArray(N)&&(N=N.map(I=>AG(I))),y(t,["instances[0]","referenceImages"],N)}const R=g(e,["mask"]);t!==void 0&&R!=null&&y(t,["instances[0]","mask"],EG(R));const P=g(e,["compressionQuality"]);return t!==void 0&&P!=null&&y(t,["parameters","compressionQuality"],P),n}function TH(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],RH(l)),t}function AH(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],PH(l)),t}function CH(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["image"]);a!=null&&y(n,["instances[0]","image"],Mh(a));const l=g(t,["video"]);l!=null&&y(n,["instances[0]","video"],DI(l));const u=g(t,["source"]);u!=null&&OH(u,n);const d=g(t,["config"]);return d!=null&&SH(d,n),n}function NH(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["image"]);a!=null&&y(n,["instances[0]","image"],Kr(a));const l=g(t,["video"]);l!=null&&y(n,["instances[0]","video"],kI(l));const u=g(t,["source"]);u!=null&&IH(u,n);const d=g(t,["config"]);return d!=null&&EH(d,n),n}function RH(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>kH(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function PH(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>jH(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function OH(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],Mh(i));const a=g(e,["video"]);return t!==void 0&&a!=null&&y(t,["instances[0]","video"],DI(a)),n}function IH(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],Kr(i));const a=g(e,["video"]);return t!==void 0&&a!=null&&y(t,["instances[0]","video"],kI(a)),n}function MH(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],GH(n));const r=g(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=g(e,["_self"]);return i!=null&&y(t,["safetyAttributes"],PI(i)),t}function Ih(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],RI(n));const r=g(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=g(e,["_self"]);i!=null&&y(t,["safetyAttributes"],OI(i));const a=g(e,["prompt"]);return a!=null&&y(t,["enhancedPrompt"],a),t}function DH(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["mask"],RI(n));const r=g(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["labels"],i)}return t}function kH(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],wG(n)),t}function jH(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],SG(n)),t}function LH(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const d=g(e,["logprobs"]);d!=null&&y(t,["logprobs"],d);const f=g(e,["maxOutputTokens"]);f!=null&&y(t,["maxOutputTokens"],f);const h=g(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const b=g(e,["responseLogprobs"]);b!=null&&y(t,["responseLogprobs"],b);const _=g(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const S=g(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const T=g(e,["responseSchema"]);T!=null&&y(t,["responseSchema"],T);const A=g(e,["routingConfig"]);A!=null&&y(t,["routingConfig"],A);const R=g(e,["seed"]);R!=null&&y(t,["seed"],R);const P=g(e,["speechConfig"]);P!=null&&y(t,["speechConfig"],II(P));const N=g(e,["stopSequences"]);N!=null&&y(t,["stopSequences"],N);const I=g(e,["temperature"]);I!=null&&y(t,["temperature"],I);const M=g(e,["thinkingConfig"]);M!=null&&y(t,["thinkingConfig"],M);const D=g(e,["topK"]);D!=null&&y(t,["topK"],D);const k=g(e,["topP"]);if(k!=null&&y(t,["topP"],k),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function UH(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],nt(e,r)),n}function qH(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],nt(e,r)),n}function zH(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function $H(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function BH(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function HH(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);r!=null&&y(t,["imageSize"],r);const i=g(e,["outputMimeType"]);i!=null&&y(t,["imageOutputOptions","mimeType"],i);const a=g(e,["outputCompressionQuality"]);return a!=null&&y(t,["imageOutputOptions","compressionQuality"],a),t}function GH(e){const t={},n=g(e,["bytesBase64Encoded"]);n!=null&&y(t,["imageBytes"],Ba(n));const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function RI(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["imageBytes"],Ba(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function Mh(e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);n!=null&&y(t,["bytesBase64Encoded"],Ba(n));const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Kr(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["imageBytes"]);r!=null&&y(t,["bytesBase64Encoded"],Ba(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function VH(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=g(t,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=g(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],_I(e,u)),r}function FH(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=g(t,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=g(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],_I(e,u)),r}function KH(e,t){const n={},r=g(t,["config"]);return r!=null&&VH(e,r,n),n}function YH(e,t){const n={},r=g(t,["config"]);return r!=null&&FH(e,r,n),n}function WH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let a=wI(i);Array.isArray(a)&&(a=a.map(l=>r0(l))),y(t,["models"],a)}return t}function JH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let a=wI(i);Array.isArray(a)&&(a=a.map(l=>i0(l))),y(t,["models"],a)}return t}function XH(e){const t={},n=g(e,["maskMode"]);n!=null&&y(t,["maskMode"],n);const r=g(e,["segmentationClasses"]);r!=null&&y(t,["maskClasses"],r);const i=g(e,["maskDilation"]);return i!=null&&y(t,["dilation"],i),t}function r0(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);i!=null&&y(t,["description"],i);const a=g(e,["version"]);a!=null&&y(t,["version"],a);const l=g(e,["_self"]);l!=null&&y(t,["tunedModelInfo"],hG(l));const u=g(e,["inputTokenLimit"]);u!=null&&y(t,["inputTokenLimit"],u);const d=g(e,["outputTokenLimit"]);d!=null&&y(t,["outputTokenLimit"],d);const f=g(e,["supportedGenerationMethods"]);f!=null&&y(t,["supportedActions"],f);const h=g(e,["temperature"]);h!=null&&y(t,["temperature"],h);const m=g(e,["maxTemperature"]);m!=null&&y(t,["maxTemperature"],m);const b=g(e,["topP"]);b!=null&&y(t,["topP"],b);const _=g(e,["topK"]);_!=null&&y(t,["topK"],_);const S=g(e,["thinking"]);return S!=null&&y(t,["thinking"],S),t}function i0(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);i!=null&&y(t,["description"],i);const a=g(e,["versionId"]);a!=null&&y(t,["version"],a);const l=g(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(b=>cH(b))),y(t,["endpoints"],m)}const u=g(e,["labels"]);u!=null&&y(t,["labels"],u);const d=g(e,["_self"]);d!=null&&y(t,["tunedModelInfo"],pG(d));const f=g(e,["defaultCheckpointId"]);f!=null&&y(t,["defaultCheckpointId"],f);const h=g(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(b=>b)),y(t,["checkpoints"],m)}return t}function QH(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],dH(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],fH(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&y(t,["inlineData"],L8(d));const f=g(e,["text"]);f!=null&&y(t,["text"],f);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const b=g(e,["videoMetadata"]);return b!=null&&y(t,["videoMetadata"],b),t}function ZH(e){const t={},n=g(e,["productImage"]);return n!=null&&y(t,["image"],Kr(n)),t}function eG(e,t){const n={},r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=g(e,["baseSteps"]);t!==void 0&&i!=null&&y(t,["parameters","baseSteps"],i);const a=g(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=g(e,["seed"]);t!==void 0&&l!=null&&y(t,["parameters","seed"],l);const u=g(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const f=g(e,["addWatermark"]);t!==void 0&&f!=null&&y(t,["parameters","addWatermark"],f);const h=g(e,["outputMimeType"]);t!==void 0&&h!=null&&y(t,["parameters","outputOptions","mimeType"],h);const m=g(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","compressionQuality"],m);const b=g(e,["enhancePrompt"]);t!==void 0&&b!=null&&y(t,["parameters","enhancePrompt"],b);const _=g(e,["labels"]);return t!==void 0&&_!=null&&y(t,["labels"],_),n}function tG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["source"]);i!=null&&rG(i,n);const a=g(t,["config"]);return a!=null&&eG(a,n),n}function nG(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ih(i))),y(t,["generatedImages"],r)}return t}function rG(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["personImage"]);t!==void 0&&i!=null&&y(t,["instances[0]","personImage","image"],Kr(i));const a=g(e,["productImages"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>ZH(u))),y(t,["instances[0]","productImages"],l)}return n}function iG(e){const t={},n=g(e,["referenceImage"]);n!=null&&y(t,["referenceImage"],Kr(n));const r=g(e,["referenceId"]);r!=null&&y(t,["referenceId"],r);const i=g(e,["referenceType"]);i!=null&&y(t,["referenceType"],i);const a=g(e,["maskImageConfig"]);a!=null&&y(t,["maskImageConfig"],XH(a));const l=g(e,["controlImageConfig"]);l!=null&&y(t,["controlImageConfig"],G8(l));const u=g(e,["styleImageConfig"]);u!=null&&y(t,["styleImageConfig"],u);const d=g(e,["subjectImageConfig"]);return d!=null&&y(t,["subjectImageConfig"],d),t}function PI(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function OI(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function aG(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function oG(e){const t={},n=g(e,["image"]);return n!=null&&y(t,["image"],Kr(n)),t}function sG(e,t){const n={},r=g(e,["mode"]);t!==void 0&&r!=null&&y(t,["parameters","mode"],r);const i=g(e,["maxPredictions"]);t!==void 0&&i!=null&&y(t,["parameters","maxPredictions"],i);const a=g(e,["confidenceThreshold"]);t!==void 0&&a!=null&&y(t,["parameters","confidenceThreshold"],a);const l=g(e,["maskDilation"]);t!==void 0&&l!=null&&y(t,["parameters","maskDilation"],l);const u=g(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&y(t,["parameters","binaryColorThreshold"],u);const d=g(e,["labels"]);return t!==void 0&&d!=null&&y(t,["labels"],d),n}function lG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["source"]);i!=null&&cG(i,n);const a=g(t,["config"]);return a!=null&&sG(a,n),n}function uG(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>DH(i))),y(t,["generatedMasks"],r)}return t}function cG(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],Kr(i));const a=g(e,["scribbleImage"]);return t!==void 0&&a!=null&&y(t,["instances[0]","scribble"],oG(a)),n}function II(e){const t={},n=g(e,["languageCode"]);n!=null&&y(t,["languageCode"],n);const r=g(e,["voiceConfig"]);if(r!=null&&y(t,["voiceConfig"],r),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function dG(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],hH(n));const r=g(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function fG(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],zH(u));const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],$H(d));const f=g(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function MI(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(b=>pH(b))),y(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const d=g(e,["googleMaps"]);d!=null&&y(t,["googleMaps"],d);const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function hG(e){const t={},n=g(e,["baseModel"]);n!=null&&y(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function pG(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function mG(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const a=g(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&y(t,["defaultCheckpointId"],a),n}function gG(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const a=g(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&y(t,["defaultCheckpointId"],a),n}function vG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","name"],nt(e,r));const i=g(t,["config"]);return i!=null&&mG(i,n),n}function yG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["config"]);return i!=null&&gG(i,n),n}function bG(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=g(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&y(t,["parameters","safetySetting"],i);const a=g(e,["personGeneration"]);t!==void 0&&a!=null&&y(t,["parameters","personGeneration"],a);const l=g(e,["includeRaiReason"]);t!==void 0&&l!=null&&y(t,["parameters","includeRaiReason"],l);const u=g(e,["outputMimeType"]);t!==void 0&&u!=null&&y(t,["parameters","outputOptions","mimeType"],u);const d=g(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&y(t,["parameters","outputOptions","compressionQuality"],d);const f=g(e,["enhanceInputImage"]);t!==void 0&&f!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],f);const h=g(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const b=g(e,["numberOfImages"]);t!==void 0&&b!=null&&y(t,["parameters","sampleCount"],b);const _=g(e,["mode"]);return t!==void 0&&_!=null&&y(t,["parameters","mode"],_),n}function xG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],nt(e,r));const i=g(t,["image"]);i!=null&&y(n,["instances[0]","image"],Kr(i));const a=g(t,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=g(t,["config"]);return l!=null&&bG(l,n),n}function _G(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Ih(a))),y(t,["generatedImages"],i)}return t}function wG(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],Ba(r));const i=g(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function SG(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],Ba(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function EG(e){const t={},n=g(e,["image"]);n!=null&&y(t,["_self"],Kr(n));const r=g(e,["maskMode"]);return r!=null&&y(t,["maskMode"],r),t}function TG(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],Mh(n));const r=g(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function AG(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],Kr(n));const r=g(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function DI(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["videoBytes"]);r!=null&&y(t,["encodedVideo"],Ba(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["encoding"],i),t}function kI(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["videoBytes"]);r!=null&&y(t,["bytesBase64Encoded"],Ba(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CG="Content-Type",NG="X-Server-Timeout",RG="User-Agent",a0="x-goog-api-client",PG="1.30.0",OG=`google-genai-sdk/${PG}`,IG="v1beta1",MG="v1beta",AA=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class DG{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:IG,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:MG,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&kG(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await CA(i),new e0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await CA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return Ks(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield wt(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(d,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const b=JSON.parse(JSON.stringify(m.error)),_=b.status,S=b.code,T=`got status: ${_}. ${JSON.stringify(m)}`;if(S>=400&&S<600)throw new Ph({message:T,status:S})}}catch(m){if(m.name==="ApiError")throw m}l+=f;let h=l.match(AA);for(;h;){const m=h[1];try{const b=new Response(m,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield wt(new e0(b)),l=l.slice(h[0].length),h=l.match(AA)}catch(b){throw new Error(`exception parsing stream chunk ${m}. ${b}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=OG+" "+this.clientOptions.userAgentExtra;return t[RG]=n,t[a0]=n,t[CG]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(NG,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d={file:i},f=this.getFileName(t),h=xe("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,d,n==null?void 0:n.httpOptions);return a.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),u=String(l.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const b=await this.fetchUploadUrl(f,u,d,h,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,b,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function CA(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ph({message:i,status:n}):new Error(i)}}function kG(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const u=Object.assign({},a);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],h=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[d]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jG="mcp_used/unknown";let LG=!1;function jI(e){for(const t of e)if(UG(t)||typeof t=="object"&&"inputSchema"in t)return!0;return LG}function LI(e){var t;const n=(t=e[a0])!==null&&t!==void 0?t:"";e[a0]=(n+` ${jG}`).trimStart()}function UG(e){return e!==null&&typeof e=="object"&&e instanceof Ib}function qG(e,t=100){return Ks(this,arguments,function*(){let r,i=0;for(;i<t;){const a=yield wt(e.listTools({cursor:r}));for(const l of a.tools)yield yield wt(l),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class Ib{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ib(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,Nu(qG(h))),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const m=i;l.push(m);const b=m.name;if(a[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);a[b]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),O$(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zG(e,t,n){const r=new S$;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class $G{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=GG(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(N=>{f=N}),m=t.callbacks,b=function(){f({})},_=this.apiClient,S={onopen:b,onmessage:N=>{zG(_,m.onmessage,N)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(N){}},T=this.webSocketFactory.create(d,HG(l),S);T.connect(),await h;const P={setup:{model:nt(this.apiClient,t.model)}};return T.send(JSON.stringify(P)),new BG(T,this.apiClient)}}class BG{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=N8(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=C8(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Bs.PLAY)}pause(){this.sendPlaybackControl(Bs.PAUSE)}stop(){this.sendPlaybackControl(Bs.STOP)}resetContext(){this.sendPlaybackControl(Bs.RESET_CONTEXT)}close(){this.conn.close()}}function HG(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function GG(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VG="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FG(e,t,n){const r=new w$;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const l=O8(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class KG{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new $G(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&jI(t.config.tools)&&LI(m);const b=XG(m);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,h);else{const U=this.apiClient.getApiKey();let le="BidiGenerateContent",W="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",W="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${le}?${W}=${U}`}let _=()=>{};const S=new Promise(U=>{_=U}),T=t.callbacks,A=function(){var U;(U=T==null?void 0:T.onopen)===null||U===void 0||U.call(T),_({})},R=this.apiClient,P={onopen:A,onmessage:U=>{FG(R,T.onmessage,U)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(U){}},N=this.webSocketFactory.create(h,JG(b),P);N.connect(),await S;let I=nt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const U=this.apiClient.getProject(),le=this.apiClient.getLocation();I=`projects/${U}/locations/${le}/`+I}let M={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Rf.AUDIO]}:t.config.responseModalities=[Rf.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],k=[];for(const U of D)if(this.isCallableTool(U)){const le=U;k.push(await le.tool())}else k.push(U);k.length>0&&(t.config.tools=k);const G={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?M=A8(this.apiClient,G):M=T8(this.apiClient,G),delete M.config,N.send(JSON.stringify(M)),new WG(N,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const YG={turnComplete:!0};class WG{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Pr(n.turns),t.isVertexAI()||(r=r.map(i=>Oh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(VG)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},YG),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:P8(t)}:n={realtimeInput:R8(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function JG(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function XG(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NA=10;function RA(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ys(l)){i=!0;break}if(!i)return!0;const a=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Ys(e){return"callTool"in e&&typeof e.callTool=="function"}function QG(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ys(i)))!==null&&r!==void 0?r:!1}function PA(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ys(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function OA(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZG extends Ki{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!QG(n)||RA(n.config))return await this.generateContentInternal(d);const f=PA(n);if(f.length>0){const T=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let h,m;const b=Pr(d.contents),_=(a=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:NA;let S=0;for(;S<_&&(h=await this.generateContentInternal(d),!(!h.functionCalls||h.functionCalls.length===0));){const T=h.candidates[0].content,A=[];for(const R of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ys(R)){const N=await R.callTool(h.functionCalls);A.push(...N)}S++,m={role:"user",parts:A},d.contents=Pr(d.contents),d.contents.push(T),d.contents.push(m),OA(d.config)&&(b.push(T),b.push(m))}return OA(d.config)&&(h.automaticFunctionCallingHistory=b),h},this.generateContentStream=async n=>{var r,i,a,l,u;if(this.maybeMoveToResponseJsonSchem(n),RA(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const d=PA(n);if(d.length>0){const m=d.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=d==null?void 0:d.safetyAttributes:l.push(d);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Uo(qi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async d=>Ys(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&jI(t.config.tools)){const d=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),LI(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ys(l)){const u=l,d=await u.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,u)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:NA;let l=!1,u=0;const d=await this.initAfcToolsMap(t);return(function(f,h,m){var b,_;return Ks(this,arguments,function*(){for(var S,T,A,R;u<a;){l&&(u++,l=!1);const M=yield wt(f.processParamsMaybeAddMcpUsage(m)),D=yield wt(f.generateContentStreamInternal(M)),k=[],G=[];try{for(var P=!0,N=(T=void 0,Nu(D)),I;I=yield wt(N.next()),S=I.done,!S;P=!0){R=I.value,P=!1;const U=R;if(yield yield wt(U),U.candidates&&(!((b=U.candidates[0])===null||b===void 0)&&b.content)){G.push(U.candidates[0].content);for(const le of(_=U.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<a&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(le.functionCall.name)){const W=yield wt(h.get(le.functionCall.name).callTool([le.functionCall]));k.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(U){T={error:U}}finally{try{!P&&!S&&(A=N.return)&&(yield wt(A.call(N)))}finally{if(T)throw T.error}}if(k.length>0){l=!0;const U=new mu;U.candidates=[{content:{role:"user",parts:k}}],yield yield wt(U);const le=[];le.push(...G),le.push({role:"user",parts:k});const W=Pr(m.contents).concat(le);m.contents=W}else break}})})(this,d,t)}async generateContentInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=SA(this.apiClient,t);return u=xe("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=TA(h),b=new mu;return Object.assign(b,m),b})}else{const f=wA(this.apiClient,t);return u=xe("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=EA(h),b=new mu;return Object.assign(b,m),b})}}async generateContentStreamInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=SA(this.apiClient,t);return u=xe("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Ks(this,arguments,function*(){var b,_,S,T;try{for(var A=!0,R=Nu(m),P;P=yield wt(R.next()),b=P.done,!b;A=!0){T=P.value,A=!1;const N=T,I=TA(yield wt(N.json()));I.sdkHttpResponse={headers:N.headers};const M=new mu;Object.assign(M,I),yield yield wt(M)}}catch(N){_={error:N}}finally{try{!A&&!b&&(S=R.return)&&(yield wt(S.call(R)))}finally{if(_)throw _.error}}})})}else{const f=wA(this.apiClient,t);return u=xe("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(m){return Ks(this,arguments,function*(){var b,_,S,T;try{for(var A=!0,R=Nu(m),P;P=yield wt(R.next()),b=P.done,!b;A=!0){T=P.value,A=!1;const N=T,I=EA(yield wt(N.json()));I.sdkHttpResponse={headers:N.headers};const M=new mu;Object.assign(M,I),yield yield wt(M)}}catch(N){_={error:N}}finally{try{!A&&!b&&(S=R.return)&&(yield wt(S.call(R)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=sH(this.apiClient,t);return u=xe("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=uH(h),b=new oA;return Object.assign(b,m),b})}else{const f=oH(this.apiClient,t);return u=xe("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=lH(h),b=new oA;return Object.assign(b,m),b})}}async generateImagesInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=xH(this.apiClient,t);return u=xe("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=wH(h),b=new sA;return Object.assign(b,m),b})}else{const f=bH(this.apiClient,t);return u=xe("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=_H(h),b=new sA;return Object.assign(b,m),b})}}async editImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=nH(this.apiClient,t);return a=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=rH(d),h=new d$;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=xG(this.apiClient,t);return a=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=_G(d),h=new f$;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=tG(this.apiClient,t);return a=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=nG(d),h=new h$;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=lG(this.apiClient,t);return a=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=uG(d),h=new p$;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=qH(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>i0(h))}else{const f=UH(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>r0(h))}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=YH(this.apiClient,t);return u=xe("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=JH(h),b=new lA;return Object.assign(b,m),b})}else{const f=KH(this.apiClient,t);return u=xe("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=WH(h),b=new lA;return Object.assign(b,m),b})}}async update(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=yG(this.apiClient,t);return u=xe("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>i0(h))}else{const f=vG(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>r0(h))}}async delete(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Q8(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=eH(h),b=new uA;return Object.assign(b,m),b})}else{const f=X8(this.apiClient,t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=Z8(h),b=new uA;return Object.assign(b,m),b})}}async countTokens(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Y8(this.apiClient,t);return u=xe("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=J8(h),b=new cA;return Object.assign(b,m),b})}else{const f=K8(this.apiClient,t);return u=xe("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=W8(h),b=new cA;return Object.assign(b,m),b})}}async computeTokens(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=z8(this.apiClient,t);return a=xe("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=$8(d),h=new m$;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=NH(this.apiClient,t);return u=xe("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=AH(h),b=new Pf;return Object.assign(b,m),b})}else{const f=CH(this.apiClient,t);return u=xe("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>{const m=TH(h),b=new Pf;return Object.assign(b,m),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eV extends Ki{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=a$(t);return u=xe("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const f=i$(t);return u=xe("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=X6(t);return a=xe("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tV(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function nV(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>dV(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function rV(e,t,n){const r={},i=g(t,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=g(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const l=g(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=g(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],cV(e,u));const d=g(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&y(n,["fieldMask"],d),r}function iV(e,t){const n={},r=g(t,["config"]);return r!=null&&y(n,["config"],rV(e,r,n)),n}function aV(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function oV(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function sV(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function lV(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function uV(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],Ob(m));const b=g(e,["thinkingConfig"]);t!==void 0&&b!=null&&y(t,["setup","generationConfig","thinkingConfig"],b);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],nV(Tn(S)));const T=g(e,["tools"]);if(t!==void 0&&T!=null){let D=hl(T);Array.isArray(D)&&(D=D.map(k=>hV(fl(k)))),y(t,["setup","tools"],D)}const A=g(e,["sessionResumption"]);t!==void 0&&A!=null&&y(t,["setup","sessionResumption"],fV(A));const R=g(e,["inputAudioTranscription"]);t!==void 0&&R!=null&&y(t,["setup","inputAudioTranscription"],R);const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const N=g(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&y(t,["setup","realtimeInputConfig"],N);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const M=g(e,["proactivity"]);return t!==void 0&&M!=null&&y(t,["setup","proactivity"],M),n}function cV(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],nt(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],uV(i,n)),n}function dV(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],aV(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],oV(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&y(t,["inlineData"],tV(d));const f=g(e,["text"]);f!=null&&y(t,["text"],f);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const b=g(e,["videoMetadata"]);return b!=null&&y(t,["videoMetadata"],b),t}function fV(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function hV(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],sV(u));const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],lV(d));const f=g(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pV(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function mV(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=pV(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];a&&d.push(a),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class gV extends Ki{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=iV(this.apiClient,t);a=xe("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=mV(u,t.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vV(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function yV(e){const t={},n=g(e,["config"]);return n!=null&&vV(n,t),t}function bV(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function xV(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&bV(r,t),t}function _V(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function wV(e,t){const n={},r=g(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["customMetadata"],a)}const i=g(e,["chunkingConfig"]);return t!==void 0&&i!=null&&y(t,["chunkingConfig"],i),n}function SV(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],TV(l)),t}function EV(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=g(e,["fileName"]);r!=null&&y(t,["fileName"],r);const i=g(e,["config"]);return i!=null&&wV(i,t),t}function TV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function AV(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function CV(e){const t={},n=g(e,["config"]);return n!=null&&AV(n,t),t}function NV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["fileSearchStores"],a)}return t}function RV(e,t){const n={},r=g(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),y(t,["customMetadata"],u)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function PV(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=g(e,["config"]);return r!=null&&RV(r,t),t}function OV(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IV(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function MV(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&IV(r,t),t}function DV(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function kV(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function jV(e){const t={},n=g(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=g(e,["config"]);return r!=null&&kV(r,t),t}function LV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let UV=class extends Ki{constructor(t){super(),this.apiClient=t,this.list=async n=>new Uo(qi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DV(t);return a=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=MV(t);i=xe("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jV(t);return a=xe("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=LV(d),h=new g$;return Object.assign(h,f),h})}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qV extends Ki{constructor(t,n=new UV(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Uo(qi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yV(t);return a=xe("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_V(t);return a=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xV(t);i=xe("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CV(t);return a=xe("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=NV(d),h=new v$;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=PV(t);return a=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=OV(d),h=new y$;return Object.assign(h,f),h})}}async importFile(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=EV(t);return a=xe("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=SV(d),h=new Ab;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zV(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function $V(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function BV(e,t,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&y(t,["displayName"],i),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(e,["epochCount"]);t!==void 0&&a!=null&&y(t,["tuningTask","hyperparameters","epochCount"],a);const l=g(e,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const d=g(e,["learningRate"]);if(t!==void 0&&d!=null&&y(t,["tuningTask","hyperparameters","learningRate"],d),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function HV(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const _=g(e,["validationDataset"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec"],IA(_))}else if(i==="PREFERENCE_TUNING"){const _=g(e,["validationDataset"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec"],IA(_))}const a=g(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&y(t,["tunedModelDisplayName"],a);const l=g(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=g(e,["epochCount"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(u==="PREFERENCE_TUNING"){const _=g(e,["epochCount"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const _=g(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(d==="PREFERENCE_TUNING"){const _=g(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const _=g(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(f==="PREFERENCE_TUNING"){const _=g(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=g(e,["adapterSize"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(h==="PREFERENCE_TUNING"){const _=g(e,["adapterSize"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const b=g(e,["beta"]);return t!==void 0&&b!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],b),r}function GV(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&tF(a);const l=g(e,["config"]);return l!=null&&BV(l,n),n}function VV(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&nF(a,n,t);const l=g(e,["config"]);return l!=null&&HV(l,n,t),n}function FV(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function KV(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function YV(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function WV(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function JV(e,t){const n={},r=g(e,["config"]);return r!=null&&YV(r,n),n}function XV(e,t){const n={},r=g(e,["config"]);return r!=null&&WV(r,n),n}function QV(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>UI(u))),y(n,["tuningJobs"],l)}return n}function ZV(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>o0(u))),y(n,["tuningJobs"],l)}return n}function eF(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["model"],r);const i=g(e,["name"]);return i!=null&&y(n,["endpoint"],i),n}function tF(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function nF(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function UI(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["state"]);a!=null&&y(n,["state"],bI(a));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const d=g(e,["tuningTask","completeTime"]);d!=null&&y(n,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=g(e,["description"]);h!=null&&y(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&y(n,["baseModel"],m);const b=g(e,["_self"]);return b!=null&&y(n,["tunedModel"],eF(b)),n}function o0(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["state"]);a!=null&&y(n,["state"],bI(a));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(e,["startTime"]);u!=null&&y(n,["startTime"],u);const d=g(e,["endTime"]);d!=null&&y(n,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=g(e,["error"]);h!=null&&y(n,["error"],h);const m=g(e,["description"]);m!=null&&y(n,["description"],m);const b=g(e,["baseModel"]);b!=null&&y(n,["baseModel"],b);const _=g(e,["tunedModel"]);_!=null&&y(n,["tunedModel"],_);const S=g(e,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const T=g(e,["supervisedTuningSpec"]);T!=null&&y(n,["supervisedTuningSpec"],T);const A=g(e,["preferenceOptimizationSpec"]);A!=null&&y(n,["preferenceOptimizationSpec"],A);const R=g(e,["tuningDataStats"]);R!=null&&y(n,["tuningDataStats"],R);const P=g(e,["encryptionSpec"]);P!=null&&y(n,["encryptionSpec"],P);const N=g(e,["partnerModelTuningSpec"]);N!=null&&y(n,["partnerModelTuningSpec"],N);const I=g(e,["customBaseModel"]);I!=null&&y(n,["customBaseModel"],I);const M=g(e,["experiment"]);M!=null&&y(n,["experiment"],M);const D=g(e,["labels"]);D!=null&&y(n,["labels"],D);const k=g(e,["outputUri"]);k!=null&&y(n,["outputUri"],k);const G=g(e,["pipelineJob"]);G!=null&&y(n,["pipelineJob"],G);const U=g(e,["serviceAccount"]);U!=null&&y(n,["serviceAccount"],U);const le=g(e,["tunedModelDisplayName"]);le!=null&&y(n,["tunedModelDisplayName"],le);const W=g(e,["veoTuningSpec"]);return W!=null&&y(n,["veoTuningSpec"],W),n}function rF(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(e,["done"]);l!=null&&y(n,["done"],l);const u=g(e,["error"]);return u!=null&&y(n,["error"],u),n}function IA(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(e,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iF extends Ki{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Uo(qi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:Zy.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=KV(t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>o0(h))}else{const f=FV(t);return u=xe("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>UI(h))}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=XV(t);return u=xe("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=ZV(h),b=new dA;return Object.assign(b,m),b})}else{const f=JV(t);return u=xe("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),l.then(h=>{const m=QV(h),b=new dA;return Object.assign(b,m),b})}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const d=$V(t);l=xe("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=zV(t);l=xe("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=VV(t,t);return a=xe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>o0(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=GV(t);return a=xe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>rF(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aF{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const oF=1024*1024*8,sF=3,lF=1e3,uF=2,If="x-goog-upload-status";async function cF(e,t,n){var r;const i=await qI(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[If])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function dF(e,t,n){var r;const i=await qI(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[If])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=hI(a),u=new Cb;return Object.assign(u,l),u}async function qI(e,t,n){var r,i;let a=0,l=0,u=new e0(new Response),d="upload";for(a=e.size;l<a;){const f=Math.min(oF,a-l),h=e.slice(l,l+f);l+f>=a&&(d+=", finalize");let m=0,b=lF;for(;m<sF&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[If]));)m++,await hF(b),b=b*uF;if(l+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[If])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function fF(e){return{size:e.size,type:e.type}}function hF(e){return new Promise(t=>setTimeout(t,e))}class pF{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await cF(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await dF(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await fF(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mF{create(t,n,r){return new gF(t,n,r)}}class gF{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MA="x-goog-api-key";class vF{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(MA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(MA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yF="gl-node/";class bF{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=W6(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const i=new vF(this.apiKey);this.apiClient=new DG({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:yF+"web",uploader:new pF,downloader:new aF}),this.models=new ZG(this.apiClient),this.live=new KG(this.apiClient,i,new mF),this.batches=new EB(this.apiClient),this.chats=new a8(this.models,this.apiClient),this.caches=new n8(this.apiClient),this.files=new m8(this.apiClient),this.operations=new eV(this.apiClient),this.authTokens=new gV(this.apiClient),this.tunings=new iF(this.apiClient),this.fileSearchStores=new qV(this.apiClient)}}const DA=new bF({apiKey:void 0}),xF={generateMaintenancePlan:async(e,t,n)=>{try{const r="gemini-2.5-flash",i=`
        Atue como um especialista em manuteno predial.
        Crie um checklist curto e prtico de manuteno preventiva para o seguinte equipamento:
        Nome: ${e}
        Tipo: ${t}
        ltima manuteno: ${n}
        
        Sada desejada: Lista com 5 a 7 itens essenciais para verificar, formatada em Markdown.
      `;return(await DA.models.generateContent({model:r,contents:i})).text||"No foi possvel gerar o plano no momento."}catch(r){return console.error("Gemini API Error:",r),"Erro ao conectar com o servio de IA. Verifique sua chave de API."}},analyzeWaterConsumption:async e=>{try{const t="gemini-2.5-flash",r=`
        Analise os seguintes dados de consumo de gua de um condomnio (formato JSON):
        ${JSON.stringify(e.slice(0,10))}

        Identifique:
        1. Qual unidade tem o consumo mais alto?
        2. Existe alguma anomalia ou salto suspeito no consumo?
        3. D uma recomendao curta para o sndico.
        
        Responda em portugus, tom profissional e conciso.
      `;return(await DA.models.generateContent({model:t,contents:r})).text||"Sem insights disponveis."}catch(t){return console.error("Gemini API Error:",t),"Erro ao analisar dados."}}};function zI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=zI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ft(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=zI(e))&&(r&&(r+=" "),r+=t);return r}var _F=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mb(e){if(typeof e!="string")return!1;var t=_F;return t.includes(e)}var wF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SF=new Set(wF);function $I(e){return typeof e!="string"?!1:SF.has(e)}function BI(e){return typeof e=="string"&&e.startsWith("data-")}function ri(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&($I(n)||BI(n))&&(t[n]=e[n]);return t}function Dh(e){if(e==null)return null;if(E.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ri(t)}return typeof e=="object"&&!Array.isArray(e)?ri(e):null}function Mn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&($I(n)||BI(n)||Mb(n))&&(t[n]=e[n]);return t}function EF(e){return e==null?null:E.isValidElement(e)?Mn(e.props):typeof e=="object"&&!Array.isArray(e)?Mn(e):null}var TF=["children","width","height","viewBox","className","style","title","desc"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s0.apply(null,arguments)}function AF(e,t){if(e==null)return{};var n,r,i=CF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Db=E.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:d,desc:f}=e,h=AF(e,TF),m=a||{width:r,height:i,x:0,y:0},b=ft("recharts-surface",l);return E.createElement("svg",s0({},Mn(h),{className:b,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),E.createElement("title",null,d),E.createElement("desc",null,f),n)}),NF=["children","className"];function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l0.apply(null,arguments)}function RF(e,t){if(e==null)return{};var n,r,i=PF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ua=E.forwardRef((e,t)=>{var{children:n,className:r}=e,i=RF(e,NF),a=ft("recharts-layer",r);return E.createElement("g",l0({className:a},Mn(i),{ref:t}),n)}),HI=E.createContext(null),OF=()=>E.useContext(HI);function yt(e){return function(){return e}}const GI=Math.cos,Mf=Math.sin,Yr=Math.sqrt,Df=Math.PI,kh=2*Df,u0=Math.PI,c0=2*u0,vo=1e-6,IF=c0-vo;function VI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function MF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VI;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class DF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VI:MF(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,d=r-t,f=i-n,h=l-t,m=u-n,b=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>vo)if(!(Math.abs(m*d-f*h)>vo)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,S=i-u,T=d*d+f*f,A=_*_+S*S,R=Math.sqrt(T),P=Math.sqrt(b),N=a*Math.tan((u0-Math.acos((T+b-A)/(2*R*P)))/2),I=N/P,M=N/R;Math.abs(I-1)>vo&&this._append`L${t+I*h},${n+I*m}`,this._append`A${a},${a},0,0,${+(m*_>h*S)},${this._x1=t+M*d},${this._y1=n+M*f}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,h=n+d,m=1^l,b=l?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>vo||Math.abs(this._y1-h)>vo)&&this._append`L${f},${h}`,r&&(b<0&&(b=b%c0+c0),b>IF?this._append`A${r},${r},0,1,${m},${t-u},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:b>vo&&this._append`A${r},${r},0,${+(b>=u0)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function kb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new DF(t)}function jb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FI(e){this._context=e}FI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jh(e){return new FI(e)}function KI(e){return e[0]}function YI(e){return e[1]}function WI(e,t){var n=yt(!0),r=null,i=jh,a=null,l=kb(u);e=typeof e=="function"?e:e===void 0?KI:yt(e),t=typeof t=="function"?t:t===void 0?YI:yt(t);function u(d){var f,h=(d=jb(d)).length,m,b=!1,_;for(r==null&&(a=i(_=l())),f=0;f<=h;++f)!(f<h&&n(m=d[f],f,d))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(m,f,d),+t(m,f,d));if(_)return a=null,_+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:yt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:yt(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:yt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),u):r},u}function Kd(e,t,n){var r=null,i=yt(!0),a=null,l=jh,u=null,d=kb(f);e=typeof e=="function"?e:e===void 0?KI:yt(+e),t=typeof t=="function"?t:yt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?YI:yt(+n);function f(m){var b,_,S,T=(m=jb(m)).length,A,R=!1,P,N=new Array(T),I=new Array(T);for(a==null&&(u=l(P=d())),b=0;b<=T;++b){if(!(b<T&&i(A=m[b],b,m))===R)if(R=!R)_=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=b-1;S>=_;--S)u.point(N[S],I[S]);u.lineEnd(),u.areaEnd()}R&&(N[b]=+e(A,b,m),I[b]=+t(A,b,m),u.point(r?+r(A,b,m):N[b],n?+n(A,b,m):I[b]))}if(P)return u=null,P+""||null}function h(){return WI().defined(i).curve(l).context(a)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:yt(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:yt(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:yt(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:yt(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:yt(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:yt(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:yt(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,a!=null&&(u=l(a)),f):l},f.context=function(m){return arguments.length?(m==null?a=u=null:u=l(a=m),f):a},f}class JI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function kF(e){return new JI(e,!0)}function jF(e){return new JI(e,!1)}const Lb={draw(e,t){const n=Yr(t/Df);e.moveTo(n,0),e.arc(0,0,n,0,kh)}},LF={draw(e,t){const n=Yr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},XI=Yr(1/3),UF=XI*2,qF={draw(e,t){const n=Yr(t/UF),r=n*XI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},zF={draw(e,t){const n=Yr(t),r=-n/2;e.rect(r,r,n,n)}},$F=.8908130915292852,QI=Mf(Df/10)/Mf(7*Df/10),BF=Mf(kh/10)*QI,HF=-GI(kh/10)*QI,GF={draw(e,t){const n=Yr(t*$F),r=BF*n,i=HF*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=kh*a/5,u=GI(l),d=Mf(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},Zg=Yr(3),VF={draw(e,t){const n=-Yr(t/(Zg*3));e.moveTo(0,n*2),e.lineTo(-Zg*n,-n),e.lineTo(Zg*n,-n),e.closePath()}},Er=-.5,Tr=Yr(3)/2,d0=1/Yr(12),FF=(d0/2+1)*3,KF={draw(e,t){const n=Yr(t/FF),r=n/2,i=n*d0,a=r,l=n*d0+n,u=-a,d=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(u,d),e.lineTo(Er*r-Tr*i,Tr*r+Er*i),e.lineTo(Er*a-Tr*l,Tr*a+Er*l),e.lineTo(Er*u-Tr*d,Tr*u+Er*d),e.lineTo(Er*r+Tr*i,Er*i-Tr*r),e.lineTo(Er*a+Tr*l,Er*l-Tr*a),e.lineTo(Er*u+Tr*d,Er*d-Tr*u),e.closePath()}};function YF(e,t){let n=null,r=kb(i);e=typeof e=="function"?e:yt(e||Lb),t=typeof t=="function"?t:yt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:yt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:yt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function kf(){}function jf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ZI(e){this._context=e}ZI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WF(e){return new ZI(e)}function eM(e){this._context=e}eM.prototype={areaStart:kf,areaEnd:kf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JF(e){return new eM(e)}function tM(e){this._context=e}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XF(e){return new tM(e)}function nM(e){this._context=e}nM.prototype={areaStart:kf,areaEnd:kf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QF(e){return new nM(e)}function kA(e){return e<0?-1:1}function jA(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(kA(a)+kA(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function LA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ev(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,l-u*n,a,l)}function Lf(e){this._context=e}Lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ev(this,this._t0,LA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ev(this,LA(this,n=jA(this,e,t)),n);break;default:ev(this,this._t0,n=jA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function rM(e){this._context=new iM(e)}(rM.prototype=Object.create(Lf.prototype)).point=function(e,t){Lf.prototype.point.call(this,t,e)};function iM(e){this._context=e}iM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function ZF(e){return new Lf(e)}function e7(e){return new rM(e)}function aM(e){this._context=e}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=UA(e),i=UA(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function UA(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function t7(e){return new aM(e)}function Lh(e,t){this._context=e,this._t=t}Lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function n7(e){return new Lh(e,.5)}function r7(e){return new Lh(e,0)}function i7(e){return new Lh(e,1)}function Zs(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,u=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function f0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function a7(e,t){return e[t]}function o7(e){const t=[];return t.key=e,t}function s7(){var e=yt([]),t=f0,n=Zs,r=a7;function i(a){var l=Array.from(e.apply(this,arguments),o7),u,d=l.length,f=-1,h;for(const m of a)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(m,l[u].key,f,a)]).data=m;for(u=0,h=jb(t(l));u<d;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:yt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:yt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?f0:typeof a=="function"?a:yt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Zs,i):n},i}function l7(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}Zs(e,t)}}function u7(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Zs(e,t)}}function c7(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,d=0,f=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,b=h[r-1][1]||0,_=(m-b)/2,S=0;S<u;++S){var T=e[t[S]],A=T[r][1]||0,R=T[r-1][1]||0;_+=A-R}d+=m,f+=_*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Zs(e,t)}}var tv={},nv={},qA;function d7(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(nv)),nv}var rv={},zA;function oM(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(rv)),rv}var iv={},$A;function Ub(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(iv)),iv}var av={},ov={},BA;function f7(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(ov)),ov}var HA;function qb(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f7(),n=Ub();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,d="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const m=i[u];f?m==="\\"&&u+1<l?(u++,d+=i[u]):m===f?f="":d+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,a.push(d),d=""):d+=m:m==="["?(h=!0,d&&(a.push(d),d="")):m==="."?d&&(a.push(d),d=""):d+=m,u++}return d&&a.push(d),a}e.toPath=r})(av)),av}var GA;function zb(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d7(),n=oM(),r=Ub(),i=qb();function a(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?n.isDeepKey(d)?a(u,i.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=u[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?f:h}}}function l(u,d,f){if(d.length===0)return f;let h=u;for(let m=0;m<d.length;m++){if(h==null||t.isUnsafeProperty(d[m]))return f;h=h[d[m]]}return h===void 0?f:h}e.get=a})(tv)),tv}var sv,VA;function h7(){return VA||(VA=1,sv=zb().get),sv}var p7=h7();const Uh=Vr(p7);var Nr=e=>e===0?0:e>0?1:-1,ii=e=>typeof e=="number"&&e!=+e,zi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!ii(e),ai=e=>je(e)||typeof e=="string",m7=0,Lu=e=>{var t=++m7;return"".concat(e||"").concat(t)},qa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return r;var a;if(zi(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return ii(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},sM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Fn(e,t,n){return je(e)&&je(t)?e+n*(t-e):t}function lM(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Uh(r,t))===n)}var ln=e=>e===null||typeof e>"u",nc=e=>ln(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function g7(e){return e!=null}function rc(){}var v7=["type","size","sizeType"];function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(null,arguments)}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y7(e,t,n){return(t=b7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b7(e){var t=x7(e,"string");return typeof t=="symbol"?t:t+""}function x7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _7(e,t){if(e==null)return{};var n,r,i=w7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uM={symbolCircle:Lb,symbolCross:LF,symbolDiamond:qF,symbolSquare:zF,symbolStar:GF,symbolTriangle:VF,symbolWye:KF},S7=Math.PI/180,E7=e=>{var t="symbol".concat(nc(e));return uM[t]||Lb},T7=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*S7;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},A7=(e,t)=>{uM["symbol".concat(nc(e))]=t},$b=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=_7(e,v7),a=KA(KA({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var b=E7(l),_=YF().type(b).size(T7(n,r,l)),S=_();if(S!==null)return S},{className:d,cx:f,cy:h}=a,m=Mn(a);return je(f)&&je(h)&&je(n)?E.createElement("path",h0({},m,{className:ft("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};$b.registerSymbol=A7;var cM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Bb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Mb(i)&&(r[i]=(a=>n[i](n,a)))}),r},C7=(e,t,n)=>r=>(e(t,n,r),null),dM=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Mb(i)&&typeof a=="function"&&(r||(r={}),r[i]=C7(a,t,n))}),r};function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){R7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R7(e,t,n){return(t=P7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P7(e){var t=O7(e,"string");return typeof t=="symbol"?t:t+""}function O7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cn(e,t){var n=N7({},e),r=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uf.apply(null,arguments)}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){M7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M7(e,t,n){return(t=D7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cr=32,j7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function L7(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Cr/2,a=Cr/6,l=Cr/3,u=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline"){var f;return E.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:Cr,y2:i,className:"recharts-legend-icon"})}if(d==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Cr,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return E.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Cr/8,"h").concat(Cr,"v").concat(Cr*3/4,"h").concat(-Cr,"z"),className:"recharts-legend-icon"});if(E.isValidElement(t.legendIcon)){var h=I7({},t);return delete h.legendIcon,E.cloneElement(t.legendIcon,h)}return E.createElement($b,{fill:u,cx:i,cy:i,size:Cr,sizeType:"diameter",type:d})}function U7(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=e,u={x:0,y:0,width:Cr,height:Cr},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var b=h.formatter||i,_=ft({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var S=h.inactive?a:h.color,T=b?b(h.value,h,m):h.value;return E.createElement("li",Uf({className:_,style:d,key:"legend-item-".concat(m)},dM(e,h,m)),E.createElement(Db,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(T," legend icon")},E.createElement(L7,{data:h,iconType:l,inactiveColor:a})),E.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},T))})}var q7=e=>{var t=Cn(e,j7),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:a},E.createElement(U7,Uf({},t,{payload:n})))},lv={},uv={},JA;function z7(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(uv)),uv}var cv={},XA;function fM(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(cv)),cv}var dv={},fv={},hv={},QA;function $7(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(hv)),hv}var ZA;function Hb(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$7();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(fv)),fv}var pv={},eC;function B7(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(pv)),pv}var tC;function H7(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb(),n=B7();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(dv)),dv}var mv={},gv={},nC;function G7(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(gv)),gv}var vv={},yv={},bv={},xv={},rC;function hM(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(xv)),xv}var _v={},iC;function pM(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(_v)),_v}var wv={},aC;function mM(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(wv)),wv}var oC;function V7(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM(),n=pM(),r=mM();function i(h,m,b){return typeof b!="function"?i(h,m,()=>{}):a(h,m,function _(S,T,A,R,P,N){const I=b(S,T,A,R,P,N);return I!==void 0?!!I:a(S,T,_,N)},new Map)}function a(h,m,b,_){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,b,_);case"function":return Object.keys(m).length>0?a(h,{...m},b,_):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,b,_){if(m==null)return!0;if(Array.isArray(m))return d(h,m,b,_);if(m instanceof Map)return u(h,m,b,_);if(m instanceof Set)return f(h,m,b,_);const S=Object.keys(m);if(h==null)return S.length===0;if(S.length===0)return!0;if(_!=null&&_.has(m))return _.get(m)===h;_==null||_.set(m,h);try{for(let T=0;T<S.length;T++){const A=S[T];if(!n.isPrimitive(h)&&!(A in h)||m[A]===void 0&&h[A]!==void 0||m[A]===null&&h[A]!==null||!b(h[A],m[A],A,h,m,_))return!1}return!0}finally{_==null||_.delete(m)}}function u(h,m,b,_){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,T]of m.entries()){const A=h.get(S);if(b(A,T,S,h,m,_)===!1)return!1}return!0}function d(h,m,b,_){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let T=0;T<m.length;T++){const A=m[T];let R=!1;for(let P=0;P<h.length;P++){if(S.has(P))continue;const N=h[P];let I=!1;if(b(N,A,T,h,m,_)&&(I=!0),I){S.add(P),R=!0;break}}if(!R)return!1}return!0}function f(h,m,b,_){return m.size===0?!0:h instanceof Set?d([...h],[...m],b,_):!1}e.isMatchWith=i,e.isSetMatch=f})(bv)),bv}var sC;function gM(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V7();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(yv)),yv}var Sv={},Ev={},Tv={},lC;function F7(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Tv)),Tv}var Av={},uC;function vM(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Av)),Av}var Cv={},cC;function yM(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",b="[object ArrayBuffer]",_="[object Object]",S="[object Error]",T="[object DataView]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",P="[object Uint16Array]",N="[object Uint32Array]",I="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",k="[object Int32Array]",G="[object BigInt64Array]",U="[object Float32Array]",le="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=G,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=T,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=U,e.float64ArrayTag=le,e.functionTag=m,e.int16ArrayTag=D,e.int32ArrayTag=k,e.int8ArrayTag=M,e.mapTag=d,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=P,e.uint32ArrayTag=N,e.uint8ArrayTag=A,e.uint8ClampedArrayTag=R})(Cv)),Cv}var Nv={},dC;function K7(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Nv)),Nv}var fC;function bM(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F7(),n=vM(),r=yM(),i=pM(),a=K7();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,b,_=new Map,S=void 0){const T=S==null?void 0:S(h,m,b,_);if(T!==void 0)return T;if(i.isPrimitive(h))return h;if(_.has(h))return _.get(h);if(Array.isArray(h)){const A=new Array(h.length);_.set(h,A);for(let R=0;R<h.length;R++)A[R]=u(h[R],R,b,_,S);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;_.set(h,A);for(const[R,P]of h)A.set(R,u(P,R,b,_,S));return A}if(h instanceof Set){const A=new Set;_.set(h,A);for(const R of h)A.add(u(R,void 0,b,_,S));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);_.set(h,A);for(let R=0;R<h.length;R++)A[R]=u(h[R],R,b,_,S);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return _.set(h,A),d(A,h,b,_,S),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return _.set(h,A),d(A,h,b,_,S),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return _.set(h,A),d(A,h,b,_,S),A}if(h instanceof Error){const A=new h.constructor;return _.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,d(A,h,b,_,S),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return _.set(h,A),d(A,h,b,_,S),A}if(h instanceof Number){const A=new Number(h.valueOf());return _.set(h,A),d(A,h,b,_,S),A}if(h instanceof String){const A=new String(h.valueOf());return _.set(h,A),d(A,h,b,_,S),A}if(typeof h=="object"&&f(h)){const A=Object.create(Object.getPrototypeOf(h));return _.set(h,A),d(A,h,b,_,S),A}return h}function d(h,m,b=h,_,S){const T=[...Object.keys(m),...t.getSymbols(m)];for(let A=0;A<T.length;A++){const R=T[A],P=Object.getOwnPropertyDescriptor(h,R);(P==null||P.writable)&&(h[R]=u(m[R],R,b,_,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(Ev)),Ev}var hC;function Y7(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bM();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Sv)),Sv}var pC;function W7(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gM(),n=Y7();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(vv)),vv}var Rv={},Pv={},Ov={},mC;function J7(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bM(),n=yM();function r(i,a){return t.cloneDeepWith(i,(l,u,d,f)=>{const h=a==null?void 0:a(l,u,d,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(Ov)),Ov}var gC;function X7(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J7();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Pv)),Pv}var Iv={},Mv={},vC;function xM(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Mv)),Mv}var Dv={},yC;function Q7(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vM();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Dv)),Dv}var bC;function Z7(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM(),n=xM(),r=Q7(),i=qb();function a(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const m=d[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=a})(Iv)),Iv}var xC;function e9(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gM(),n=Ub(),r=X7(),i=zb(),a=Z7();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const h=i.get(f,u);return h===void 0?a.has(f,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l})(Rv)),Rv}var _C;function t9(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM(),n=G7(),r=W7(),i=e9();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(mv)),mv}var wC;function n9(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z7(),n=fM(),r=H7(),i=t9();function a(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=a})(lv)),lv}var kv,SC;function r9(){return SC||(SC=1,kv=n9().uniqBy),kv}var i9=r9();const EC=Vr(i9);function _M(e,t,n){return t===!0?EC(e,n):typeof t=="function"?EC(e,t):e}var jv={exports:{}},Lv={},Uv={exports:{}},qv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function a9(){if(TC)return qv;TC=1;var e=sl();function t(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(m,b){var _=b(),S=r({inst:{value:_,getSnapshot:b}}),T=S[0].inst,A=S[1];return a(function(){T.value=_,T.getSnapshot=b,d(T)&&A({inst:T})},[m,_,b]),i(function(){return d(T)&&A({inst:T}),m(function(){d(T)&&A({inst:T})})},[m]),l(_),_}function d(m){var b=m.getSnapshot;m=m.value;try{var _=b();return!n(m,_)}catch{return!0}}function f(m,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return qv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,qv}var AC;function o9(){return AC||(AC=1,Uv.exports=a9()),Uv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC;function s9(){if(CC)return Lv;CC=1;var e=sl(),t=o9();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Lv.useSyncExternalStoreWithSelector=function(f,h,m,b,_){var S=a(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=u(function(){function R(D){if(!P){if(P=!0,N=D,D=b(D),_!==void 0&&T.hasValue){var k=T.value;if(_(k,D))return I=k}return I=D}if(k=I,r(N,D))return k;var G=b(D);return _!==void 0&&_(k,G)?(N=D,k):(N=D,I=G)}var P=!1,N,I,M=m===void 0?null:m;return[function(){return R(h())},M===null?void 0:function(){return R(M())}]},[h,m,b,_]);var A=i(f,S[0],S[1]);return l(function(){T.hasValue=!0,T.value=A},[A]),d(A),A},Lv}var NC;function l9(){return NC||(NC=1,jv.exports=s9()),jv.exports}var u9=l9(),Gb=E.createContext(null),c9=e=>e,Vt=()=>{var e=E.useContext(Gb);return e?e.store.dispatch:c9},mf=()=>{},d9=()=>mf,f9=(e,t)=>e===t;function Me(e){var t=E.useContext(Gb);return u9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:d9,t?t.store.getState:mf,t?t.store.getState:mf,t?e:mf,f9)}function h9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function p9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function m9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var RC=e=>Array.isArray(e)?e:[e];function g9(e){const t=Array.isArray(e[0])?e[0]:e;return m9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function v9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var y9=class{constructor(e){this.value=e}deref(){return this.value}},b9=typeof WeakRef<"u"?WeakRef:y9,x9=0,PC=1;function Yd(){return{s:x9,v:void 0,o:null,p:null}}function wM(e,t={}){let n=Yd();const{resultEqualityCheck:r}=t;let i,a=0;function l(){var m;let u=n;const{length:d}=arguments;for(let b=0,_=d;b<_;b++){const S=arguments[b];if(typeof S=="function"||typeof S=="object"&&S!==null){let T=u.o;T===null&&(u.o=T=new WeakMap);const A=T.get(S);A===void 0?(u=Yd(),T.set(S,u)):u=A}else{let T=u.p;T===null&&(u.p=T=new Map);const A=T.get(S);A===void 0?(u=Yd(),T.set(S,u)):u=A}}const f=u;let h;if(u.s===PC)h=u.v;else if(h=e.apply(null,arguments),a++,r){const b=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;b!=null&&r(b,h)&&(h=b,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new b9(h):h}return f.s=PC,f.v=h,h}return l.clearCache=()=>{n=Yd(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function _9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),h9(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...d},{memoize:m,memoizeOptions:b=[],argsMemoize:_=wM,argsMemoizeOptions:S=[]}=h,T=RC(b),A=RC(S),R=g9(i),P=m(function(){return a++,f.apply(null,arguments)},...T),N=_(function(){l++;const M=v9(R,arguments);return u=P.apply(null,M),u},...A);return Object.assign(N,{resultFunc:f,memoizedResultFunc:P,dependencies:R,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ee=_9(wM),w9=Object.assign((e,t=ee)=>{p9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>w9}),zv={},$v={},Bv={},OC;function S9(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=n})(Bv)),Bv}var Hv={},Gv={},IC;function SM(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Gv)),Gv}var MC;function E9(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(Hv)),Hv}var DC;function T9(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S9(),n=E9(),r=qb();function i(a,l,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const f=(_,S)=>{let T=_;for(let A=0;A<S.length&&T!=null;++A)T=T[S[A]];return T},h=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:f(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?f(S,_):typeof S=="object"?S[_]:S,m=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return a.map(_=>({original:_,criteria:m.map(S=>h(S,_))})).slice().sort((_,S)=>{for(let T=0;T<m.length;T++){const A=t.compareValues(_.criteria[T],S.criteria[T],u[T]);if(A!==0)return A}return 0}).map(_=>_.original)}e.orderBy=i})($v)),$v}var Vv={},kC;function A9(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&d<a?l(h,d+1):i.push(h)}};return l(n,0),i}e.flatten=t})(Vv)),Vv}var Fv={},jC;function EM(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xM(),n=Hb(),r=hM(),i=mM();function a(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}e.isIterateeCall=a})(Fv)),Fv}var LC;function C9(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T9(),n=A9(),r=EM();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(zv)),zv}var Kv,UC;function N9(){return UC||(UC=1,Kv=C9().sortBy),Kv}var R9=N9();const qh=Vr(R9);var TM=e=>e.legend.settings,P9=e=>e.legend.size,O9=e=>e.legend.payload,I9=ee([O9,TM],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?qh(r,n):r});function M9(){return Me(I9)}var Wd=1;function AM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>Wd||Math.abs(l.left-t.left)>Wd||Math.abs(l.top-t.top)>Wd||Math.abs(l.width-t.width)>Wd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function yn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var D9=typeof Symbol=="function"&&Symbol.observable||"@@observable",qC=D9,Yv=()=>Math.random().toString(36).substring(7).split("").join("."),k9={INIT:`@@redux/INIT${Yv()}`,REPLACE:`@@redux/REPLACE${Yv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yv()}`},qf=k9;function Vb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CM(e,t,n){if(typeof e!="function")throw new Error(yn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yn(1));return n(CM)(e,t)}let r=e,i=t,a=new Map,l=a,u=0,d=!1;function f(){l===a&&(l=new Map,a.forEach((A,R)=>{l.set(R,A)}))}function h(){if(d)throw new Error(yn(3));return i}function m(A){if(typeof A!="function")throw new Error(yn(4));if(d)throw new Error(yn(5));let R=!0;f();const P=u++;return l.set(P,A),function(){if(R){if(d)throw new Error(yn(6));R=!1,f(),l.delete(P),a=null}}}function b(A){if(!Vb(A))throw new Error(yn(7));if(typeof A.type>"u")throw new Error(yn(8));if(typeof A.type!="string")throw new Error(yn(17));if(d)throw new Error(yn(9));try{d=!0,i=r(i,A)}finally{d=!1}return(a=l).forEach(P=>{P()}),A}function _(A){if(typeof A!="function")throw new Error(yn(10));r=A,b({type:qf.REPLACE})}function S(){const A=m;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(yn(11));function P(){const I=R;I.next&&I.next(h())}return P(),{unsubscribe:A(P)}},[qC](){return this}}}return b({type:qf.INIT}),{dispatch:b,subscribe:m,getState:h,replaceReducer:_,[qC]:S}}function j9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:qf.INIT})>"u")throw new Error(yn(12));if(typeof n(void 0,{type:qf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yn(13))})}function NM(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{j9(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let h=0;h<r.length;h++){const m=r[h],b=n[m],_=l[m],S=b(_,u);if(typeof S>"u")throw u&&u.type,new Error(yn(14));f[m]=S,d=d||S!==_}return d=d||r.length!==Object.keys(l).length,d?f:l}}function zf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function L9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(yn(15))};const l={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},u=e.map(d=>d(l));return a=zf(...u)(i.dispatch),{...i,dispatch:a}}}function RM(e){return Vb(e)&&"type"in e&&typeof e.type=="string"}var PM=Symbol.for("immer-nothing"),zC=Symbol.for("immer-draftable"),Dn=Symbol.for("immer-state");function zr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ur=Object,el=ur.getPrototypeOf,$f="constructor",zh="prototype",p0="configurable",Bf="enumerable",gf="writable",Uu="value",$i=e=>!!e&&!!e[Dn];function Gr(e){var t;return e?OM(e)||$h(e)||!!e[zC]||!!((t=e[$f])!=null&&t[zC])||Bh(e)||Hh(e):!1}var U9=ur[zh][$f].toString(),$C=new WeakMap;function OM(e){if(!e||!Fb(e))return!1;const t=el(e);if(t===null||t===ur[zh])return!0;const n=ur.hasOwnProperty.call(t,$f)&&t[$f];if(n===Object)return!0;if(!$s(n))return!1;let r=$C.get(n);return r===void 0&&(r=Function.toString.call(n),$C.set(n,r)),r===U9}function ic(e,t,n=!0){ac(e)===0?(n?Reflect.ownKeys(e):ur.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ac(e){const t=e[Dn];return t?t.type_:$h(e)?1:Bh(e)?2:Hh(e)?3:0}var BC=(e,t,n=ac(e))=>n===2?e.has(t):ur[zh].hasOwnProperty.call(e,t),m0=(e,t,n=ac(e))=>n===2?e.get(t):e[t],Hf=(e,t,n,r=ac(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function q9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var $h=Array.isArray,Bh=e=>e instanceof Map,Hh=e=>e instanceof Set,Fb=e=>typeof e=="object",$s=e=>typeof e=="function",Wv=e=>typeof e=="boolean",Pi=e=>e.copy_||e.base_,Kb=e=>e.modified_?e.copy_:e.base_;function g0(e,t){if(Bh(e))return new Map(e);if(Hh(e))return new Set(e);if($h(e))return Array[zh].slice.call(e);const n=OM(e);if(t===!0||t==="class_only"&&!n){const r=ur.getOwnPropertyDescriptors(e);delete r[Dn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u[gf]===!1&&(u[gf]=!0,u[p0]=!0),(u.get||u.set)&&(r[l]={[p0]:!0,[gf]:!0,[Bf]:u[Bf],[Uu]:e[l]})}return ur.create(el(e),r)}else{const r=el(e);if(r!==null&&n)return{...e};const i=ur.create(r);return ur.assign(i,e)}}function Yb(e,t=!1){return Gh(e)||$i(e)||!Gr(e)||(ac(e)>1&&ur.defineProperties(e,{set:Jd,add:Jd,clear:Jd,delete:Jd}),ur.freeze(e),t&&ic(e,(n,r)=>{Yb(r,!0)},!1)),e}function z9(){zr(2)}var Jd={[Uu]:z9};function Gh(e){return e===null||!Fb(e)?!0:ur.isFrozen(e)}var Gf="MapSet",v0="Patches",IM={};function tl(e){const t=IM[e];return t||zr(0,e),t}var $9=e=>!!IM[e],qu,MM=()=>qu,B9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$9(Gf)?tl(Gf):void 0});function HC(e,t){t&&(e.patchPlugin_=tl(v0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function y0(e){b0(e),e.drafts_.forEach(H9),e.drafts_=null}function b0(e){e===qu&&(qu=e.parent_)}var GC=e=>qu=B9(qu,e);function H9(e){const t=e[Dn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Dn].modified_&&(y0(t),zr(4)),Gr(e)&&(e=FC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Dn].base_,e,t)}else e=FC(t,n);return G9(t,e,!0),y0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PM?e:void 0}function FC(e,t){if(Gh(t))return t;const n=t[Dn];if(!n)return Wb(t,e.handledSet_,e);if(!Vh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);jM(n,e)}return n.copy_}function G9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Yb(t,n)}function DM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Vh=(e,t)=>e.scope_===t,V9=[];function kM(e,t,n,r){const i=Pi(e),a=e.type_;if(r!==void 0&&m0(i,r,a)===t){Hf(i,r,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;ic(i,(d,f)=>{if($i(f)){const h=u.get(f)||[];h.push(d),u.set(f,h)}})}const l=e.draftLocations_.get(t)??V9;for(const u of l)Hf(i,u,n,a)}function F9(e,t,n){e.callbacks_.push(function(i){var u;const a=t;if(!a||!Vh(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const l=Kb(a);kM(e,a.draft_??a,l,n),jM(a,i)})}function jM(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}DM(e)}}function K9(e,t,n){const{scope_:r}=e;if($i(n)){const i=n[Dn];Vh(i,r)&&i.callbacks_.push(function(){vf(e);const l=Kb(i);kM(e,n,l,t)})}else Gr(n)&&e.callbacks_.push(function(){const a=Pi(e);m0(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Wb(m0(e.copy_,t,e.type_),r.handledSet_,r)})}function Wb(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||$i(e)||t.has(e)||!Gr(e)||Gh(e)||(t.add(e),ic(e,(r,i)=>{if($i(i)){const a=i[Dn];if(Vh(a,n)){const l=Kb(a);Hf(e,r,l,e.type_),DM(a)}}else Gr(i)&&Wb(i,t,n)})),e}function Y9(e,t){const n=$h(e),r={type_:n?1:0,scope_:t?t.scope_:MM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Jb;n&&(i=[r],a=zu);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,[u,r]}var Jb={get(e,t){if(t===Dn)return e;const n=Pi(e);if(!BC(n,t,e.type_))return W9(e,n,t);const r=n[t];if(e.finalized_||!Gr(r))return r;if(r===Jv(e.base_,t)){vf(e);const i=e.type_===1?+t:t,a=_0(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in Pi(e)},ownKeys(e){return Reflect.ownKeys(Pi(e))},set(e,t,n){const r=LM(Pi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Jv(Pi(e),t),a=i==null?void 0:i[Dn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(q9(n,i)&&(n!==void 0||BC(e.base_,t,e.type_)))return!0;vf(e),x0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),K9(e,t,n)),!0},deleteProperty(e,t){return vf(e),Jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),x0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Pi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[gf]:!0,[p0]:e.type_!==1||t!=="length",[Bf]:r[Bf],[Uu]:n[t]}},defineProperty(){zr(11)},getPrototypeOf(e){return el(e.base_)},setPrototypeOf(){zr(12)}},zu={};ic(Jb,(e,t)=>{zu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});zu.deleteProperty=function(e,t){return zu.set.call(this,e,t,void 0)};zu.set=function(e,t,n){return Jb.set.call(this,e[0],t,n,e[0])};function Jv(e,t){const n=e[Dn];return(n?Pi(n):e)[t]}function W9(e,t,n){var i;const r=LM(t,n);return r?Uu in r?r[Uu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function LM(e,t){if(!(t in e))return;let n=el(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=el(n)}}function x0(e){e.modified_||(e.modified_=!0,e.parent_&&x0(e.parent_))}function vf(e){e.copy_||(e.assigned_=new Map,e.copy_=g0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var J9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if($s(n)&&!$s(r)){const l=r;r=n;const u=this;return function(f=l,...h){return u.produce(f,m=>r.call(this,m,...h))}}$s(r)||zr(6),i!==void 0&&!$s(i)&&zr(7);let a;if(Gr(n)){const l=GC(this),u=_0(l,n,void 0);let d=!0;try{a=r(u),d=!1}finally{d?y0(l):b0(l)}return HC(l,i),VC(a,l)}else if(!n||!Fb(n)){if(a=r(n),a===void 0&&(a=n),a===PM&&(a=void 0),this.autoFreeze_&&Yb(a,!0),i){const l=[],u=[];tl(v0).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:u}),i(l,u)}return a}else zr(1,n)},this.produceWithPatches=(n,r)=>{if($s(n))return(u,...d)=>this.produceWithPatches(u,f=>n(f,...d));let i,a;return[this.produce(n,r,(u,d)=>{i=u,a=d}),i,a]},Wv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Wv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Wv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Gr(t)||zr(8),$i(t)&&(t=Hr(t));const n=GC(this),r=_0(n,t,void 0);return r[Dn].isManual_=!0,b0(n),r}finishDraft(t,n){const r=t&&t[Dn];(!r||!r.isManual_)&&zr(9);const{scope_:i}=r;return HC(i,n),VC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=tl(v0).applyPatches_;return $i(t)?i(t,n):this.produce(t,a=>i(a,n))}};function _0(e,t,n,r){const[i,a]=Bh(t)?tl(Gf).proxyMap_(t,n):Hh(t)?tl(Gf).proxySet_(t,n):Y9(t,n);return((n==null?void 0:n.scope_)??MM()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?F9(n,a,r):a.callbacks_.push(function(d){var h;(h=d.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:f}=d;a.modified_&&f&&f.generatePatches_(a,[],d)}),i}function Hr(e){return $i(e)||zr(10,e),UM(e)}function UM(e){if(!Gr(e)||Gh(e))return e;const t=e[Dn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=g0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=g0(e,!0);return ic(n,(i,a)=>{Hf(n,i,UM(a))},r),t&&(t.finalized_=!1),n}var X9=new J9,qM=X9.produce;function zM(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Q9=zM(),Z9=zM,eK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zf:zf.apply(null,arguments)};function Or(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(cr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>RM(r)&&r.type===e,n}var $M=class Eu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Eu.prototype)}static get[Symbol.species](){return Eu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Eu(...t[0].concat(this)):new Eu(...t.concat(this))}};function KC(e){return Gr(e)?qM(e,()=>{}):e}function Xd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function tK(e){return typeof e=="boolean"}var nK=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new $M;return n&&(tK(n)?l.push(Q9):l.push(Z9(n.extraArgument))),l},BM="RTK_autoBatch",At=()=>e=>({payload:e,meta:{[BM]:!0}}),YC=e=>t=>{setTimeout(t,e)},HM=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YC(10):e.type==="callback"?e.queueNotification:YC(e.timeout),f=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),b=r.subscribe(m);return u.add(h),()=>{b(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[BM]),a=!i,a&&(l||(l=!0,d(f))),r.dispatch(h)}finally{i=!0}}})},rK=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new $M(e);return r&&i.push(HM(typeof r=="object"?r:void 0)),i};function iK(e){const t=nK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(Vb(n))u=NM(n);else throw new Error(cr(1));let d;typeof r=="function"?d=r(t):d=t();let f=zf;i&&(f=eK({trace:!1,...typeof i=="object"&&i}));const h=L9(...d),m=rK(h);let b=typeof l=="function"?l(m):m();const _=f(...b);return CM(u,a,_)}function GM(e){const t={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(cr(28));if(u in t)throw new Error(cr(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function aK(e){return typeof e=="function"}function oK(e,t){let[n,r,i]=GM(t),a;if(aK(e))a=()=>KC(e());else{const u=KC(e);a=()=>u}function l(u=a(),d){let f=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,m)=>{if(m)if($i(h)){const _=m(h,d);return _===void 0?h:_}else{if(Gr(h))return qM(h,b=>m(b,d));{const b=m(h,d);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},u)}return l.getInitialState=a,l}var sK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",lK=(e=21)=>{let t="",n=e;for(;n--;)t+=sK[Math.random()*64|0];return t},uK=Symbol.for("rtk-slice-createasyncthunk");function cK(e,t){return`${e}/${t}`}function dK({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[uK];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(cr(11));const u=(typeof i.reducers=="function"?i.reducers(hK()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(I,M){const D=typeof I=="string"?I:I.type;if(!D)throw new Error(cr(12));if(D in f.sliceCaseReducersByType)throw new Error(cr(13));return f.sliceCaseReducersByType[D]=M,h},addMatcher(I,M){return f.sliceMatchers.push({matcher:I,reducer:M}),h},exposeAction(I,M){return f.actionCreators[I]=M,h},exposeCaseReducer(I,M){return f.sliceCaseReducersByName[I]=M,h}};d.forEach(I=>{const M=u[I],D={reducerName:I,type:cK(a,I),createNotation:typeof i.reducers=="function"};mK(M)?vK(D,M,h,t):pK(D,M,h)});function m(){const[I={},M=[],D=void 0]=typeof i.extraReducers=="function"?GM(i.extraReducers):[i.extraReducers],k={...I,...f.sliceCaseReducersByType};return oK(i.initialState,G=>{for(let U in k)G.addCase(U,k[U]);for(let U of f.sliceMatchers)G.addMatcher(U.matcher,U.reducer);for(let U of M)G.addMatcher(U.matcher,U.reducer);D&&G.addDefaultCase(D)})}const b=I=>I,_=new Map,S=new WeakMap;let T;function A(I,M){return T||(T=m()),T(I,M)}function R(){return T||(T=m()),T.getInitialState()}function P(I,M=!1){function D(G){let U=G[I];return typeof U>"u"&&M&&(U=Xd(S,D,R)),U}function k(G=b){const U=Xd(_,M,()=>new WeakMap);return Xd(U,G,()=>{const le={};for(const[W,H]of Object.entries(i.selectors??{}))le[W]=fK(H,G,()=>Xd(S,G,R),M);return le})}return{reducerPath:I,getSelectors:k,get selectors(){return k(D)},selectSlice:D}}const N={name:a,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:R,...P(l),injectInto(I,{reducerPath:M,...D}={}){const k=M??l;return I.inject({reducerPath:k,reducer:A},D),{...N,...P(k,!0)}}};return N}}function fK(e,t,n,r){function i(a,...l){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Yn=dK();function hK(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function pK({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!gK(r))throw new Error(cr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?Or(e,l):Or(e))}function mK(e){return e._reducerDefinitionType==="asyncThunk"}function gK(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vK({type:e,reducerName:t},n,r,i){if(!i)throw new Error(cr(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:d,settled:f,options:h}=n,m=i(e,a,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(t,{fulfilled:l||Qd,pending:u||Qd,rejected:d||Qd,settled:f||Qd})}function Qd(){}var yK="task",VM="listener",FM="completed",Xb="cancelled",bK=`task-${Xb}`,xK=`task-${FM}`,w0=`${VM}-${Xb}`,_K=`${VM}-${FM}`,Fh=class{constructor(e){Mg(this,"name","TaskAbortError");Mg(this,"message");this.code=e,this.message=`${yK} ${Xb} (reason: ${e})`}},Qb=(e,t)=>{if(typeof e!="function")throw new TypeError(cr(32))},Vf=()=>{},KM=(e,t=Vf)=>(e.catch(t),e),YM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),No=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ro=e=>{if(e.aborted){const{reason:t}=e;throw new Fh(t)}};function WM(e,t){let n=Vf;return new Promise((r,i)=>{const a=()=>i(new Fh(e.reason));if(e.aborted){a();return}n=YM(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Vf})}var wK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Fh?"cancelled":"rejected",error:n}}finally{t==null||t()}},Ff=e=>t=>KM(WM(e,t).then(n=>(Ro(e),n))),JM=e=>{const t=Ff(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ws}=Object,WC={},Kh="listenerMiddleware",SK=(e,t)=>{const n=r=>YM(e,()=>No(r,e.reason));return(r,i)=>{Qb(r);const a=new AbortController;n(a);const l=wK(async()=>{Ro(e),Ro(a.signal);const u=await r({pause:Ff(a.signal),delay:JM(a.signal),signal:a.signal});return Ro(a.signal),u},()=>No(a,xK));return i!=null&&i.autoJoin&&t.push(l.catch(Vf)),{result:Ff(e)(l),cancel(){No(a,bK)}}}},EK=(e,t)=>{const n=async(r,i)=>{Ro(t);let a=()=>{};const u=[new Promise((d,f)=>{let h=e({predicate:r,effect:(m,b)=>{b.unsubscribe(),d([m,b.getState(),b.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await WM(t,Promise.race(u));return Ro(t),d}finally{a()}};return(r,i)=>KM(n(r,i))},XM=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Or(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(cr(21));return Qb(a),{predicate:i,type:t,effect:a}},QM=Ws(e=>{const{type:t,predicate:n,effect:r}=XM(e);return{id:lK(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(cr(22))}}},{withTypes:()=>QM}),JC=(e,t)=>{const{type:n,effect:r,predicate:i}=XM(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},S0=e=>{e.pending.forEach(t=>{No(t,w0)})},TK=(e,t)=>()=>{for(const n of t.keys())S0(n);e.clear()},XC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},ZM=Ws(Or(`${Kh}/add`),{withTypes:()=>ZM}),AK=Or(`${Kh}/removeAll`),eD=Ws(Or(`${Kh}/remove`),{withTypes:()=>eD}),CK=(...e)=>{console.error(`${Kh}/error`,...e)},oc=(e={})=>{const t=new Map,n=new Map,r=_=>{const S=n.get(_)??0;n.set(_,S+1)},i=_=>{const S=n.get(_)??1;S===1?n.delete(_):n.set(_,S-1)},{extra:a,onError:l=CK}=e;Qb(l);const u=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),S=>{_.unsubscribe(),S!=null&&S.cancelActive&&S0(_)}),d=_=>{const S=JC(t,_)??QM(_);return u(S)};Ws(d,{withTypes:()=>d});const f=_=>{const S=JC(t,_);return S&&(S.unsubscribe(),_.cancelActive&&S0(S)),!!S};Ws(f,{withTypes:()=>f});const h=async(_,S,T,A)=>{const R=new AbortController,P=EK(d,R.signal),N=[];try{_.pending.add(R),r(_),await Promise.resolve(_.effect(S,Ws({},T,{getOriginalState:A,condition:(I,M)=>P(I,M).then(Boolean),take:P,delay:JM(R.signal),pause:Ff(R.signal),extra:a,signal:R.signal,fork:SK(R.signal,N),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((I,M,D)=>{I!==R&&(No(I,w0),D.delete(I))})},cancel:()=>{No(R,w0),_.pending.delete(R)},throwIfCancelled:()=>{Ro(R.signal)}})))}catch(I){I instanceof Fh||XC(l,I,{raisedBy:"effect"})}finally{await Promise.all(N),No(R,_K),i(_),_.pending.delete(R)}},m=TK(t,n);return{middleware:_=>S=>T=>{if(!RM(T))return S(T);if(ZM.match(T))return d(T.payload);if(AK.match(T)){m();return}if(eD.match(T))return f(T.payload);let A=_.getState();const R=()=>{if(A===WC)throw new Error(cr(23));return A};let P;try{if(P=S(T),t.size>0){const N=_.getState(),I=Array.from(t.values());for(const M of I){let D=!1;try{D=M.predicate(T,N,A)}catch(k){D=!1,XC(l,k,{raisedBy:"predicate"})}D&&h(M,T,_,R)}}}finally{A=WC}return P},startListening:d,stopListening:f,clearListeners:m}};function cr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var NK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tD=Yn({name:"chartLayout",initialState:NK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:RK,setLayout:PK,setChartSize:OK,setScale:IK}=tD.actions,MK=tD.reducer;function nD(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(r){DK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DK(e,t,n){return(t=kK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kK(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function An(e,t,n){return ln(e)||ln(t)?n:ai(t)?Uh(e,t,n):typeof t=="function"?t(e):n}var LK=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&je(e[a]))return Hs(Hs({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&je(e[l]))return Hs(Hs({},e),{},{[l]:e[l]+(i||0)})}return e},Ha=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",rD=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(t),a||l.push(n),l},iD=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:b,axisType:_}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,T=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(T=_==="angleAxis"&&a&&a.length>=2?Nr(a[0]-a[1])*2*T:T,m||b){var A=(m||b||[]).map((R,P)=>{var N=r?r.indexOf(R):R;return{coordinate:l(N)+T,value:R,offset:T,index:P}});return A.filter(R=>!ii(R.coordinate))}return d&&f?f.map((R,P)=>({coordinate:l(R)+T,value:R,index:P,offset:T})):l.ticks&&h!=null?l.ticks(h).map((R,P)=>({coordinate:l(R)+T,value:R,offset:T,index:P})):l.domain().map((R,P)=>({coordinate:l(R)+T,value:r?r[R]:R,index:P,offset:T}))},ZC=1e-4,UK=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-ZC,a=Math.max(r[0],r[1])+ZC,l=e(t[0]),u=e(t[n-1]);(l<i||l>a||u<i||u>a)&&e.domain([t[0],t[n-1]])}},qK=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,l=0;l<t;++l){var u=ii(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1])}},zK=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var l=ii(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=i,e[a][n][1]=i+l,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},$K={sign:qK,expand:l7,none:Zs,silhouette:u7,wiggle:c7,positive:zK},BK=(e,t,n)=>{var r=$K[n],i=s7().keys(t).value((a,l)=>Number(An(a,l,0))).order(f0).offset(r);return i(e)};function eN(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ln(i[t.dataKey])){var u=lM(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=An(i,ln(l)?t.dataKey:l);return ln(d)?null:t.scale(d)}var HK=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},GK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],VK=(e,t,n)=>{if(e!=null)return GK(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:l}=a,u=l.reduce((d,f)=>{var h=nD(f,t,n),m=HK(h);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},tN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=qh(t,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function rN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Hs(Hs({},t),{},{dataKey:n,payload:r,value:i,name:a})}function aD(e,t){if(e)return String(e);if(typeof t=="string")return t}var FK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},KK=(e,t)=>t==="centric"?e.angle:e.radius,Wi=e=>e.layout.width,Ji=e=>e.layout.height,YK=e=>e.layout.scale,oD=e=>e.layout.margin,Yh=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Wh=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),WK="data-recharts-item-index",JK="data-recharts-item-data-key",sc=60;function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(r){XK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XK(e,t,n){return(t=QK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eY=e=>e.brush.height;function tY(e){var t=Wh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sc;return n+i}return n},0)}function nY(e){var t=Wh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sc;return n+i}return n},0)}function rY(e){var t=Yh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function iY(e){var t=Yh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var xn=ee([Wi,Ji,oD,eY,tY,nY,rY,iY,TM,P9],(e,t,n,r,i,a,l,u,d,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=Zd(Zd({},m),h),_=b.bottom;b.bottom+=r,b=LK(b,d,f);var S=e-b.left-b.right,T=t-b.top-b.bottom;return Zd(Zd({brushBottom:_},b),{},{width:Math.max(S,0),height:Math.max(T,0)})}),aY=ee(xn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),sD=ee(Wi,Ji,(e,t)=>({x:0,y:0,width:e,height:t})),oY=E.createContext(null),Wn=()=>E.useContext(oY)!=null,Jh=e=>e.brush,Xh=ee([Jh,xn,oD],(e,t,n)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:je(e.width)?e.width:t.width})),Xv={},Qv={},Zv={},aN;function sY(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,u=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{f&&h(),T()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,m()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},T=()=>{S(),l=void 0,u=null},A=()=>{h()},R=function(...P){if(i!=null&&i.aborted)return;l=this,u=P;const N=b==null;_(),d&&N&&h()};return R.schedule=_,R.cancel=T,R.flush=A,i==null||i.addEventListener("abort",T,{once:!0}),R}e.debounce=t})(Zv)),Zv}var oN;function lY(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sY();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:d}=a,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let h,m=null;const b=t.debounce(function(...T){h=r.apply(this,T),m=null},i,{edges:f}),_=function(...T){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(h=r.apply(this,T),m=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,T),h)},S=()=>(b.flush(),h);return _.cancel=b.cancel,_.flush=S,_}e.debounce=n})(Qv)),Qv}var sN;function uY(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lY();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Xv)),Xv}var ey,lN;function cY(){return lN||(lN=1,ey=uY().throttle),ey}var dY=cY();const fY=Vr(dY);var Yf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},lD=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:l}=n,u=zi(r)?e:Number(r),d=zi(i)?t:Number(i);return a&&a>0&&(u?d=u/a:d&&(u=d*a),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},hY={width:0,height:0,overflow:"visible"},pY={width:0,overflowX:"visible"},mY={height:0,overflowY:"visible"},gY={},vY=e=>{var{width:t,height:n}=e,r=zi(t),i=zi(n);return r&&i?hY:r?pY:i?mY:gY};function yY(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function un(e){return Number.isFinite(e)}function oi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E0.apply(null,arguments)}function uN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(n),!0).forEach(function(r){bY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bY(e,t,n){return(t=xY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uD=E.createContext({width:-1,height:-1});function wY(e){return oi(e.width)&&oi(e.height)}function cD(e){var{children:t,width:n,height:r}=e,i=E.useMemo(()=>({width:n,height:r}),[n,r]);return wY(i)?E.createElement(uD.Provider,{value:i},t):null}var Zb=()=>E.useContext(uD),SY=E.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:h=0,id:m,className:b,onResize:_,style:S={}}=e,T=E.useRef(null),A=E.useRef();A.current=_,E.useImperativeHandle(t,()=>T.current);var[R,P]=E.useState({containerWidth:r.width,containerHeight:r.height}),N=E.useCallback((G,U)=>{P(le=>{var W=Math.round(G),H=Math.round(U);return le.containerWidth===W&&le.containerHeight===H?le:{containerWidth:W,containerHeight:H}})},[]);E.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return rc;var G=H=>{var re,{width:ge,height:we}=H[0].contentRect;N(ge,we),(re=A.current)===null||re===void 0||re.call(A,ge,we)};h>0&&(G=fY(G,h,{trailing:!0,leading:!1}));var U=new ResizeObserver(G),{width:le,height:W}=T.current.getBoundingClientRect();return N(le,W),U.observe(T.current),()=>{U.disconnect()}},[N,h]);var{containerWidth:I,containerHeight:M}=R;Yf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:k}=lD(I,M,{width:i,height:a,aspect:n,maxHeight:d});return Yf(D!=null&&D>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,k,i,a,l,u,n),E.createElement("div",{id:m?"".concat(m):void 0,className:ft("recharts-responsive-container",b),style:cN(cN({},S),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:d}),ref:T},E.createElement("div",{style:vY({width:i,height:a})},E.createElement(cD,{width:D,height:k},f)))}),EY=E.forwardRef((e,t)=>{var n=Zb();if(oi(n.width)&&oi(n.height))return e.children;var{width:r,height:i}=yY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=lD(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return je(a)&&je(l)?E.createElement(cD,{width:a,height:l},e.children):E.createElement(SY,E0({},e,{width:r,height:i,ref:t}))});function dD(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Qh=()=>{var e,t=Wn(),n=Me(aY),r=Me(Xh),i=(e=Me(Jh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},TY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fD=()=>{var e;return(e=Me(xn))!==null&&e!==void 0?e:TY},ex=()=>Me(Wi),tx=()=>Me(Ji),AY=()=>Me(e=>e.layout.margin),Et=e=>e.layout.layoutType,Zh=()=>Me(Et),CY=()=>{var e=Zh();return e!==void 0},ep=e=>{var t=Vt(),n=Wn(),{width:r,height:i}=e,a=Zb(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),E.useEffect(()=>{!n&&oi(l)&&oi(u)&&t(OK({width:l,height:u}))},[t,n,l,u]),null},hD=Symbol.for("immer-nothing"),dN=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function $r(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $u=Object.getPrototypeOf;function nl(e){return!!e&&!!e[fr]}function Io(e){var t;return e?pD(e)||Array.isArray(e)||!!e[dN]||!!((t=e.constructor)!=null&&t[dN])||lc(e)||np(e):!1}var NY=Object.prototype.constructor.toString(),fN=new WeakMap;function pD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=fN.get(n);return r===void 0&&(r=Function.toString.call(n),fN.set(n,r)),r===NY}function Wf(e,t,n=!0){tp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function tp(e){const t=e[fr];return t?t.type_:Array.isArray(e)?1:lc(e)?2:np(e)?3:0}function T0(e,t){return tp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mD(e,t,n){const r=tp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function RY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function lc(e){return e instanceof Map}function np(e){return e instanceof Set}function yo(e){return e.copy_||e.base_}function A0(e,t){if(lc(e))return new Map(e);if(np(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=pD(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[fr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create($u(e),r)}else{const r=$u(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function nx(e,t=!1){return rp(e)||nl(e)||!Io(e)||(tp(e)>1&&Object.defineProperties(e,{set:ef,add:ef,clear:ef,delete:ef}),Object.freeze(e),t&&Object.values(e).forEach(n=>nx(n,!0))),e}function PY(){$r(2)}var ef={value:PY};function rp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var OY={};function Mo(e){const t=OY[e];return t||$r(0,e),t}var Bu;function gD(){return Bu}function IY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hN(e,t){t&&(Mo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function C0(e){N0(e),e.drafts_.forEach(MY),e.drafts_=null}function N0(e){e===Bu&&(Bu=e.parent_)}function pN(e){return Bu=IY(Bu,e)}function MY(e){const t=e[fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[fr].modified_&&(C0(t),$r(4)),Io(e)&&(e=Jf(t,e),t.parent_||Xf(t,e)),t.patches_&&Mo("Patches").generateReplacementPatches_(n[fr].base_,e,t.patches_,t.inversePatches_)):e=Jf(t,n,[]),C0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hD?e:void 0}function Jf(e,t,n){if(rp(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[fr];if(!i)return Wf(t,(a,l)=>gN(e,i,t,a,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Xf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),Wf(l,(d,f)=>gN(e,i,a,d,f,n,u),r),Xf(e,a,!1),n&&e.patches_&&Mo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function gN(e,t,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=rp(i);if(!(u&&!l)){if(nl(i)){const d=a&&t&&t.type_!==3&&!T0(t.assigned_,r)?a.concat(r):void 0,f=Jf(e,i,d);if(mD(n,r,f),nl(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Io(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Jf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(lc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Xf(e,i)}}}function Xf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nx(t,n)}function DY(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:gD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=rx;n&&(i=[r],a=Hu);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var rx={get(e,t){if(t===fr)return e;const n=yo(e);if(!T0(n,t))return kY(e,n,t);const r=n[t];return e.finalized_||!Io(r)?r:r===ty(e.base_,t)?(ny(e),e.copy_[t]=P0(r,e)):r},has(e,t){return t in yo(e)},ownKeys(e){return Reflect.ownKeys(yo(e))},set(e,t,n){const r=vD(yo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ty(yo(e),t),a=i==null?void 0:i[fr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(RY(n,i)&&(n!==void 0||T0(e.base_,t)))return!0;ny(e),R0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ty(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ny(e),R0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=yo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$r(11)},getPrototypeOf(e){return $u(e.base_)},setPrototypeOf(){$r(12)}},Hu={};Wf(rx,(e,t)=>{Hu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hu.deleteProperty=function(e,t){return Hu.set.call(this,e,t,void 0)};Hu.set=function(e,t,n){return rx.set.call(this,e[0],t,n,e[0])};function ty(e,t){const n=e[fr];return(n?yo(n):e)[t]}function kY(e,t,n){var i;const r=vD(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function vD(e,t){if(!(t in e))return;let n=$u(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=$u(n)}}function R0(e){e.modified_||(e.modified_=!0,e.parent_&&R0(e.parent_))}function ny(e){e.copy_||(e.copy_=A0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(d=a,...f){return l.produce(d,h=>n.call(this,h,...f))}}typeof n!="function"&&$r(6),r!==void 0&&typeof r!="function"&&$r(7);let i;if(Io(t)){const a=pN(this),l=P0(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?C0(a):N0(a)}return hN(a,r),mN(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===hD&&(i=void 0),this.autoFreeze_&&nx(i,!0),r){const a=[],l=[];Mo("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else $r(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Io(e)||$r(8),nl(e)&&(e=LY(e));const t=pN(this),n=P0(e,void 0);return n[fr].isManual_=!0,N0(t),n}finishDraft(e,t){const n=e&&e[fr];(!n||!n.isManual_)&&$r(9);const{scope_:r}=n;return hN(r,t),mN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Mo("Patches").applyPatches_;return nl(e)?r(e,t):this.produce(e,i=>r(i,t))}};function P0(e,t){const n=lc(e)?Mo("MapSet").proxyMap_(e,t):np(e)?Mo("MapSet").proxySet_(e,t):DY(e,t);return(t?t.scope_:gD()).drafts_.push(n),n}function LY(e){return nl(e)||$r(10,e),yD(e)}function yD(e){if(!Io(e)||rp(e))return e;const t=e[fr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=A0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=A0(e,!0);return Wf(n,(i,a)=>{mD(n,i,yD(a))},r),t&&(t.finalized_=!1),n}var UY=new jY;UY.produce;var qY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},bD=Yn({name:"legend",initialState:qY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:At()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Hr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:At()},removeLegendPayload:{reducer(e,t){var n=Hr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:At()}}}),{setLegendSize:vN,setLegendSettings:zY,addLegendPayload:$Y,replaceLegendPayload:BY,removeLegendPayload:HY}=bD.actions,GY=bD.reducer,VY=["contextPayload"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){FY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FY(e,t,n){return(t=KY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WY(e,t){if(e==null)return{};var n,r,i=JY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XY(e){return e.value}function QY(e){var{contextPayload:t}=e,n=WY(e,VY),r=_M(t,e.payloadUniqBy,XY),i=rl(rl({},n),{},{payload:r});return E.isValidElement(e.content)?E.cloneElement(e.content,i):typeof e.content=="function"?E.createElement(e.content,i):E.createElement(q7,i)}function ZY(e,t,n,r,i,a){var{layout:l,align:u,verticalAlign:d}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?f={left:((r||0)-a.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?h={top:((i||0)-a.height)/2}:h=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),rl(rl({},f),h)}function eW(e){var t=Vt();return E.useEffect(()=>{t(zY(e))},[t,e]),null}function tW(e){var t=Vt();return E.useEffect(()=>(t(vN(e)),()=>{t(vN({width:0,height:0}))}),[t,e]),null}function nW(e,t,n,r){return e==="vertical"&&je(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var rW={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function xD(e){var t=Cn(e,rW),n=M9(),r=OF(),i=AY(),{width:a,height:l,wrapperStyle:u,portal:d}=t,[f,h]=AM([n]),m=ex(),b=tx();if(m==null||b==null)return null;var _=m-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),S=nW(t.layout,l,a,_),T=d?u:rl(rl({position:"absolute",width:(S==null?void 0:S.width)||a||"auto",height:(S==null?void 0:S.height)||l||"auto"},ZY(u,t,i,m,b,f)),u),A=d??r;if(A==null||n==null)return null;var R=E.createElement("div",{className:"recharts-legend-wrapper",style:T,ref:h},E.createElement(eW,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&E.createElement(tW,{width:f.width,height:f.height}),E.createElement(QY,O0({},t,S,{margin:i,chartWidth:m,chartHeight:b,contextPayload:n})));return fb.createPortal(R,A)}xD.displayName="Legend";function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){iW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iW(e,t,n){return(t=aW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aW(e){var t=oW(e,"string");return typeof t=="symbol"?t:t+""}function oW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sW(e){return Array.isArray(e)&&ai(e[0])&&ai(e[1])?e.join(" ~ "):e}var lW=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:b=!1}=e,_=()=>{if(a&&a.length){var M={padding:0,margin:0},D=(u?qh(a,u):a).map((k,G)=>{if(k.type==="none")return null;var U=k.formatter||l||sW,{value:le,name:W}=k,H=le,re=W;if(U){var ge=U(le,W,k,G,a);if(Array.isArray(ge))[H,re]=ge;else if(ge!=null)H=ge;else return null}var we=ry({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:we},ai(re)?E.createElement("span",{className:"recharts-tooltip-item-name"},re):null,ai(re)?E.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,E.createElement("span",{className:"recharts-tooltip-item-value"},H),E.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},S=ry({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=ry({margin:0},i),A=!ln(h),R=A?h:"",P=ft("recharts-default-tooltip",d),N=ft("recharts-tooltip-label",f);A&&m&&a!==void 0&&a!==null&&(R=m(h,a));var I=b?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",I0({className:P,style:S},I),E.createElement("p",{className:N,style:T},E.isValidElement(R)?R:"".concat(R)),_())},gu="recharts-tooltip-wrapper",uW={visibility:"hidden"};function cW(e){var{coordinate:t,translateX:n,translateY:r}=e;return ft(gu,{["".concat(gu,"-right")]:je(n)&&t&&je(t.x)&&n>=t.x,["".concat(gu,"-left")]:je(n)&&t&&je(t.x)&&n<t.x,["".concat(gu,"-bottom")]:je(r)&&t&&je(t.y)&&r>=t.y,["".concat(gu,"-top")]:je(r)&&t&&je(t.y)&&r<t.y})}function xN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(a&&je(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var b=d[r];if(b==null)return 0;if(l[r]){var _=h,S=b;return _<S?Math.max(m,b):Math.max(h,b)}if(f==null)return 0;var T=m+u,A=b+f;return T>A?Math.max(h,b):Math.max(m,b)}function dW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function fW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,h,m;return l.height>0&&l.width>0&&n?(h=xN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=xN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=dW({translateX:h,translateY:m,useTranslate3d:u})):f=uW,{cssProperties:f,cssClasses:cW({translateX:h,translateY:m,coordinate:n})}}function _N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(n),!0).forEach(function(r){M0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M0(e,t,n){return(t=hW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hW(e){var t=pW(e,"string");return typeof t=="symbol"?t:t+""}function pW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mW extends E.PureComponent{constructor(){super(...arguments),M0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),M0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:h,reverseDirection:m,useTranslate3d:b,viewBox:_,wrapperStyle:S,lastBoundingBox:T,innerRef:A,hasPortalFromProps:R}=this.props,{cssClasses:P,cssProperties:N}=fW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:m,tooltipBox:{height:T.height,width:T.width},useTranslate3d:b,viewBox:_}),I=R?{}:tf(tf({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=tf(tf({},I),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:M,ref:A},a)}}var _D=()=>{var e;return(e=Me(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D0.apply(null,arguments)}function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(n),!0).forEach(function(r){gW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gW(e,t,n){return(t=vW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EN={curveBasisClosed:JF,curveBasisOpen:XF,curveBasis:WF,curveBumpX:kF,curveBumpY:jF,curveLinearClosed:QF,curveLinear:jh,curveMonotoneX:ZF,curveMonotoneY:e7,curveNatural:t7,curveStep:n7,curveStepAfter:i7,curveStepBefore:r7},Qf=e=>un(e.x)&&un(e.y),TN=e=>e.base!=null&&Qf(e.base)&&Qf(e),vu=e=>e.x,yu=e=>e.y,bW=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(nc(e));return(n==="curveMonotone"||n==="curveBump")&&t?EN["".concat(n).concat(t==="vertical"?"Y":"X")]:EN[n]||jh},xW=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,l=bW(t,i),u=a?n.filter(Qf):n,d;if(Array.isArray(r)){var f=n.map((_,S)=>SN(SN({},_),{},{base:r[S]}));i==="vertical"?d=Kd().y(yu).x1(vu).x0(_=>_.base.x):d=Kd().x(vu).y1(yu).y0(_=>_.base.y);var h=d.defined(TN).curve(l),m=a?f.filter(TN):f;return h(m)}i==="vertical"&&je(r)?d=Kd().y(yu).x1(vu).x0(r):je(r)?d=Kd().x(vu).y1(yu).y0(r):d=WI().x(vu).y(yu);var b=d.defined(Qf).curve(l);return b(u)},wD=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?xW(e):r;return E.createElement("path",D0({},ri(e),Bb(e),{className:ft("recharts-curve",t),d:a===null?void 0:a,ref:i}))},_W=["x","y","top","left","width","height","className"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function AN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(n),!0).forEach(function(r){SW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SW(e,t,n){return(t=EW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EW(e){var t=TW(e,"string");return typeof t=="symbol"?t:t+""}function TW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AW(e,t){if(e==null)return{};var n,r,i=CW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var NW=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),RW=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=e,d=AW(e,_W),f=wW({x:t,y:n,top:r,left:i,width:a,height:l},d);return!je(t)||!je(n)||!je(a)||!je(l)||!je(r)||!je(i)?null:E.createElement("path",k0({},Mn(f),{className:ft("recharts-cross",u),d:NW(t,n,a,l,r,i)}))};function PW(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function CN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(n),!0).forEach(function(r){OW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OW(e,t,n){return(t=IW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=MW(e,"string");return typeof t=="symbol"?t:t+""}function MW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),SD=(e,t,n)=>e.map(r=>"".concat(DW(r)," ").concat(t,"ms ").concat(n)).join(","),kW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Gu=(e,t)=>Object.keys(t).reduce((n,r)=>NN(NN({},n),{},{[r]:e(r,t[r])}),{});function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(r){jW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jW(e,t,n){return(t=LW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=UW(e,"string");return typeof t=="symbol"?t:t+""}function UW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zf=(e,t,n)=>e+(t-e)*n,j0=e=>{var{from:t,to:n}=e;return t!==n},ED=(e,t,n)=>{var r=Gu((i,a)=>{if(j0(a)){var[l,u]=e(a.from,a.to,a.velocity);return Wt(Wt({},a),{},{from:l,velocity:u})}return a},t);return n<1?Gu((i,a)=>j0(a)?Wt(Wt({},a),{},{velocity:Zf(a.velocity,r[i].velocity,n),from:Zf(a.from,r[i].from,n)}):a,t):ED(e,r,n-1)};function qW(e,t,n,r,i,a){var l,u=r.reduce((b,_)=>Wt(Wt({},b),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),d=()=>Gu((b,_)=>_.from,u),f=()=>!Object.values(u).filter(j0).length,h=null,m=b=>{l||(l=b);var _=b-l,S=_/n.dt;u=ED(n,u,S),i(Wt(Wt(Wt({},e),t),d())),l=b,f()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var b;(b=h)===null||b===void 0||b()})}function zW(e,t,n,r,i,a,l){var u=null,d=i.reduce((m,b)=>Wt(Wt({},m),{},{[b]:[e[b],t[b]]}),{}),f,h=m=>{f||(f=m);var b=(m-f)/r,_=Gu((T,A)=>Zf(...A,n(b)),d);if(a(Wt(Wt(Wt({},e),t),_)),b<1)u=l.setTimeout(h);else{var S=Gu((T,A)=>Zf(...A,n(1)),d);a(Wt(Wt(Wt({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const $W=(e,t,n,r,i,a)=>{var l=kW(e,t);return n==null?()=>(i(Wt(Wt({},e),t)),()=>{}):n.isStepper===!0?qW(e,t,n,l,i,a):zW(e,t,n,r,l,i,a)};var eh=1e-4,TD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],AD=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),PN=(e,t)=>n=>{var r=TD(e,t);return AD(r,n)},BW=(e,t)=>n=>{var r=TD(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return AD(i,n)},HW=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},GW=(e,t,n,r)=>{var i=PN(e,n),a=PN(t,r),l=BW(e,n),u=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,m=h,b=0;b<8;++b){var _=i(m)-h,S=l(m);if(Math.abs(_-h)<eh||S<eh)return a(m);m=u(m-_/S)}return a(m)};return d.isStepper=!1,d},ON=function(){return GW(...HW(...arguments))},VW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,u,d)=>{var f=-(l-u)*n,h=d*r,m=d+(f-h)*i/1e3,b=d*i/1e3+l;return Math.abs(b-u)<eh&&Math.abs(m)<eh?[u,0]:[b,m]};return a.isStepper=!0,a.dt=i,a},FW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ON(e);case"spring":return VW();default:if(e.split("(")[0]==="cubic-bezier")return ON(e)}return typeof e=="function"?e:null};function KW(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class YW{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function WW(){return KW(new YW)}var JW=E.createContext(WW);function XW(e,t){var n=E.useContext(JW);return E.useMemo(()=>t??n(e),[e,t,n])}var QW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),uc={devToolsEnabled:!1,isSsr:QW()},ZW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},IN={t:0},iy={t:1};function ix(e){var t=Cn(e,ZW),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,h=n==="auto"?!uc.isSsr:n,m=XW(t.animationId,t.animationManager),[b,_]=E.useState(h?IN:iy),S=E.useRef(null);return E.useEffect(()=>{h||_(iy)},[h]),E.useEffect(()=>{if(!h||!r)return rc;var T=$W(IN,iy,FW(a),i,_,m.getTimeoutController()),A=()=>{S.current=T()};return m.start([d,l,A,i,u]),()=>{m.stop(),S.current&&S.current(),u()}},[h,r,i,a,l,d,u,m]),f(b.t)}function ax(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(Lu(t)),r=E.useRef(e);return r.current!==e&&(n.current=Lu(t),r.current=e),n.current}var eJ=["radius"],tJ=["radius"];function MN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(n),!0).forEach(function(r){nJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nJ(e,t,n){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},th.apply(null,arguments)}function kN(e,t){if(e==null)return{};var n,r,i=aJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jN=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,b=4;m<b;m++)h[m]=i[m]>a?a:i[m];f="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+u*h[0],",").concat(t)),f+="L ".concat(e+n-u*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+l*h[1])),f+="L ".concat(e+n,",").concat(t+r-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+n-u*h[2],",").concat(t+r)),f+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-l*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var _=Math.min(a,i);f="M ".concat(e,",").concat(t+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(e+u*_,",").concat(t,`
            L `).concat(e+n-u*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(e+n,",").concat(t+l*_,`
            L `).concat(e+n,",").concat(t+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(e+n-u*_,",").concat(t+r,`
            L `).concat(e+u*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(e,",").concat(t+r-l*_," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},LN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CD=e=>{var t=Cn(e,LN),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:l,width:u,height:d,radius:f,className:h}=t,{animationEasing:m,animationDuration:b,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:T}=t,A=E.useRef(u),R=E.useRef(d),P=E.useRef(a),N=E.useRef(l),I=E.useMemo(()=>({x:a,y:l,width:u,height:d,radius:f}),[a,l,u,d,f]),M=ax(I,"rectangle-");if(a!==+a||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var D=ft("recharts-rectangle",h);if(!T){var k=Mn(t),{radius:G}=k,U=kN(k,eJ);return E.createElement("path",th({},U,{radius:typeof f=="number"?f:void 0,className:D,d:jN(a,l,u,d,f)}))}var le=A.current,W=R.current,H=P.current,re=N.current,ge="0px ".concat(r===-1?1:r,"px"),we="".concat(r,"px 0px"),B=SD(["strokeDasharray"],b,typeof m=="string"?m:LN.animationEasing);return E.createElement(ix,{animationId:M,key:M,canBegin:r>0,duration:b,easing:m,isActive:T,begin:_},J=>{var ce=Fn(le,u,J),ue=Fn(W,d,J),Ce=Fn(H,a,J),L=Fn(re,l,J);n.current&&(A.current=ce,R.current=ue,P.current=Ce,N.current=L);var X;S?J>0?X={transition:B,strokeDasharray:we}:X={strokeDasharray:ge}:X={strokeDasharray:we};var he=Mn(t),{radius:de}=he,K=kN(he,tJ);return E.createElement("path",th({},K,{radius:typeof f=="number"?f:void 0,className:D,d:jN(Ce,L,ce,ue,f),ref:n,style:DN(DN({},X),t.style)}))})};function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(n),!0).forEach(function(r){oJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oJ(e,t,n){return(t=sJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sJ(e){var t=lJ(e,"string");return typeof t=="symbol"?t:t+""}function lJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh=Math.PI/180,uJ=e=>e*180/Math.PI,bn=(e,t,n,r)=>({x:e+Math.cos(-nh*r)*n,y:t+Math.sin(-nh*r)*n}),cJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dJ=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},fJ=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=dJ({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>a&&(d=2*Math.PI-d),{radius:l,angle:uJ(d),angleInRadian:d}},hJ=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},pJ=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},mJ=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=fJ({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=hJ(t),h=a,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?qN(qN({},t),{},{radius:i,angle:pJ(h,t)}):null};function ND(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=bn(t,n,r,i),u=bn(t,n,r,a);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L0.apply(null,arguments)}var gJ=(e,t)=>{var n=Nr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},nf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+r,h=Math.asin(u/f)/nh,m=d?i:i+a*h,b=bn(t,n,f,m),_=bn(t,n,r,m),S=d?i-a*h:i,T=bn(t,n,f*Math.cos(h*nh),S);return{center:b,circleTangency:_,lineTangency:T,theta:h}},RD=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,u=gJ(a,l),d=a+u,f=bn(t,n,i,a),h=bn(t,n,i,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=bn(t,n,r,a),_=bn(t,n,r,d);m+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=d),`,
            `).concat(b.x,",").concat(b.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},vJ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,h=Nr(f-d),{circleTangency:m,lineTangency:b,theta:_}=nf({cx:t,cy:n,radius:i,angle:d,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:S,lineTangency:T,theta:A}=nf({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:u}),R=u?Math.abs(d-f):Math.abs(d-f)-_-A;if(R<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):RD({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var P="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:I,theta:M}=nf({cx:t,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:D,lineTangency:k,theta:G}=nf({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),U=u?Math.abs(d-f):Math.abs(d-f)-M-G;if(U<0&&a===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(U>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,"Z")}else P+="L".concat(t,",").concat(n,"Z");return P},yJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PD=e=>{var t=Cn(e,yJ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h,className:m}=t;if(a<i||f===h)return null;var b=ft("recharts-sector",m),_=a-i,S=qa(l,_,0,!0),T;return S>0&&Math.abs(f-h)<360?T=vJ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(S,_/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):T=RD({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),E.createElement("path",L0({},Mn(t),{className:b,d:T}))};function bJ(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(cM(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=t,d=bn(r,i,a,u),f=bn(r,i,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return ND(t)}}var ay={},oy={},sy={},zN;function xJ(){return zN||(zN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SM();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(sy)),sy}var $N;function _J(){return $N||($N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xJ();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(oy)),oy}var BN;function wJ(){return BN||(BN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EM(),n=_J();function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}e.range=r})(ay)),ay}var ly,HN;function SJ(){return HN||(HN=1,ly=wJ().range),ly}var EJ=SJ();const OD=Vr(EJ);function ja(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ox(e){let t,n,r;e.length!==2?(t=ja,n=(u,d)=>ja(e(u),d),r=(u,d)=>e(u)-d):(t=e===ja||e===TJ?e:AJ,n=e,r=e);function i(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<0?f=m+1:h=m}while(f<h)}return f}function a(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function l(u,d,f=0,h=u.length){const m=i(u,d,f,h-1);return m>f&&r(u[m-1],d)>-r(u[m],d)?m-1:m}return{left:i,center:l,right:a}}function AJ(){return 0}function ID(e){return e===null?NaN:+e}function*CJ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const NJ=ox(ja),cc=NJ.right;ox(ID).center;class GN extends Map{constructor(t,n=OJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(VN(this,t))}has(t){return super.has(VN(this,t))}set(t,n){return super.set(RJ(this,t),n)}delete(t){return super.delete(PJ(this,t))}}function VN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function RJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function PJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function OJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function IJ(e=ja){if(e===ja)return MD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function MD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const MJ=Math.sqrt(50),DJ=Math.sqrt(10),kJ=Math.sqrt(2);function rh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=MJ?10:a>=DJ?5:a>=kJ?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?rh(e,t,n*2):[u,d,f]}function U0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?rh(t,e,n):rh(e,t,n);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(a-f)/-l;else for(let f=0;f<u;++f)d[f]=(a-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function q0(e,t,n){return t=+t,e=+e,n=+n,rh(e,t,n)[2]}function z0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?q0(t,e,n):q0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function FN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function KN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function DD(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?MD:IJ(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,h=Math.log(d),m=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),_=Math.max(n,Math.floor(t-f*m/d+b)),S=Math.min(r,Math.floor(t+(d-f)*m/d+b));DD(e,t,_,S,i)}const a=e[t];let l=n,u=r;for(bu(e,n,t),i(e[r],a)>0&&bu(e,n,r);l<u;){for(bu(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?bu(e,n,u):(++u,bu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function bu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function jJ(e,t,n){if(e=Float64Array.from(CJ(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return KN(e);if(t>=1)return FN(e);var r,i=(r-1)*t,a=Math.floor(i),l=FN(DD(e,a).subarray(0,a+1)),u=KN(e.subarray(a+1));return l+(u-l)*(i-a)}}function LJ(e,t,n=ID){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function UJ(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $0=Symbol("implicit");function sx(){var e=new GN,t=[],n=[],r=$0;function i(a){let l=e.get(a);if(l===void 0){if(r!==$0)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new GN;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sx(t,n).unknown(r)},Mr.apply(i,arguments),i}function lx(){var e=sx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,u=!1,d=0,f=0,h=.5;delete e.unknown;function m(){var b=t().length,_=i<r,S=_?i:r,T=_?r:i;a=(T-S)/Math.max(1,b-d+f*2),u&&(a=Math.floor(a)),S+=(T-S-a*(b-d))*h,l=a*(1-d),u&&(S=Math.round(S),l=Math.round(l));var A=UJ(b).map(function(R){return S+a*R});return n(_?A.reverse():A)}return e.domain=function(b){return arguments.length?(t(b),m()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(b){return arguments.length?(u=!!b,m()):u},e.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),m()):d},e.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),m()):d},e.paddingOuter=function(b){return arguments.length?(f=+b,m()):f},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),m()):h},e.copy=function(){return lx(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(h)},Mr.apply(m(),arguments)}function kD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kD(t())},e}function qJ(){return kD(lx.apply(null,arguments).paddingInner(1))}function ux(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dc(){}var Vu=.7,ih=1/Vu,Js="\\s*([+-]?\\d+)\\s*",Fu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zJ=/^#([0-9a-f]{3,8})$/,$J=new RegExp(`^rgb\\(${Js},${Js},${Js}\\)$`),BJ=new RegExp(`^rgb\\(${ni},${ni},${ni}\\)$`),HJ=new RegExp(`^rgba\\(${Js},${Js},${Js},${Fu}\\)$`),GJ=new RegExp(`^rgba\\(${ni},${ni},${ni},${Fu}\\)$`),VJ=new RegExp(`^hsl\\(${Fu},${ni},${ni}\\)$`),FJ=new RegExp(`^hsla\\(${Fu},${ni},${ni},${Fu}\\)$`),YN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ux(dc,Ku,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WN,formatHex:WN,formatHex8:KJ,formatHsl:YJ,formatRgb:JN,toString:JN});function WN(){return this.rgb().formatHex()}function KJ(){return this.rgb().formatHex8()}function YJ(){return LD(this).formatHsl()}function JN(){return this.rgb().formatRgb()}function Ku(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zJ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?XN(t):n===3?new Kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$J.exec(e))?new Kn(t[1],t[2],t[3],1):(t=BJ.exec(e))?new Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HJ.exec(e))?rf(t[1],t[2],t[3],t[4]):(t=GJ.exec(e))?rf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VJ.exec(e))?eR(t[1],t[2]/100,t[3]/100,1):(t=FJ.exec(e))?eR(t[1],t[2]/100,t[3]/100,t[4]):YN.hasOwnProperty(e)?XN(YN[e]):e==="transparent"?new Kn(NaN,NaN,NaN,0):null}function XN(e){return new Kn(e>>16&255,e>>8&255,e&255,1)}function rf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kn(e,t,n,r)}function WJ(e){return e instanceof dc||(e=Ku(e)),e?(e=e.rgb(),new Kn(e.r,e.g,e.b,e.opacity)):new Kn}function B0(e,t,n,r){return arguments.length===1?WJ(e):new Kn(e,t,n,r??1)}function Kn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ux(Kn,B0,jD(dc,{brighter(e){return e=e==null?ih:Math.pow(ih,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vu:Math.pow(Vu,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kn(Po(this.r),Po(this.g),Po(this.b),ah(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QN,formatHex:QN,formatHex8:JJ,formatRgb:ZN,toString:ZN}));function QN(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}`}function JJ(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}${Eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZN(){const e=ah(this.opacity);return`${e===1?"rgb(":"rgba("}${Po(this.r)}, ${Po(this.g)}, ${Po(this.b)}${e===1?")":`, ${e})`}`}function ah(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Po(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eo(e){return e=Po(e),(e<16?"0":"")+e.toString(16)}function eR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Br(e,t,n,r)}function LD(e){if(e instanceof Br)return new Br(e.h,e.s,e.l,e.opacity);if(e instanceof dc||(e=Ku(e)),!e)return new Br;if(e instanceof Br)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,u=a-i,d=(a+i)/2;return u?(t===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?a+i:2-a-i,l*=60):u=d>0&&d<1?0:l,new Br(l,u,d,e.opacity)}function XJ(e,t,n,r){return arguments.length===1?LD(e):new Br(e,t,n,r??1)}function Br(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ux(Br,XJ,jD(dc,{brighter(e){return e=e==null?ih:Math.pow(ih,e),new Br(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vu:Math.pow(Vu,e),new Br(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kn(uy(e>=240?e-240:e+120,i,r),uy(e,i,r),uy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Br(tR(this.h),af(this.s),af(this.l),ah(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ah(this.opacity);return`${e===1?"hsl(":"hsla("}${tR(this.h)}, ${af(this.s)*100}%, ${af(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tR(e){return e=(e||0)%360,e<0?e+360:e}function af(e){return Math.max(0,Math.min(1,e||0))}function uy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cx=e=>()=>e;function QJ(e,t){return function(n){return e+n*t}}function ZJ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function eX(e){return(e=+e)==1?UD:function(t,n){return n-t?ZJ(t,n,e):cx(isNaN(t)?n:t)}}function UD(e,t){var n=t-e;return n?QJ(e,n):cx(isNaN(e)?t:e)}const nR=(function e(t){var n=eX(t);function r(i,a){var l=n((i=B0(i)).r,(a=B0(a)).r),u=n(i.g,a.g),d=n(i.b,a.b),f=UD(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function tX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function nX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=ml(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function iX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function oh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function aX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ml(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var H0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cy=new RegExp(H0.source,"g");function oX(e){return function(){return e}}function sX(e){return function(t){return e(t)+""}}function lX(e,t){var n=H0.lastIndex=cy.lastIndex=0,r,i,a,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=H0.exec(e))&&(i=cy.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:oh(r,i)})),n=cy.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?d[0]?sX(d[0].x):oX(t):(t=d.length,function(f){for(var h=0,m;h<t;++h)u[(m=d[h]).i]=m.x(f);return u.join("")})}function ml(e,t){var n=typeof t,r;return t==null||n==="boolean"?cx(t):(n==="number"?oh:n==="string"?(r=Ku(t))?(t=r,nR):lX:t instanceof Ku?nR:t instanceof Date?iX:nX(t)?tX:Array.isArray(t)?rX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?aX:oh)(e,t)}function dx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function uX(e,t){t===void 0&&(t=e,e=ml);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function cX(e){return function(){return e}}function sh(e){return+e}var rR=[0,1];function On(e){return e}function G0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cX(isNaN(t)?NaN:.5)}function dX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function fX(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=G0(i,r),a=n(l,a)):(r=G0(r,i),a=n(a,l)),function(u){return a(r(u))}}function hX(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=G0(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(u){var d=cc(e,u,1,r)-1;return a[d](i[d](u))}}function fc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ip(){var e=rR,t=rR,n=ml,r,i,a,l=On,u,d,f;function h(){var b=Math.min(e.length,t.length);return l!==On&&(l=dX(e[0],e[b-1])),u=b>2?hX:fX,d=f=null,m}function m(b){return b==null||isNaN(b=+b)?a:(d||(d=u(e.map(r),t,n)))(r(l(b)))}return m.invert=function(b){return l(i((f||(f=u(t,e.map(r),oh)))(b)))},m.domain=function(b){return arguments.length?(e=Array.from(b,sh),h()):e.slice()},m.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},m.rangeRound=function(b){return t=Array.from(b),n=dx,h()},m.clamp=function(b){return arguments.length?(l=b?!0:On,h()):l!==On},m.interpolate=function(b){return arguments.length?(n=b,h()):n},m.unknown=function(b){return arguments.length?(a=b,m):a},function(b,_){return r=b,i=_,h()}}function fx(){return ip()(On,On)}function pX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function il(e){return e=lh(Math.abs(e)),e?e[1]:NaN}function mX(e,t){return function(n,r){for(var i=n.length,a=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),a.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function gX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var vX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yu(e){if(!(t=vX.exec(e)))throw new Error("invalid format: "+e);var t;return new hx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Yu.prototype=hx.prototype;function hx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yX(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var qD;function bX(e,t){var n=lh(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(qD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+lh(e,Math.max(0,t+a-1))[0]}function iR(e,t){var n=lh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iR(e*100,t),r:iR,s:bX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oR(e){return e}var sR=Array.prototype.map,lR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xX(e){var t=e.grouping===void 0||e.thousands===void 0?oR:mX(sR.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?oR:gX(sR.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Yu(m);var b=m.fill,_=m.align,S=m.sign,T=m.symbol,A=m.zero,R=m.width,P=m.comma,N=m.precision,I=m.trim,M=m.type;M==="n"?(P=!0,M="g"):aR[M]||(N===void 0&&(N=12),I=!0,M="g"),(A||b==="0"&&_==="=")&&(A=!0,b="0",_="=");var D=T==="$"?n:T==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",k=T==="$"?r:/[%p]/.test(M)?l:"",G=aR[M],U=/[defgprs%]/.test(M);N=N===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function le(W){var H=D,re=k,ge,we,B;if(M==="c")re=G(W)+re,W="";else{W=+W;var J=W<0||1/W<0;if(W=isNaN(W)?d:G(Math.abs(W),N),I&&(W=yX(W)),J&&+W==0&&S!=="+"&&(J=!1),H=(J?S==="("?S:u:S==="-"||S==="("?"":S)+H,re=(M==="s"?lR[8+qD/3]:"")+re+(J&&S==="("?")":""),U){for(ge=-1,we=W.length;++ge<we;)if(B=W.charCodeAt(ge),48>B||B>57){re=(B===46?i+W.slice(ge+1):W.slice(ge))+re,W=W.slice(0,ge);break}}}P&&!A&&(W=t(W,1/0));var ce=H.length+W.length+re.length,ue=ce<R?new Array(R-ce+1).join(b):"";switch(P&&A&&(W=t(ue+W,ue.length?R-re.length:1/0),ue=""),_){case"<":W=H+W+re+ue;break;case"=":W=H+ue+W+re;break;case"^":W=ue.slice(0,ce=ue.length>>1)+H+W+re+ue.slice(ce);break;default:W=ue+H+W+re;break}return a(W)}return le.toString=function(){return m+""},le}function h(m,b){var _=f((m=Yu(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(il(b)/3)))*3,T=Math.pow(10,-S),A=lR[8+S/3];return function(R){return _(T*R)+A}}return{format:f,formatPrefix:h}}var of,px,zD;_X({thousands:",",grouping:[3],currency:["$",""]});function _X(e){return of=xX(e),px=of.format,zD=of.formatPrefix,of}function wX(e){return Math.max(0,-il(Math.abs(e)))}function SX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(il(t)/3)))*3-il(Math.abs(e)))}function EX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,il(t)-il(e))+1}function $D(e,t,n,r){var i=z0(e,t,n),a;switch(r=Yu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=SX(i,l))&&(r.precision=a),zD(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=EX(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=wX(i))&&(r.precision=a-(r.type==="%")*2);break}}return px(r)}function Ga(e){var t=e.domain;return e.ticks=function(n){var r=t();return U0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return $D(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],u=r[a],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=q0(l,u,n),f===d)return r[i]=l,r[a]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function BD(){var e=fx();return e.copy=function(){return fc(e,BD())},Mr.apply(e,arguments),Ga(e)}function HD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,sh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return HD(e).unknown(t)},e=arguments.length?Array.from(e,sh):[0,1],Ga(n)}function GD(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function uR(e){return Math.log(e)}function cR(e){return Math.exp(e)}function TX(e){return-Math.log(-e)}function AX(e){return-Math.exp(-e)}function CX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NX(e){return e===10?CX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function RX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dR(e){return(t,n)=>-e(-t,n)}function mx(e){const t=e(uR,cR),n=t.domain;let r=10,i,a;function l(){return i=RX(r),a=NX(r),n()[0]<0?(i=dR(i),a=dR(a),e(TX,AX)):e(uR,cR),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let b=i(f),_=i(h),S,T;const A=u==null?10:+u;let R=[];if(!(r%1)&&_-b<A){if(b=Math.floor(b),_=Math.ceil(_),f>0){for(;b<=_;++b)for(S=1;S<r;++S)if(T=b<0?S/a(-b):S*a(b),!(T<f)){if(T>h)break;R.push(T)}}else for(;b<=_;++b)for(S=r-1;S>=1;--S)if(T=b>0?S/a(-b):S*a(b),!(T<f)){if(T>h)break;R.push(T)}R.length*2<A&&(R=U0(f,h,A))}else R=U0(b,_,Math.min(_-b,A)).map(a);return m?R.reverse():R},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Yu(d)).precision==null&&(d.trim=!0),d=px(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?d(h):""}},t.nice=()=>n(GD(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function VD(){const e=mx(ip()).domain([1,10]);return e.copy=()=>fc(e,VD()).base(e.base()),Mr.apply(e,arguments),e}function fR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gx(e){var t=1,n=e(fR(t),hR(t));return n.constant=function(r){return arguments.length?e(fR(t=+r),hR(t)):t},Ga(n)}function FD(){var e=gx(ip());return e.copy=function(){return fc(e,FD()).constant(e.constant())},Mr.apply(e,arguments)}function pR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function OX(e){return e<0?-e*e:e*e}function vx(e){var t=e(On,On),n=1;function r(){return n===1?e(On,On):n===.5?e(PX,OX):e(pR(n),pR(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ga(t)}function yx(){var e=vx(ip());return e.copy=function(){return fc(e,yx()).exponent(e.exponent())},Mr.apply(e,arguments),e}function IX(){return yx.apply(null,arguments).exponent(.5)}function mR(e){return Math.sign(e)*e*e}function MX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KD(){var e=fx(),t=[0,1],n=!1,r;function i(a){var l=MX(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(mR(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,sh)).map(mR)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return KD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Mr.apply(i,arguments),Ga(i)}function YD(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=LJ(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:t[cc(n,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ja),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return YD().domain(e).range(t).unknown(r)},Mr.apply(a,arguments)}function WD(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[cc(r,d,0,n)]:a}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return WD().domain([e,t]).range(i).unknown(a)},Mr.apply(Ga(l),arguments)}function JD(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[cc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return JD().domain(e).range(t).unknown(n)},Mr.apply(i,arguments)}const dy=new Date,fy=new Date;function Jt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return d;let f;do d.push(f=new Date(+a)),t(a,u),e(a);while(f<a&&a<l);return d},i.filter=a=>Jt(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>(dy.setTime(+a),fy.setTime(+l),e(dy),e(fy),Math.floor(n(dy,fy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const uh=Jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);uh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):uh);uh.range;const Mi=1e3,Rr=Mi*60,Di=Rr*60,Bi=Di*24,bx=Bi*7,gR=Bi*30,hy=Bi*365,To=Jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Mi)},(e,t)=>(t-e)/Mi,e=>e.getUTCSeconds());To.range;const xx=Jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mi)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getMinutes());xx.range;const _x=Jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getUTCMinutes());_x.range;const wx=Jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mi-e.getMinutes()*Rr)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getHours());wx.range;const Sx=Jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCHours());Sx.range;const hc=Jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rr)/Bi,e=>e.getDate()-1);hc.range;const ap=Jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>e.getUTCDate()-1);ap.range;const XD=Jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>Math.floor(e/Bi));XD.range;function qo(e){return Jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rr)/bx)}const op=qo(0),ch=qo(1),DX=qo(2),kX=qo(3),al=qo(4),jX=qo(5),LX=qo(6);op.range;ch.range;DX.range;kX.range;al.range;jX.range;LX.range;function zo(e){return Jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/bx)}const sp=zo(0),dh=zo(1),UX=zo(2),qX=zo(3),ol=zo(4),zX=zo(5),$X=zo(6);sp.range;dh.range;UX.range;qX.range;ol.range;zX.range;$X.range;const Ex=Jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ex.range;const Tx=Jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tx.range;const Hi=Jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Hi.range;const Gi=Jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Gi.range;function QD(e,t,n,r,i,a){const l=[[To,1,Mi],[To,5,5*Mi],[To,15,15*Mi],[To,30,30*Mi],[a,1,Rr],[a,5,5*Rr],[a,15,15*Rr],[a,30,30*Rr],[i,1,Di],[i,3,3*Di],[i,6,6*Di],[i,12,12*Di],[r,1,Bi],[r,2,2*Bi],[n,1,bx],[t,1,gR],[t,3,3*gR],[e,1,hy]];function u(f,h,m){const b=h<f;b&&([f,h]=[h,f]);const _=m&&typeof m.range=="function"?m:d(f,h,m),S=_?_.range(f,+h+1):[];return b?S.reverse():S}function d(f,h,m){const b=Math.abs(h-f)/m,_=ox(([,,A])=>A).right(l,b);if(_===l.length)return e.every(z0(f/hy,h/hy,m));if(_===0)return uh.every(Math.max(z0(f,h,m),1));const[S,T]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return S.every(T)}return[u,d]}const[BX,HX]=QD(Gi,Tx,sp,XD,Sx,_x),[GX,VX]=QD(Hi,Ex,op,hc,wx,xx);function py(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function my(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function FX(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=_u(i),h=wu(i),m=_u(a),b=wu(a),_=_u(l),S=wu(l),T=_u(u),A=wu(u),R=_u(d),P=wu(d),N={a:J,A:ce,b:ue,B:Ce,c:null,d:wR,e:wR,f:mQ,g:TQ,G:CQ,H:fQ,I:hQ,j:pQ,L:ZD,m:gQ,M:vQ,p:L,q:X,Q:TR,s:AR,S:yQ,u:bQ,U:xQ,V:_Q,w:wQ,W:SQ,x:null,X:null,y:EQ,Y:AQ,Z:NQ,"%":ER},I={a:he,A:de,b:K,B:fe,c:null,d:SR,e:SR,f:IQ,g:BQ,G:GQ,H:RQ,I:PQ,j:OQ,L:t2,m:MQ,M:DQ,p:_e,q:Ke,Q:TR,s:AR,S:kQ,u:jQ,U:LQ,V:UQ,w:qQ,W:zQ,x:null,X:null,y:$Q,Y:HQ,Z:VQ,"%":ER},M={a:le,A:W,b:H,B:re,c:ge,d:xR,e:xR,f:lQ,g:bR,G:yR,H:_R,I:_R,j:iQ,L:sQ,m:rQ,M:aQ,p:U,q:nQ,Q:cQ,s:dQ,S:oQ,u:XX,U:QX,V:ZX,w:JX,W:eQ,x:we,X:B,y:bR,Y:yR,Z:tQ,"%":uQ};N.x=D(n,N),N.X=D(r,N),N.c=D(t,N),I.x=D(n,I),I.X=D(r,I),I.c=D(t,I);function D(Q,ve){return function(Ie){var ae=[],me=-1,ye=0,Le=Q.length,oe,Fe,Pt;for(Ie instanceof Date||(Ie=new Date(+Ie));++me<Le;)Q.charCodeAt(me)===37&&(ae.push(Q.slice(ye,me)),(Fe=vR[oe=Q.charAt(++me)])!=null?oe=Q.charAt(++me):Fe=oe==="e"?" ":"0",(Pt=ve[oe])&&(oe=Pt(Ie,Fe)),ae.push(oe),ye=me+1);return ae.push(Q.slice(ye,me)),ae.join("")}}function k(Q,ve){return function(Ie){var ae=xu(1900,void 0,1),me=G(ae,Q,Ie+="",0),ye,Le;if(me!=Ie.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ve&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(ye=my(xu(ae.y,0,1)),Le=ye.getUTCDay(),ye=Le>4||Le===0?dh.ceil(ye):dh(ye),ye=ap.offset(ye,(ae.V-1)*7),ae.y=ye.getUTCFullYear(),ae.m=ye.getUTCMonth(),ae.d=ye.getUTCDate()+(ae.w+6)%7):(ye=py(xu(ae.y,0,1)),Le=ye.getDay(),ye=Le>4||Le===0?ch.ceil(ye):ch(ye),ye=hc.offset(ye,(ae.V-1)*7),ae.y=ye.getFullYear(),ae.m=ye.getMonth(),ae.d=ye.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Le="Z"in ae?my(xu(ae.y,0,1)).getUTCDay():py(xu(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Le+5)%7:ae.w+ae.U*7-(Le+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,my(ae)):py(ae)}}function G(Q,ve,Ie,ae){for(var me=0,ye=ve.length,Le=Ie.length,oe,Fe;me<ye;){if(ae>=Le)return-1;if(oe=ve.charCodeAt(me++),oe===37){if(oe=ve.charAt(me++),Fe=M[oe in vR?ve.charAt(me++):oe],!Fe||(ae=Fe(Q,Ie,ae))<0)return-1}else if(oe!=Ie.charCodeAt(ae++))return-1}return ae}function U(Q,ve,Ie){var ae=f.exec(ve.slice(Ie));return ae?(Q.p=h.get(ae[0].toLowerCase()),Ie+ae[0].length):-1}function le(Q,ve,Ie){var ae=_.exec(ve.slice(Ie));return ae?(Q.w=S.get(ae[0].toLowerCase()),Ie+ae[0].length):-1}function W(Q,ve,Ie){var ae=m.exec(ve.slice(Ie));return ae?(Q.w=b.get(ae[0].toLowerCase()),Ie+ae[0].length):-1}function H(Q,ve,Ie){var ae=R.exec(ve.slice(Ie));return ae?(Q.m=P.get(ae[0].toLowerCase()),Ie+ae[0].length):-1}function re(Q,ve,Ie){var ae=T.exec(ve.slice(Ie));return ae?(Q.m=A.get(ae[0].toLowerCase()),Ie+ae[0].length):-1}function ge(Q,ve,Ie){return G(Q,t,ve,Ie)}function we(Q,ve,Ie){return G(Q,n,ve,Ie)}function B(Q,ve,Ie){return G(Q,r,ve,Ie)}function J(Q){return l[Q.getDay()]}function ce(Q){return a[Q.getDay()]}function ue(Q){return d[Q.getMonth()]}function Ce(Q){return u[Q.getMonth()]}function L(Q){return i[+(Q.getHours()>=12)]}function X(Q){return 1+~~(Q.getMonth()/3)}function he(Q){return l[Q.getUTCDay()]}function de(Q){return a[Q.getUTCDay()]}function K(Q){return d[Q.getUTCMonth()]}function fe(Q){return u[Q.getUTCMonth()]}function _e(Q){return i[+(Q.getUTCHours()>=12)]}function Ke(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ve=D(Q+="",N);return ve.toString=function(){return Q},ve},parse:function(Q){var ve=k(Q+="",!1);return ve.toString=function(){return Q},ve},utcFormat:function(Q){var ve=D(Q+="",I);return ve.toString=function(){return Q},ve},utcParse:function(Q){var ve=k(Q+="",!0);return ve.toString=function(){return Q},ve}}}var vR={"-":"",_:" ",0:"0"},cn=/^\s*\d+/,KX=/^%/,YX=/[\\^$*+?|[\]().{}]/g;function rt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function WX(e){return e.replace(YX,"\\$&")}function _u(e){return new RegExp("^(?:"+e.map(WX).join("|")+")","i")}function wu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function JX(e,t,n){var r=cn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function XX(e,t,n){var r=cn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function QX(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ZX(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function eQ(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yR(e,t,n){var r=cn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function bR(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tQ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nQ(e,t,n){var r=cn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function rQ(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function xR(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function iQ(e,t,n){var r=cn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _R(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function aQ(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function oQ(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function sQ(e,t,n){var r=cn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function lQ(e,t,n){var r=cn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uQ(e,t,n){var r=KX.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cQ(e,t,n){var r=cn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function dQ(e,t,n){var r=cn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function wR(e,t){return rt(e.getDate(),t,2)}function fQ(e,t){return rt(e.getHours(),t,2)}function hQ(e,t){return rt(e.getHours()%12||12,t,2)}function pQ(e,t){return rt(1+hc.count(Hi(e),e),t,3)}function ZD(e,t){return rt(e.getMilliseconds(),t,3)}function mQ(e,t){return ZD(e,t)+"000"}function gQ(e,t){return rt(e.getMonth()+1,t,2)}function vQ(e,t){return rt(e.getMinutes(),t,2)}function yQ(e,t){return rt(e.getSeconds(),t,2)}function bQ(e){var t=e.getDay();return t===0?7:t}function xQ(e,t){return rt(op.count(Hi(e)-1,e),t,2)}function e2(e){var t=e.getDay();return t>=4||t===0?al(e):al.ceil(e)}function _Q(e,t){return e=e2(e),rt(al.count(Hi(e),e)+(Hi(e).getDay()===4),t,2)}function wQ(e){return e.getDay()}function SQ(e,t){return rt(ch.count(Hi(e)-1,e),t,2)}function EQ(e,t){return rt(e.getFullYear()%100,t,2)}function TQ(e,t){return e=e2(e),rt(e.getFullYear()%100,t,2)}function AQ(e,t){return rt(e.getFullYear()%1e4,t,4)}function CQ(e,t){var n=e.getDay();return e=n>=4||n===0?al(e):al.ceil(e),rt(e.getFullYear()%1e4,t,4)}function NQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rt(t/60|0,"0",2)+rt(t%60,"0",2)}function SR(e,t){return rt(e.getUTCDate(),t,2)}function RQ(e,t){return rt(e.getUTCHours(),t,2)}function PQ(e,t){return rt(e.getUTCHours()%12||12,t,2)}function OQ(e,t){return rt(1+ap.count(Gi(e),e),t,3)}function t2(e,t){return rt(e.getUTCMilliseconds(),t,3)}function IQ(e,t){return t2(e,t)+"000"}function MQ(e,t){return rt(e.getUTCMonth()+1,t,2)}function DQ(e,t){return rt(e.getUTCMinutes(),t,2)}function kQ(e,t){return rt(e.getUTCSeconds(),t,2)}function jQ(e){var t=e.getUTCDay();return t===0?7:t}function LQ(e,t){return rt(sp.count(Gi(e)-1,e),t,2)}function n2(e){var t=e.getUTCDay();return t>=4||t===0?ol(e):ol.ceil(e)}function UQ(e,t){return e=n2(e),rt(ol.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function qQ(e){return e.getUTCDay()}function zQ(e,t){return rt(dh.count(Gi(e)-1,e),t,2)}function $Q(e,t){return rt(e.getUTCFullYear()%100,t,2)}function BQ(e,t){return e=n2(e),rt(e.getUTCFullYear()%100,t,2)}function HQ(e,t){return rt(e.getUTCFullYear()%1e4,t,4)}function GQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ol(e):ol.ceil(e),rt(e.getUTCFullYear()%1e4,t,4)}function VQ(){return"+0000"}function ER(){return"%"}function TR(e){return+e}function AR(e){return Math.floor(+e/1e3)}var js,r2,i2;FQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FQ(e){return js=FX(e),r2=js.format,js.parse,i2=js.utcFormat,js.utcParse,js}function KQ(e){return new Date(e)}function YQ(e){return e instanceof Date?+e:+new Date(+e)}function Ax(e,t,n,r,i,a,l,u,d,f){var h=fx(),m=h.invert,b=h.domain,_=f(".%L"),S=f(":%S"),T=f("%I:%M"),A=f("%I %p"),R=f("%a %d"),P=f("%b %d"),N=f("%B"),I=f("%Y");function M(D){return(d(D)<D?_:u(D)<D?S:l(D)<D?T:a(D)<D?A:r(D)<D?i(D)<D?R:P:n(D)<D?N:I)(D)}return h.invert=function(D){return new Date(m(D))},h.domain=function(D){return arguments.length?b(Array.from(D,YQ)):b().map(KQ)},h.ticks=function(D){var k=b();return e(k[0],k[k.length-1],D??10)},h.tickFormat=function(D,k){return k==null?M:f(k)},h.nice=function(D){var k=b();return(!D||typeof D.range!="function")&&(D=t(k[0],k[k.length-1],D??10)),D?b(GD(k,D)):h},h.copy=function(){return fc(h,Ax(e,t,n,r,i,a,l,u,d,f))},h}function WQ(){return Mr.apply(Ax(GX,VX,Hi,Ex,op,hc,wx,xx,To,r2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JQ(){return Mr.apply(Ax(BX,HX,Gi,Tx,sp,ap,Sx,_x,To,i2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lp(){var e=0,t=1,n,r,i,a,l=On,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(b){var _,S;return arguments.length?([_,S]=b,l=m(_,S),f):[l(0),l(1)]}}return f.range=h(ml),f.rangeRound=h(dx),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function Va(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function a2(){var e=Ga(lp()(On));return e.copy=function(){return Va(e,a2())},Xi.apply(e,arguments)}function o2(){var e=mx(lp()).domain([1,10]);return e.copy=function(){return Va(e,o2()).base(e.base())},Xi.apply(e,arguments)}function s2(){var e=gx(lp());return e.copy=function(){return Va(e,s2()).constant(e.constant())},Xi.apply(e,arguments)}function Cx(){var e=vx(lp());return e.copy=function(){return Va(e,Cx()).exponent(e.exponent())},Xi.apply(e,arguments)}function XQ(){return Cx.apply(null,arguments).exponent(.5)}function l2(){var e=[],t=On;function n(r){if(r!=null&&!isNaN(r=+r))return t((cc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ja),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>jJ(e,a/r))},n.copy=function(){return l2(t).domain(e)},Xi.apply(n,arguments)}function up(){var e=0,t=.5,n=1,r=1,i,a,l,u,d,f=On,h,m=!1,b;function _(T){return isNaN(T=+T)?b:(T=.5+((T=+h(T))-a)*(r*T<r*a?u:d),f(m?Math.max(0,Math.min(1,T)):T))}_.domain=function(T){return arguments.length?([e,t,n]=T,i=h(e=+e),a=h(t=+t),l=h(n=+n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,_):[e,t,n]},_.clamp=function(T){return arguments.length?(m=!!T,_):m},_.interpolator=function(T){return arguments.length?(f=T,_):f};function S(T){return function(A){var R,P,N;return arguments.length?([R,P,N]=A,f=uX(T,[R,P,N]),_):[f(0),f(.5),f(1)]}}return _.range=S(ml),_.rangeRound=S(dx),_.unknown=function(T){return arguments.length?(b=T,_):b},function(T){return h=T,i=T(e),a=T(t),l=T(n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,_}}function u2(){var e=Ga(up()(On));return e.copy=function(){return Va(e,u2())},Xi.apply(e,arguments)}function c2(){var e=mx(up()).domain([.1,1,10]);return e.copy=function(){return Va(e,c2()).base(e.base())},Xi.apply(e,arguments)}function d2(){var e=gx(up());return e.copy=function(){return Va(e,d2()).constant(e.constant())},Xi.apply(e,arguments)}function Nx(){var e=vx(up());return e.copy=function(){return Va(e,Nx()).exponent(e.exponent())},Xi.apply(e,arguments)}function QQ(){return Nx.apply(null,arguments).exponent(.5)}const Tu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lx,scaleDiverging:u2,scaleDivergingLog:c2,scaleDivergingPow:Nx,scaleDivergingSqrt:QQ,scaleDivergingSymlog:d2,scaleIdentity:HD,scaleImplicit:$0,scaleLinear:BD,scaleLog:VD,scaleOrdinal:sx,scalePoint:qJ,scalePow:yx,scaleQuantile:YD,scaleQuantize:WD,scaleRadial:KD,scaleSequential:a2,scaleSequentialLog:o2,scaleSequentialPow:Cx,scaleSequentialQuantile:l2,scaleSequentialSqrt:XQ,scaleSequentialSymlog:s2,scaleSqrt:IX,scaleSymlog:FD,scaleThreshold:JD,scaleTime:WQ,scaleUtc:JQ,tickFormat:$D},Symbol.toStringTag,{value:"Module"}));var Fa=e=>e.chartData,ZQ=ee([Fa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Rx=(e,t,n,r)=>r?ZQ(e):Fa(e);function za(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(un(t)&&un(n))return!0}return!1}function CR(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function f2(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(un(n))i=n;else if(typeof n=="function")return;if(un(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(za(l))return l}}function eZ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(za(r))return CR(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(je(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&tN.test(i)){var d=tN.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(je(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&nN.test(a)){var h=nN.exec(a);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t==null?void 0:t[1];var b=[l,u];if(za(b))return t==null?b:CR(b,t,n)}}}var gl=1e9,tZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ox,Nt=!0,Ir="[DecimalError] ",Oo=Ir+"Invalid argument: ",Px=Ir+"Exponent out of range: ",vl=Math.floor,bo=Math.pow,nZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,on=1e7,St=7,h2=9007199254740991,fh=vl(h2/St),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*St;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(e){return ji(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,n=t.constructor;return mt(ji(t,new n(e),0,1),n.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return Gt(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(lr))throw Error(Ir+"NaN");if(n.s<1)throw Error(Ir+(n.s?"NaN":"-Infinity"));return n.eq(lr)?new r(0):(Nt=!1,t=ji(Wu(n,a),Wu(e,a),a),Nt=!0,mt(t,i))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g2(t,e):p2(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ir+"NaN");return n.s?(Nt=!1,t=ji(n,e,0,1).times(e),Nt=!0,n.minus(t)):mt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return m2(this)};Ee.naturalLogarithm=Ee.ln=function(){return Wu(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?p2(t,e):g2(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Oo+e);if(t=Gt(i)+1,r=i.d.length-1,n=r*St+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ee.squareRoot=Ee.sqrt=function(){var e,t,n,r,i,a,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Ir+"NaN")}for(e=Gt(u),Nt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=ti(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=vl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(a=r,r=a.plus(ji(u,a,l+2)).times(.5),ti(a.d).slice(0,l)===(t=ti(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(mt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;l+=4}return Nt=!0,mt(r,n)};Ee.times=Ee.mul=function(e){var t,n,r,i,a,l,u,d,f,h=this,m=h.constructor,b=h.d,_=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,d=b.length,f=_.length,d<f&&(a=b,b=_,_=a,l=d,d=f,f=l),a=[],l=d+f,r=l;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=a[i]+_[r]*b[i-r-1]+t,a[i--]=u%on|0,t=u/on|0;a[i]=(a[i]+t)%on|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Nt?mt(e,m.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(si(e,0,gl),t===void 0?t=r.rounding:si(t,0,8),mt(n,e+Gt(n)+1,t))};Ee.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Do(r,!0):(si(e,0,gl),t===void 0?t=i.rounding:si(t,0,8),r=mt(new i(r),e+1,t),n=Do(r,!0,e+1)),n};Ee.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Do(i):(si(e,0,gl),t===void 0?t=a.rounding:si(t,0,8),r=mt(new a(i),e+Gt(i)+1,t),n=Do(r.abs(),!1,e+Gt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return mt(new t(e),Gt(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,n,r,i,a,l,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(lr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Ir+"Infinity");return u}if(u.eq(lr))return u;if(r=d.precision,e.eq(lr))return mt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=u.s,l){if((n=h<0?-h:h)<=h2){for(i=new d(lr),t=Math.ceil(r/St+4),Nt=!1;n%2&&(i=i.times(u),RR(i.d,t)),n=vl(n/2),n!==0;)u=u.times(u),RR(u.d,t);return Nt=!0,e.s<0?new d(lr).div(i):mt(i,r)}}else if(a<0)throw Error(Ir+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,Nt=!1,i=e.times(Wu(u,r+f)),Nt=!0,i=m2(i),i.s=a,i};Ee.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Gt(i),r=Do(i,n<=a.toExpNeg||n>=a.toExpPos)):(si(e,1,gl),t===void 0?t=a.rounding:si(t,0,8),i=mt(new a(i),e,t),n=Gt(i),r=Do(i,e<=n||n<=a.toExpNeg,e)),r};Ee.toSignificantDigits=Ee.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(si(e,1,gl),t===void 0?t=r.rounding:si(t,0,8)),mt(new r(n),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Gt(e),n=e.constructor;return Do(e,t<=n.toExpNeg||t>=n.toExpPos)};function p2(e,t){var n,r,i,a,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Nt?mt(t,m):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),a=l-i,a){for(a<0?(r=d,a=-a,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(m/St),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=d.length,a=f.length,u-a<0&&(a=u,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/on|0,d[a]%=on;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,Nt?mt(t,m):t}function si(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Oo+e)}function ti(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=St-r.length,n&&(a+=Oa(n)),a+=r;l=e[t],r=l+"",n=St-r.length,n&&(a+=Oa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var ji=(function(){function e(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%on|0,l=a/on|0;return l&&r.unshift(l),r}function t(r,i,a,l){var u,d;if(a!=l)d=a>l?1:-1;else for(u=d=0;u<a;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*on+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,d,f,h,m,b,_,S,T,A,R,P,N,I,M,D,k,G,U=r.constructor,le=r.s==i.s?1:-1,W=r.d,H=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(Ir+"Division by zero");for(d=r.e-i.e,k=H.length,M=W.length,_=new U(le),S=_.d=[],f=0;H[f]==(W[f]||0);)++f;if(H[f]>(W[f]||0)&&--d,a==null?P=a=U.precision:l?P=a+(Gt(r)-Gt(i))+1:P=a,P<0)return new U(0);if(P=P/St+2|0,f=0,k==1)for(h=0,H=H[0],P++;(f<M||h)&&P--;f++)N=h*on+(W[f]||0),S[f]=N/H|0,h=N%H|0;else{for(h=on/(H[0]+1)|0,h>1&&(H=e(H,h),W=e(W,h),k=H.length,M=W.length),I=k,T=W.slice(0,k),A=T.length;A<k;)T[A++]=0;G=H.slice(),G.unshift(0),D=H[0],H[1]>=on/2&&++D;do h=0,u=t(H,T,k,A),u<0?(R=T[0],k!=A&&(R=R*on+(T[1]||0)),h=R/D|0,h>1?(h>=on&&(h=on-1),m=e(H,h),b=m.length,A=T.length,u=t(m,T,b,A),u==1&&(h--,n(m,k<b?G:H,b))):(h==0&&(u=h=1),m=H.slice()),b=m.length,b<A&&m.unshift(0),n(T,m,A),u==-1&&(A=T.length,u=t(H,T,k,A),u<1&&(h++,n(T,k<A?G:H,A))),A=T.length):u===0&&(h++,T=[0]),S[f++]=h,u&&T[0]?T[A++]=W[I]||0:(T=[W[I]],A=1);while((I++<M||T[0]!==void 0)&&P--)}return S[0]||S.shift(),_.e=d,mt(_,l?a+Gt(_)+1:a)}})();function m2(e,t){var n,r,i,a,l,u,d=0,f=0,h=e.constructor,m=h.precision;if(Gt(e)>16)throw Error(Px+Gt(e));if(!e.s)return new h(lr);for(Nt=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(bo(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(lr),h.precision=u;;){if(i=mt(i.times(e),u),n=n.times(++d),l=a.plus(ji(i,n,u)),ti(l.d).slice(0,u)===ti(a.d).slice(0,u)){for(;f--;)a=mt(a.times(a),u);return h.precision=m,t==null?(Nt=!0,mt(a,m)):a}a=l}}function Gt(e){for(var t=e.e*St,n=e.d[0];n>=10;n/=10)t++;return t}function gy(e,t,n){if(t>e.LN10.sd())throw Nt=!0,n&&(e.precision=n),Error(Ir+"LN10 precision limit exceeded");return mt(new e(e.LN10),t)}function Oa(e){for(var t="";e--;)t+="0";return t}function Wu(e,t){var n,r,i,a,l,u,d,f,h,m=1,b=10,_=e,S=_.d,T=_.constructor,A=T.precision;if(_.s<1)throw Error(Ir+(_.s?"NaN":"-Infinity"));if(_.eq(lr))return new T(0);if(t==null?(Nt=!1,f=A):f=t,_.eq(10))return t==null&&(Nt=!0),gy(T,f);if(f+=b,T.precision=f,n=ti(S),r=n.charAt(0),a=Gt(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=ti(_.d),r=n.charAt(0),m++;a=Gt(_),r>1?(_=new T("0."+n),a++):_=new T(r+"."+n.slice(1))}else return d=gy(T,f+2,A).times(a+""),_=Wu(new T(r+"."+n.slice(1)),f-b).plus(d),T.precision=A,t==null?(Nt=!0,mt(_,A)):_;for(u=l=_=ji(_.minus(lr),_.plus(lr),f),h=mt(_.times(_),f),i=3;;){if(l=mt(l.times(h),f),d=u.plus(ji(l,new T(i),f)),ti(d.d).slice(0,f)===ti(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(gy(T,f+2,A).times(a+""))),u=ji(u,new T(m),f),T.precision=A,t==null?(Nt=!0,mt(u,A)):u;u=d,i+=2}}function NR(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=vl(n/St),e.d=[],r=(n+1)%St,n<0&&(r+=St),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=St;r<i;)e.d.push(+t.slice(r,r+=St));t=t.slice(r),r=St-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Nt&&(e.e>fh||e.e<-fh))throw Error(Px+n)}else e.s=0,e.e=0,e.d=[0];return e}function mt(e,t,n){var r,i,a,l,u,d,f,h,m=e.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=St,i=t,f=m[h=0];else{if(h=Math.ceil((r+1)/St),a=m.length,h>=a)return e;for(f=a=m[h],l=1;a>=10;a/=10)l++;r%=St,i=r-St+l}if(n!==void 0&&(a=bo(10,l-i-1),u=f/a%10|0,d=t<0||m[h+1]!==void 0||f%a,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/bo(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(a=Gt(e),m.length=1,t=t-a-1,m[0]=bo(10,(St-t%St)%St),e.e=vl(-t/St)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=bo(10,St-r),m[h]=i>0?(f/bo(10,l-i)%bo(10,i)|0)*a:0),d)for(;;)if(h==0){(m[0]+=a)==on&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=on)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(Nt&&(e.e>fh||e.e<-fh))throw Error(Px+Gt(e));return e}function g2(e,t){var n,r,i,a,l,u,d,f,h,m,b=e.constructor,_=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),Nt?mt(t,_):t;if(d=e.d,m=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(h=l<0,h?(n=d,l=-l,u=m.length):(n=m,r=f,u=d.length),i=Math.max(Math.ceil(_/St),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){h=d[i]<m[i];break}l=0}for(h&&(n=d,d=m,m=n,t.s=-t.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(a=i;a&&d[--a]===0;)d[a]=on-1;--d[a],d[i]+=on}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,Nt?mt(t,_):t):new b(0)}function Do(e,t,n){var r,i=Gt(e),a=ti(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+Oa(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Oa(-i-1)+a,n&&(r=n-l)>0&&(a+=Oa(r))):i>=l?(a+=Oa(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+Oa(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=Oa(r))),e.s<0?"-"+a:a}function RR(e,t){if(e.length>t)return e.length=t,!0}function v2(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Oo+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return NR(l,a.toString())}else if(typeof a!="string")throw Error(Oo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,nZ.test(a))NR(l,a);else throw Error(Oo+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=v2,i.config=i.set=rZ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function rZ(e){if(!e||typeof e!="object")throw Error(Ir+"Object expected");var t,n,r,i=["precision",1,gl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(vl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Oo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Oo+n+": "+r);return this}var Ox=v2(tZ);lr=new Ox(1);const lt=Ox;var iZ=e=>e,y2={},b2=e=>e===y2,PR=e=>function t(){return arguments.length===0||arguments.length===1&&b2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},x2=(e,t)=>e===1?t:PR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==y2).length;return a>=e?t(...r):x2(e-a,PR(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=r.map(h=>b2(h)?u.shift():h);return t(...f,...u)}))}),aZ=e=>x2(e.length,e),V0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},oZ=aZ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),sZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return iZ;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),a(...arguments))}},F0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function _2(e){var t;return e===0?t=1:t=Math.floor(new lt(e).abs().log(10).toNumber())+1,t}function w2(e,t,n){for(var r=new lt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var S2=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},E2=(e,t,n)=>{if(e.lte(0))return new lt(0);var r=_2(e.toNumber()),i=new lt(10).pow(r),a=e.div(i),l=r!==1?.05:.1,u=new lt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new lt(d.toNumber()):new lt(Math.ceil(d.toNumber()))},lZ=(e,t,n)=>{var r=new lt(1),i=new lt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new lt(10).pow(_2(e)-1),i=new lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new lt(Math.floor(e)))}else e===0?i=new lt(Math.floor((t-1)/2)):n||(i=new lt(Math.floor(e)));var l=Math.floor((t-1)/2),u=sZ(oZ(d=>i.add(new lt(d-l).mul(r)).toNumber()),V0);return u(0,t)},T2=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var l=E2(new lt(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new lt(0):(u=new lt(t).add(n).div(2),u=u.sub(new lt(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new lt(n).sub(u).div(l).toNumber()),h=d+f+1;return h>r?T2(t,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,d=n>0?d:d+(r-h)),{step:l,tickMin:u.sub(new lt(d).mul(l)),tickMax:u.add(new lt(f).mul(l))})},uZ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=S2([n,r]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...V0(0,i-1).map(()=>1/0)]:[...V0(0,i-1).map(()=>-1/0),d];return n>r?F0(f):f}if(u===d)return lZ(u,i,a);var{step:h,tickMin:m,tickMax:b}=T2(u,d,l,a,0),_=w2(m,b.add(new lt(.1).mul(h)),h);return n>r?F0(_):_},cZ=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=S2([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),f=E2(new lt(u).sub(l).div(d-1),a,0),h=[...w2(new lt(l),new lt(u),f),u];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?F0(h):h},dZ=e=>e.rootProps.barCategoryGap,cp=e=>e.rootProps.stackOffset,A2=e=>e.rootProps.reverseStackOrder,Ix=e=>e.options.chartName,Mx=e=>e.rootProps.syncId,C2=e=>e.rootProps.syncMethod,Dx=e=>e.options.eventEmitter,In={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Oi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ar={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},fZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Oi.angleAxisId,includeHidden:!1,name:void 0,reversed:Oi.reversed,scale:Oi.scale,tick:Oi.tick,tickCount:void 0,ticks:void 0,type:Oi.type,unit:void 0},hZ={allowDataOverflow:ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,ticks:void 0,type:ar.type,unit:void 0},pZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},mZ={allowDataOverflow:ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,ticks:void 0,type:"category",unit:void 0},kx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?pZ:fZ,jx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?mZ:hZ,fp=e=>e.polarOptions,Lx=ee([Wi,Ji,xn],cJ),N2=ee([fp,Lx],(e,t)=>{if(e!=null)return qa(e.innerRadius,t,0)}),R2=ee([fp,Lx],(e,t)=>{if(e!=null)return qa(e.outerRadius,t,t*.8)}),gZ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},P2=ee([fp],gZ);ee([kx,P2],dp);var O2=ee([Lx,N2,R2],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ee([jx,O2],dp);var I2=ee([Et,fp,N2,R2,Wi,Ji],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:qa(l,i,i/2),cy:qa(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Xt=(e,t)=>t,hp=(e,t,n)=>n;function M2(e){return e==null?void 0:e.id}function D2(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var h=M2(u);f.forEach((m,b)=>{var _=a==null||i?b:String(An(m,a,null)),S=An(m,u.dataKey,0),T;l.has(_)?T=l.get(_):T={},Object.assign(T,{[h]:S}),l.set(_,T)})}}),Array.from(l.values())}function Ux(e){return e.stackId!=null&&e.dataKey!=null}var pp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function mp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function vZ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Qt=e=>{var t=Et(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},yl=e=>e.tooltip.settings.axisId;function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(r){yZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yZ(e,t,n){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K0=[0,"auto"],rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},k2=(e,t)=>e.cartesianAxis.xAxis[t],Qi=(e,t)=>{var n=k2(e,t);return n??rn},an={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:K0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sc},j2=(e,t)=>e.cartesianAxis.yAxis[t],Zi=(e,t)=>{var n=j2(e,t);return n??an},_Z={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??_Z},kn=(e,t,n)=>{switch(t){case"xAxis":return Qi(e,n);case"yAxis":return Zi(e,n);case"zAxis":return qx(e,n);case"angleAxis":return kx(e,n);case"radiusAxis":return jx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},wZ=(e,t,n)=>{switch(t){case"xAxis":return Qi(e,n);case"yAxis":return Zi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pc=(e,t,n)=>{switch(t){case"xAxis":return Qi(e,n);case"yAxis":return Zi(e,n);case"angleAxis":return kx(e,n);case"radiusAxis":return jx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},L2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function U2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var q2=e=>e.graphicalItems.cartesianItems,SZ=ee([Xt,hp],U2),z2=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),mc=ee([q2,kn,SZ],z2,{memoizeOptions:{resultEqualityCheck:mp}}),$2=ee([mc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ux)),B2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),EZ=ee([mc],B2),H2=e=>e.map(t=>t.data).filter(Boolean).flat(1),TZ=ee([mc],H2,{memoizeOptions:{resultEqualityCheck:mp}}),G2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},zx=ee([TZ,Rx],G2),V2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:An(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:An(i,r)}))):e.map(r=>({value:r})),gp=ee([zx,kn,mc],V2);function F2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function yf(e){if(ai(e)||e instanceof Date){var t=Number(e);if(un(t))return t}}function IR(e){if(Array.isArray(e)){var t=[yf(e[0]),yf(e[1])];return za(t)?t:void 0}var n=yf(e);if(n!=null)return[n,n]}function Vi(e){return e.map(yf).filter(g7)}function AZ(e,t,n){return!n||typeof t!="number"||ii(t)?[]:n.length?Vi(n.flatMap(r=>{var i=An(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!un(a)||!un(l)))return[t-a,t+l]})):[]}var Zt=e=>{var t=Qt(e),n=yl(e);return pc(e,t,n)},gc=ee([Zt],e=>e==null?void 0:e.dataKey),CZ=ee([$2,Rx,Zt],D2),K2=(e,t,n,r)=>{var i={},a=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(a).map(l=>{var[u,d]=l,f=r?[...d].reverse():d,h=f.map(M2);return[u,{stackedData:BK(e,h,n),graphicalItems:f}]}))},NZ=ee([CZ,$2,cp,A2],K2),Y2=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=VK(e,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},RZ=ee([kn],e=>e.allowDataOverflow),$x=e=>{var t;if(e==null||!("domain"in e))return K0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Vi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:K0},W2=ee([kn],$x),J2=ee([W2,RZ],f2),PZ=ee([NZ,Fa,Xt,J2],Y2,{memoizeOptions:{resultEqualityCheck:pp}}),Bx=e=>e.errorBars,OZ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>F2(n,r)),ph=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},X2=(e,t,n,r,i)=>{var a,l;if(n.length>0&&e.forEach(u=>{n.forEach(d=>{var f,h,m=(f=r[d.id])===null||f===void 0?void 0:f.filter(R=>F2(i,R)),b=An(u,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),_=AZ(u,b,m);if(_.length>=2){var S=Math.min(..._),T=Math.max(..._);(a==null||S<a)&&(a=S),(l==null||T>l)&&(l=T)}var A=IR(b);A!=null&&(a=a==null?A[0]:Math.min(a,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=IR(An(u,t.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),un(a)&&un(l))return[a,l]},IZ=ee([zx,kn,EZ,Bx,Xt],X2,{memoizeOptions:{resultEqualityCheck:pp}});function MZ(e){var{value:t}=e;if(ai(t)||t instanceof Date)return t}var DZ=(e,t,n)=>{var r=e.map(MZ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&sM(r))?OD(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Q2=e=>e.referenceElements.dots,bl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),kZ=ee([Q2,Xt,hp],bl),Z2=e=>e.referenceElements.areas,jZ=ee([Z2,Xt,hp],bl),ek=e=>e.referenceElements.lines,LZ=ee([ek,Xt,hp],bl),tk=(e,t)=>{var n=Vi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},UZ=ee(kZ,Xt,tk),nk=(e,t)=>{var n=Vi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qZ=ee([jZ,Xt],nk);function zZ(e){var t;if(e.x!=null)return Vi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Vi(n)}function $Z(e){var t;if(e.y!=null)return Vi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Vi(n)}var rk=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?zZ(r):$Z(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},BZ=ee([LZ,Xt],rk),HZ=ee(UZ,BZ,qZ,(e,t,n)=>ph(e,n,t)),ik=(e,t,n,r,i,a,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?ph(r,a,i):ph(a,i);return eZ(t,f,e.allowDataOverflow)},GZ=ee([kn,W2,J2,PZ,IZ,HZ,Et,Xt],ik,{memoizeOptions:{resultEqualityCheck:pp}}),VZ=[0,1],ak=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=Ha(t,a);if(f&&u==null){var h;return OD(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return d==="category"?DZ(r,e,f):i==="expand"?VZ:l}},Hx=ee([kn,Et,zx,gp,cp,Xt,GZ],ak),ok=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(nc(a));return u in Tu?u:"point"}}},vc=ee([kn,Et,L2,Ix,Xt],ok);function FZ(e){if(e!=null){if(e in Tu)return Tu[e]();var t="scale".concat(nc(e));if(t in Tu)return Tu[t]()}}function Gx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=FZ(t);if(i!=null){var a=i.domain(n).range(r);return UK(a),a}}}var sk=(e,t,n)=>{var r=$x(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&za(e))return uZ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&za(e))return cZ(e,t.tickCount,t.allowDecimals)}},Vx=ee([Hx,pc,vc],sk),lk=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&za(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return t},KZ=ee([kn,Hx,Vx,Xt],lk),YZ=ee(gp,kn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Vi(e.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),uk=ee(YZ,Et,dZ,xn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!un(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=qa(n,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),WZ=(e,t)=>{var n=Qi(e,t);return n==null||typeof n.padding!="string"?0:uk(e,"xAxis",t,n.padding)},JZ=(e,t)=>{var n=Zi(e,t);return n==null||typeof n.padding!="string"?0:uk(e,"yAxis",t,n.padding)},XZ=ee(Qi,WZ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),QZ=ee(Zi,JZ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),ZZ=ee([xn,XZ,Xh,Jh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),eee=ee([xn,Et,QZ,Xh,Jh,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),yc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return ZZ(e,n,r);case"yAxis":return eee(e,n,r);case"zAxis":return(i=qx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return P2(e);case"radiusAxis":return O2(e,n);default:return}},ck=ee([kn,yc],dp),xl=ee([kn,vc,KZ,ck],Gx);ee([mc,Bx,Xt],OZ);function dk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var vp=(e,t)=>t,yp=(e,t,n)=>n,tee=ee(Yh,vp,yp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(dk)),nee=ee(Wh,vp,yp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(dk)),fk=(e,t)=>({width:e.width,height:t.height}),ree=(e,t)=>{var n=typeof t.width=="number"?t.width:sc;return{width:n,height:e.height}},iee=ee(xn,Qi,fk),aee=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},oee=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},see=ee(Ji,xn,tee,vp,yp,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=fk(t,u);l==null&&(l=aee(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),a}),lee=ee(Wi,xn,nee,vp,yp,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=ree(t,u);l==null&&(l=oee(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),a}),uee=(e,t)=>{var n=Qi(e,t);if(n!=null)return see(e,n.orientation,n.mirror)},cee=ee([xn,Qi,uee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),dee=(e,t)=>{var n=Zi(e,t);if(n!=null)return lee(e,n.orientation,n.mirror)},fee=ee([xn,Zi,dee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),hee=ee(xn,Zi,(e,t)=>{var n=typeof t.width=="number"?t.width:sc;return{width:n,height:e.height}}),hk=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=Ha(e,r),d=t.map(f=>f.value);if(l&&u&&a==="category"&&i&&sM(d))return d}},Fx=ee([Et,gp,kn,Xt],hk),pk=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=Ha(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},Kx=ee([Et,gp,pc,Xt],pk),MR=ee([Et,wZ,vc,xl,Fx,Kx,yc,Vx,Xt],(e,t,n,r,i,a,l,u,d)=>{if(t!=null){var f=Ha(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}}),pee=(e,t,n,r,i,a,l,u,d)=>{if(!(t==null||r==null)){var f=Ha(e,d),{type:h,ticks:m,tickCount:b}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/_:0;S=d==="angleAxis"&&a!=null&&a.length>=2?Nr(a[0]-a[1])*2*S:S;var T=m||i;if(T){var A=T.map((R,P)=>{var N=l?l.indexOf(R):R;return{index:P,coordinate:r(N)+S,value:R,offset:S}});return A.filter(R=>un(R.coordinate))}return f&&u?u.map((R,P)=>({coordinate:r(R)+S,value:R,index:P,offset:S})).filter(R=>un(R.coordinate)):r.ticks?r.ticks(b).map(R=>({coordinate:r(R)+S,value:R,offset:S})):r.domain().map((R,P)=>({coordinate:r(R)+S,value:l?l[R]:R,index:P,offset:S}))}},mk=ee([Et,pc,vc,xl,Vx,yc,Fx,Kx,Xt],pee),mee=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Ha(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Nr(r[0]-r[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.ticks?n.ticks(d).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}},gk=ee([Et,pc,xl,yc,Fx,Kx,Xt],mee),vk=ee(kn,xl,(e,t)=>{if(!(e==null||t==null))return hh(hh({},e),{},{scale:t})}),gee=ee([kn,vc,Hx,ck],Gx);ee((e,t,n)=>qx(e,n),gee,(e,t)=>{if(!(e==null||t==null))return hh(hh({},e),{},{scale:t})});var vee=ee([Et,Yh,Wh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yk=e=>e.options.defaultTooltipEventType,bk=e=>e.options.validateTooltipEventTypes;function xk(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Yx(e,t){var n=yk(e),r=bk(e);return xk(t,n,r)}function yee(e){return Me(t=>Yx(t,e))}var _k=(e,t)=>{var n,r=Number(t);if(!(ii(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},bee=e=>e.tooltip.settings,Da={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},xee={itemInteraction:{click:Da,hover:Da},axisInteraction:{click:Da,hover:Da},keyboardInteraction:Da,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},wk=Yn({name:"tooltip",initialState:xee,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:At()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Hr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:At()},removeTooltipEntrySettings:{reducer(e,t){var n=Hr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:At()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_ee,replaceTooltipEntrySettings:wee,removeTooltipEntrySettings:See,setTooltipSettingsState:Eee,setActiveMouseOverItemIndex:Tee,mouseLeaveItem:sle,mouseLeaveChart:Sk,setActiveClickItemIndex:lle,setMouseOverAxisIndex:Ek,setMouseClickAxisIndex:Aee,setSyncInteraction:Y0,setKeyboardInteraction:W0}=wk.actions,Cee=wk.reducer;function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){Nee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nee(e,t,n){return(t=Ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ree(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oee(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Iee(e){return e.index!=null}var Tk=(e,t,n,r)=>{if(t==null)return Da;var i=Oee(e,t,n);if(i==null)return Da;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Iee(i)){if(a)return sf(sf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return sf(sf({},Da),{},{coordinate:i.coordinate})};function Mee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Dee(e,t){var n=Mee(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function kee(e,t,n){if(n==null||t==null)return!0;var r=An(e,t);return r==null||!za(n)?!0:Dee(r,n)}var Wx=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!un(a))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(a,u)),f=t[d];return f==null||kee(f,n,r)?String(d):null},Ak=(e,t,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,a);if(f!=null)return f;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},Ck=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},bc=e=>e.options.tooltipPayloadSearcher,_l=e=>e.tooltip;function kR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(n),!0).forEach(function(r){jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jee(e,t,n){return(t=Lee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qee(e,t){return e??t}var Nk=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:h}=n,m=[];return e.reduce((b,_)=>{var S,{dataDefinedOnItem:T,settings:A}=_,R=qee(T,u),P=Array.isArray(R)?nD(R,f,h):R,N=(S=A==null?void 0:A.dataKey)!==null&&S!==void 0?S:r,I=A==null?void 0:A.nameKey,M;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?M=lM(P,r,i):M=a(P,t,d,I),Array.isArray(M))M.forEach(k=>{var G=jR(jR({},A),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});b.push(rN({tooltipEntrySettings:G,dataKey:k.dataKey,payload:k.payload,value:An(k.payload,k.dataKey),name:k.name}))});else{var D;b.push(rN({tooltipEntrySettings:A,dataKey:N,payload:M,value:An(M,N),name:(D=An(M,I))!==null&&D!==void 0?D:A==null?void 0:A.name}))}return b},m)}},Jx=ee([Zt,Et,L2,Ix,Qt],ok),zee=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),$ee=ee([Qt,yl],U2),xc=ee([zee,Zt,$ee],z2,{memoizeOptions:{resultEqualityCheck:mp}}),Bee=ee([xc],e=>e.filter(Ux)),Hee=ee([xc],H2,{memoizeOptions:{resultEqualityCheck:mp}}),wl=ee([Hee,Fa],G2),Gee=ee([Bee,Fa,Zt],D2),Xx=ee([wl,Zt,xc],V2),Rk=ee([Zt],$x),Vee=ee([Zt],e=>e.allowDataOverflow),Pk=ee([Rk,Vee],f2),Fee=ee([xc],e=>e.filter(Ux)),Kee=ee([Gee,Fee,cp,A2],K2),Yee=ee([Kee,Fa,Qt,Pk],Y2),Wee=ee([xc],B2),Jee=ee([wl,Zt,Wee,Bx,Qt],X2,{memoizeOptions:{resultEqualityCheck:pp}}),Xee=ee([Q2,Qt,yl],bl),Qee=ee([Xee,Qt],tk),Zee=ee([Z2,Qt,yl],bl),ete=ee([Zee,Qt],nk),tte=ee([ek,Qt,yl],bl),nte=ee([tte,Qt],rk),rte=ee([Qee,nte,ete],ph),ite=ee([Zt,Rk,Pk,Yee,Jee,rte,Et,Qt],ik),_c=ee([Zt,Et,wl,Xx,cp,Qt,ite],ak),ate=ee([_c,Zt,Jx],sk),ote=ee([Zt,_c,ate,Qt],lk),Ok=e=>{var t=Qt(e),n=yl(e),r=!1;return yc(e,t,n,r)},Ik=ee([Zt,Ok],dp),Mk=ee([Zt,Jx,ote,Ik],Gx),ste=ee([Et,Xx,Zt,Qt],hk),lte=ee([Et,Xx,Zt,Qt],pk),ute=(e,t,n,r,i,a,l,u)=>{if(t){var{type:d}=t,f=Ha(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Nr(i[0]-i[1])*2*m:m,f&&l?l.map((b,_)=>({coordinate:r(b)+m,value:b,index:_,offset:m})):r.domain().map((b,_)=>({coordinate:r(b)+m,value:a?a[b]:b,index:_,offset:m}))}}},ea=ee([Et,Zt,Jx,Mk,Ok,ste,lte,Qt],ute),Qx=ee([yk,bk,bee],(e,t,n)=>xk(n.shared,e,t)),Dk=e=>e.tooltip.settings.trigger,Zx=e=>e.tooltip.settings.defaultIndex,wc=ee([_l,Qx,Dk,Zx],Tk),Ju=ee([wc,wl,gc,_c],Wx),kk=ee([ea,Ju],_k),cte=ee([wc],e=>{if(e)return e.dataKey});ee([wc],e=>{if(e)return e.graphicalItemId});var jk=ee([_l,Qx,Dk,Zx],Ck),dte=ee([Wi,Ji,Et,xn,ea,Zx,jk,bc],Ak),fte=ee([wc,dte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),hte=ee([wc],e=>e.active),pte=ee([jk,Ju,Fa,gc,kk,bc,Qx],Nk),mte=ee([pte],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(r){gte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gte(e,t,n){return(t=vte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bte=()=>Me(Zt),xte=()=>{var e=bte(),t=Me(ea),n=Me(Mk);return Kf(!e||!n?void 0:UR(UR({},e),{},{scale:n}),t)};function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){_te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _te(e,t,n){return(t=wte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wte(e){var t=Ste(e,"string");return typeof t=="symbol"?t:t+""}function Ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ete=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Tte=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:l}=r;return Ls(Ls(Ls({},r),bn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:d}=r;return Ls(Ls(Ls({},r),bn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ate(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Lk=(e,t,n,r,i)=>{var a,l=-1,u=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?n[d-1].coordinate:n[u-1].coordinate,h=n[d].coordinate,m=d>=u-1?n[0].coordinate:n[d+1].coordinate,b=void 0;if(Nr(h-f)!==Nr(m-h)){var _=[];if(Nr(m-h)===Nr(i[1]-i[0])){b=m;var S=h+i[1]-i[0];_[0]=Math.min(S,(S+f)/2),_[1]=Math.max(S,(S+f)/2)}else{b=f;var T=m+i[1]-i[0];_[0]=Math.min(h,(T+h)/2),_[1]=Math.max(h,(T+h)/2)}var A=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>A[0]&&e<=A[1]||e>=_[0]&&e<=_[1]){({index:l}=n[d]);break}}else{var R=Math.min(f,m),P=Math.max(f,m);if(e>(R+h)/2&&e<=(P+h)/2){({index:l}=n[d]);break}}}else if(t){for(var N=0;N<u;N++)if(N===0&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N>0&&N<u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N===u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2){({index:l}=t[N]);break}}return l},Cte=()=>Me(Ix),e_=(e,t)=>t,Uk=(e,t,n)=>n,t_=(e,t,n,r)=>r,Nte=ee(ea,e=>qh(e,t=>t.coordinate)),n_=ee([_l,e_,Uk,t_],Tk),r_=ee([n_,wl,gc,_c],Wx),Rte=(e,t,n)=>{if(t!=null){var r=_l(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},qk=ee([_l,e_,Uk,t_],Ck),mh=ee([Wi,Ji,Et,xn,ea,t_,qk,bc],Ak),Pte=ee([n_,mh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),zk=ee([ea,r_],_k),Ote=ee([qk,r_,Fa,gc,zk,bc,e_],Nk),Ite=ee([n_,r_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Mte=(e,t,n,r,i,a,l)=>{if(!(!e||!n||!r||!i)&&Ate(e,l)){var u=FK(e,t),d=Lk(u,a,i,n,r),f=Ete(t,i,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Dte=(e,t,n,r,i,a,l)=>{if(!(!e||!r||!i||!a||!n)){var u=mJ(e,n);if(u){var d=KK(u,t),f=Lk(d,l,a,r,i),h=Tte(t,a,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},kte=(e,t,n,r,i,a,l,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?Mte(e,t,r,i,a,l,u):Dte(e,t,n,r,i,a,l)},jte=ee(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Lte=ee(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(In)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:vZ}});function zR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $R(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(n),!0).forEach(function(r){Ute(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ute(e,t,n){return(t=qte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qte(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $te={},Bte={zIndexMap:Object.values(In).reduce((e,t)=>$R($R({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),$te)},Hte=new Set(Object.values(In));function Gte(e){return Hte.has(e)}var $k=Yn({name:"zIndex",initialState:Bte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:At()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Gte(n)&&delete e.zIndexMap[n])},prepare:At()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:At()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:At()}}}),{registerZIndexPortal:Vte,unregisterZIndexPortal:Fte,registerZIndexPortalId:Kte,unregisterZIndexPortalId:Yte}=$k.actions,Wte=$k.reducer;function ta(e){var{zIndex:t,children:n}=e,r=CY(),i=r&&t!==void 0&&t!==0,a=Wn(),l=Vt();E.useLayoutEffect(()=>i?(l(Vte({zIndex:t})),()=>{l(Fte({zIndex:t}))}):rc,[l,t,i]);var u=Me(f=>jte(f,t,a));if(!i)return n;if(!u)return null;var d=document.getElementById(u);return d?fb.createPortal(n,d):null}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J0.apply(null,arguments)}function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(n),!0).forEach(function(r){Jte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jte(e,t,n){return(t=Xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xte(e){var t=Qte(e,"string");return typeof t=="symbol"?t:t+""}function Qte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zte(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return E.isValidElement(t)?E.cloneElement(t,r):E.createElement(n,r)}function ene(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:h}=e,m=n,b=r,_=i;if(!d||!m||h!=="ScatterChart"&&f!=="axis")return null;var S,T,A;if(h==="ScatterChart")S=m,T=RW,A=In.cursorLine;else if(h==="BarChart")S=PW(u,m,a,l),T=CD,A=In.cursorRectangle;else if(u==="radial"&&cM(m)){var{cx:R,cy:P,radius:N,startAngle:I,endAngle:M}=ND(m);S={cx:R,cy:P,startAngle:I,endAngle:M,innerRadius:N,outerRadius:N},T=PD,A=In.cursorLine}else S={points:bJ(u,m,a)},T=wD,A=In.cursorLine;var D=typeof d=="object"&&"className"in d?d.className:void 0,k=lf(lf(lf(lf({stroke:"#ccc",pointerEvents:"none"},a),S),Dh(d)),{},{payload:b,payloadIndex:_,className:ft("recharts-tooltip-cursor",D)});return E.createElement(ta,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:A},E.createElement(Zte,{cursor:d,cursorComp:T,cursorProps:k}))}function tne(e){var t=xte(),n=fD(),r=Zh(),i=Cte();return t==null||n==null||r==null||i==null?null:E.createElement(ene,J0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Bk=E.createContext(null),nne=()=>E.useContext(Bk),vy={exports:{}},HR;function rne(){return HR||(HR=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function a(d,f,h,m,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,m||d,b),S=n?n+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],_]:d._events[S].push(_):(d._events[S]=_,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,_=m.length,S=new Array(_);b<_;b++)S[b]=m[b].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,b,_,S){var T=n?n+f:f;if(!this._events[T])return!1;var A=this._events[T],R=arguments.length,P,N;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),R){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,m),!0;case 4:return A.fn.call(A.context,h,m,b),!0;case 5:return A.fn.call(A.context,h,m,b,_),!0;case 6:return A.fn.call(A.context,h,m,b,_,S),!0}for(N=1,P=new Array(R-1);N<R;N++)P[N-1]=arguments[N];A.fn.apply(A.context,P)}else{var I=A.length,M;for(N=0;N<I;N++)switch(A[N].once&&this.removeListener(f,A[N].fn,void 0,!0),R){case 1:A[N].fn.call(A[N].context);break;case 2:A[N].fn.call(A[N].context,h);break;case 3:A[N].fn.call(A[N].context,h,m);break;case 4:A[N].fn.call(A[N].context,h,m,b);break;default:if(!P)for(M=1,P=new Array(R-1);M<R;M++)P[M-1]=arguments[M];A[N].fn.apply(A[N].context,P)}}return!0},u.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,b){var _=n?n+f:f;if(!this._events[_])return this;if(!h)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===h&&(!b||S.once)&&(!m||S.context===m)&&l(this,_);else{for(var T=0,A=[],R=S.length;T<R;T++)(S[T].fn!==h||b&&!S[T].once||m&&S[T].context!==m)&&A.push(S[T]);A.length?this._events[_]=A.length===1?A[0]:A:l(this,_)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(vy)),vy.exports}var ine=rne();const ane=Vr(ine);var Xu=new ane,X0="recharts.syncEvent.tooltip",GR="recharts.syncEvent.brush";function one(e,t){if(t){var n=Number.parseInt(t,10);if(!ii(n))return e==null?void 0:e[n]}}var sne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Hk=Yn({name:"options",initialState:sne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lne=Hk.reducer,{createEventEmitter:une}=Hk.actions;function cne(e){return e.tooltip.syncInteraction}var dne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Gk=Yn({name:"chartData",initialState:dne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:VR,setDataStartEndIndexes:fne,setComputedData:ule}=Gk.actions,hne=Gk.reducer,pne=["x","y"];function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(r){mne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mne(e,t,n){return(t=gne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gne(e){var t=vne(e,"string");return typeof t=="symbol"?t:t+""}function vne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yne(e,t){if(e==null)return{};var n,r,i=bne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xne(){var e=Me(Mx),t=Me(Dx),n=Vt(),r=Me(C2),i=Me(ea),a=Zh(),l=Qh(),u=Me(d=>d.rootProps.className);E.useEffect(()=>{if(e==null)return rc;var d=(f,h,m)=>{if(t!==m&&e===f){if(r==="index"){var b;if(l&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var _=h.payload.coordinate,{x:S,y:T}=_,A=yne(_,pne),{x:R,y:P,width:N,height:I}=h.payload.sourceViewBox,M=Us(Us({},A),{},{x:l.x+(N?(S-R)/N:0)*l.width,y:l.y+(I?(T-P)/I:0)*l.height});n(Us(Us({},h),{},{payload:Us(Us({},h.payload),{},{coordinate:M})}))}else n(h);return}if(i!=null){var D;if(typeof r=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},G=r(i,k);D=i[G]}else r==="value"&&(D=i.find(B=>String(B.value)===h.payload.label));var{coordinate:U}=h.payload;if(D==null||h.payload.active===!1||U==null||l==null){n(Y0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:le,y:W}=U,H=Math.min(le,l.x+l.width),re=Math.min(W,l.y+l.height),ge={x:a==="horizontal"?D.coordinate:H,y:a==="horizontal"?re:D.coordinate},we=Y0({active:h.payload.active,coordinate:ge,dataKey:h.payload.dataKey,index:String(D.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(we)}}};return Xu.on(X0,d),()=>{Xu.off(X0,d)}},[u,n,t,e,r,i,a,l])}function _ne(){var e=Me(Mx),t=Me(Dx),n=Vt();E.useEffect(()=>{if(e==null)return rc;var r=(i,a,l)=>{t!==l&&e===i&&n(fne(a))};return Xu.on(GR,r),()=>{Xu.off(GR,r)}},[n,t,e])}function wne(){var e=Vt();E.useEffect(()=>{e(une())},[e]),xne(),_ne()}function Sne(e,t,n,r,i,a){var l=Me(_=>Rte(_,e,t)),u=Me(Dx),d=Me(Mx),f=Me(C2),h=Me(cne),m=h==null?void 0:h.active,b=Qh();E.useEffect(()=>{if(!m&&d!=null&&u!=null){var _=Y0({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Xu.emit(X0,d,_,u)}},[m,n,l,i,r,u,d,f,a,b])}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(r){Ene(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ene(e,t,n){return(t=Tne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cne(e){return e.dataKey}function Nne(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(lW,t)}var WR=[],Rne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Pne(e){var t,n,r=Cn(e,Rne),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:h,offset:m,payloadUniqBy:b,position:_,reverseDirection:S,useTranslate3d:T,wrapperStyle:A,cursor:R,shared:P,trigger:N,defaultIndex:I,portal:M,axisId:D}=r,k=Vt(),G=typeof I=="number"?String(I):I;E.useEffect(()=>{k(Eee({shared:P,trigger:N,axisId:D,active:i,defaultIndex:G}))},[k,P,N,D,i,G]);var U=Qh(),le=_D(),W=yee(P),{activeIndex:H,isActive:re}=(t=Me(_e=>Ite(_e,W,N,G)))!==null&&t!==void 0?t:{},ge=Me(_e=>Ote(_e,W,N,G)),we=Me(_e=>zk(_e,W,N,G)),B=Me(_e=>Pte(_e,W,N,G)),J=ge,ce=nne(),ue=(n=i??re)!==null&&n!==void 0?n:!1,[Ce,L]=AM([J,ue]),X=W==="axis"?we:void 0;Sne(W,N,B,X,H,ue);var he=M??ce;if(he==null||U==null||W==null)return null;var de=J??WR;ue||(de=WR),f&&de.length&&(de=_M(de.filter(_e=>_e.value!=null&&(_e.hide!==!0||r.includeHidden)),b,Cne));var K=de.length>0,fe=E.createElement(mW,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ue,coordinate:B,hasPayload:K,offset:m,position:_,reverseDirection:S,useTranslate3d:T,viewBox:U,wrapperStyle:A,lastBoundingBox:Ce,innerRef:L,hasPortalFromProps:!!M},Nne(d,YR(YR({},r),{},{payload:de,label:X,active:ue,activeIndex:H,coordinate:B,accessibilityLayer:le})));return E.createElement(E.Fragment,null,fb.createPortal(fe,he),ue&&E.createElement(tne,{cursor:R,tooltipEventType:W,coordinate:B,payload:de,index:H}))}function One(e,t,n){return(t=Ine(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ine(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Dne{constructor(t){One(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(r){jne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jne(e,t,n){return(t=Lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qne={cacheSize:2e3,enableCache:!0},Vk=kne({},qne),XR=new Dne(Vk.cacheSize),zne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QR="recharts_measurement_span";function $ne(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var ZR=(e,t)=>{try{var n=document.getElementById(QR);n||(n=document.createElement("span"),n.setAttribute("id",QR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zne,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Ru=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||uc.isSsr)return{width:0,height:0};if(!Vk.enableCache)return ZR(t,n);var r=$ne(t,n),i=XR.get(r);if(i)return i;var a=ZR(t,n);return XR.set(r,a),a},eP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Hne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gne=Object.keys(Fk),Gs="NaN";function Vne(e,t){return e*Fk[t]}class Vn{static parse(t){var n,[,r,i]=(n=Hne.exec(t))!==null&&n!==void 0?n:[];return new Vn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ii(t)&&(this.unit=""),n!==""&&!Bne.test(n)&&(this.num=NaN,this.unit=""),Gne.includes(n)&&(this.num=Vne(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ii(this.num)}}function Kk(e){if(e.includes(Gs))return Gs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=eP.exec(t))!==null&&n!==void 0?n:[],l=Vn.parse(r??""),u=Vn.parse(a??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Gs;t=t.replace(eP,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,m,b]=(f=tP.exec(t))!==null&&f!==void 0?f:[],_=Vn.parse(h??""),S=Vn.parse(b??""),T=m==="+"?_.add(S):_.subtract(S);if(T.isNaN())return Gs;t=t.replace(tP,T.toString())}return t}var nP=/\(([^()]*)\)/;function Fne(e){for(var t=e,n;(n=nP.exec(t))!=null;){var[,r]=n;t=t.replace(nP,Kk(r))}return t}function Kne(e){var t=e.replace(/\s+/g,"");return t=Fne(t),t=Kk(t),t}function Yne(e){try{return Kne(e)}catch{return Gs}}function yy(e){var t=Yne(e.slice(5,-1));return t===Gs?"":t}var Wne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Jne=["dx","dy","angle","className","breakAll"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q0.apply(null,arguments)}function rP(e,t){if(e==null)return{};var n,r,i=Xne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yk=/[ \f\n\r\t\v\u2028\u2029]+/,Wk=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ln(t)||(n?i=t.toString().split(""):i=t.toString().split(Yk));var a=i.map(u=>({word:u,width:Ru(u,r).width})),l=n?0:Ru("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function Qne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Jk=(e,t,n,r)=>e.reduce((i,a)=>{var{word:l,width:u}=a,d=i[i.length-1];if(d&&u!=null&&(t==null||r||d.width+u+n<Number(t)))d.words.push(l),d.width+=u+n;else{var f={words:[l],width:u};i.push(f)}return i},[]),Xk=e=>e.reduce((t,n)=>t.width>n.width?t:n),Zne="",iP=(e,t,n,r,i,a,l,u)=>{var d=e.slice(0,t),f=Wk({breakAll:n,style:r,children:d+Zne});if(!f)return[!1,[]];var h=Jk(f.wordsWithComputedWidth,a,l,u),m=h.length>i||Xk(h).width>Number(a);return[m,h]},ere=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:d}=e,f=je(a),h=String(l),m=Jk(t,r,n,i);if(!f||i)return m;var b=m.length>a||Xk(m).width>Number(r);if(!b)return m;for(var _=0,S=h.length-1,T=0,A;_<=S&&T<=h.length-1;){var R=Math.floor((_+S)/2),P=R-1,[N,I]=iP(h,P,d,u,a,r,n,i),[M]=iP(h,R,d,u,a,r,n,i);if(!N&&!M&&(_=R+1),N&&M&&(S=R-1),!N&&M){A=I;break}T++}return A||m},aP=e=>{var t=ln(e)?[]:e.toString().split(Yk);return[{words:t,width:void 0}]},tre=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!uc.isSsr){var u,d,f=Wk({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;u=h,d=m}else return aP(r);return ere({breakAll:a,children:r,maxLines:l,style:i},u,d,t,!!n)}return aP(r)},Qk="#808080",nre={angle:0,breakAll:!1,capHeight:"0.71em",fill:Qk,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},i_=E.forwardRef((e,t)=>{var n=Cn(e,nre),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:h}=n,m=rP(n,Wne),b=E.useMemo(()=>tre({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:_,dy:S,angle:T,className:A,breakAll:R}=m,P=rP(m,Jne);if(!ai(r)||!ai(i)||b.length===0)return null;var N=Number(r)+(je(_)?_:0),I=Number(i)+(je(S)?S:0);if(!un(N)||!un(I))return null;var M;switch(h){case"start":M=yy("calc(".concat(l,")"));break;case"middle":M=yy("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:M=yy("calc(".concat(b.length-1," * -").concat(a,")"));break}var D=[];if(d){var k=b[0].width,{width:G}=m;D.push("scale(".concat(je(G)&&je(k)?G/k:1,")"))}return T&&D.push("rotate(".concat(T,", ").concat(N,", ").concat(I,")")),D.length&&(P.transform=D.join(" ")),E.createElement("text",Q0({},Mn(P),{ref:t,x:N,y:I,className:ft("recharts-text",A),textAnchor:f,fill:u.includes("url")?Qk:u}),b.map((U,le)=>{var W=U.words.join(R?"":" ");return E.createElement("tspan",{x:N,dy:le===0?M:a,key:"".concat(W,"-").concat(le)},W)}))});i_.displayName="Text";var rre=["labelRef"];function ire(e,t){if(e==null)return{};var n,r,i=are(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(n),!0).forEach(function(r){ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ore(e,t,n){return(t=sre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sre(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ii.apply(null,arguments)}var Zk=E.createContext(null),ure=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=e,d=E.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[t,n,r,i,a,l]);return E.createElement(Zk.Provider,{value:d},u)},ej=()=>{var e=E.useContext(Zk),t=Qh();return e||dD(t)},cre=E.createContext(null),dre=()=>{var e=E.useContext(cre),t=Me(I2);return e||t},fre=e=>{var{value:t,formatter:n}=e,r=ln(e.children)?t:e.children;return typeof n=="function"?n(r):r},a_=e=>e!=null&&typeof e=="function",hre=(e,t)=>{var n=Nr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},pre=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:h,startAngle:m,endAngle:b,clockWise:_}=i,S=(f+h)/2,T=hre(m,b),A=T>=0?1:-1,R,P;switch(t){case"insideStart":R=m+A*a,P=_;break;case"insideEnd":R=b-A*a,P=!_;break;case"end":R=b+A*a,P=_;break;default:throw new Error("Unsupported position ".concat(t))}P=T<=0?P:!P;var N=bn(u,d,S,R),I=bn(u,d,S,R+(P?1:-1)*359),M="M".concat(N.x,",").concat(N.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(P?0:1,`,
    `).concat(I.x,",").concat(I.y),D=ln(e.id)?Lu("recharts-radial-line-"):e.id;return E.createElement("text",Ii({},r,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),E.createElement("defs",null,E.createElement("path",{id:D,d:M})),E.createElement("textPath",{xlinkHref:"#".concat(D)},n))},mre=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(n==="outside"){var{x:h,y:m}=bn(r,i,l+t,f);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+l)/2,{x:_,y:S}=bn(r,i,b,f);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Z0=e=>"cx"in e&&je(e.cx),gre=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Z0(n)&&(a=n);var{x:l,y:u,upperWidth:d,lowerWidth:f,height:h}=t,m=l,b=l+(d-f)/2,_=(m+b)/2,S=(d+f)/2,T=m+d/2,A=h>=0?1:-1,R=A*r,P=A>0?"end":"start",N=A>0?"start":"end",I=d>=0?1:-1,M=I*r,D=I>0?"end":"start",k=I>0?"start":"end";if(i==="top"){var G={x:m+d/2,y:u-R,textAnchor:"middle",verticalAnchor:P};return jt(jt({},G),a?{height:Math.max(u-a.y,0),width:d}:{})}if(i==="bottom"){var U={x:b+f/2,y:u+h+R,textAnchor:"middle",verticalAnchor:N};return jt(jt({},U),a?{height:Math.max(a.y+a.height-(u+h),0),width:f}:{})}if(i==="left"){var le={x:_-M,y:u+h/2,textAnchor:D,verticalAnchor:"middle"};return jt(jt({},le),a?{width:Math.max(le.x-a.x,0),height:h}:{})}if(i==="right"){var W={x:_+S+M,y:u+h/2,textAnchor:k,verticalAnchor:"middle"};return jt(jt({},W),a?{width:Math.max(a.x+a.width-W.x,0),height:h}:{})}var H=a?{width:S,height:h}:{};return i==="insideLeft"?jt({x:_+M,y:u+h/2,textAnchor:k,verticalAnchor:"middle"},H):i==="insideRight"?jt({x:_+S-M,y:u+h/2,textAnchor:D,verticalAnchor:"middle"},H):i==="insideTop"?jt({x:m+d/2,y:u+R,textAnchor:"middle",verticalAnchor:N},H):i==="insideBottom"?jt({x:b+f/2,y:u+h-R,textAnchor:"middle",verticalAnchor:P},H):i==="insideTopLeft"?jt({x:m+M,y:u+R,textAnchor:k,verticalAnchor:N},H):i==="insideTopRight"?jt({x:m+d-M,y:u+R,textAnchor:D,verticalAnchor:N},H):i==="insideBottomLeft"?jt({x:b+M,y:u+h-R,textAnchor:k,verticalAnchor:P},H):i==="insideBottomRight"?jt({x:b+f-M,y:u+h-R,textAnchor:D,verticalAnchor:P},H):i&&typeof i=="object"&&(je(i.x)||zi(i.x))&&(je(i.y)||zi(i.y))?jt({x:l+qa(i.x,S),y:u+qa(i.y,h),textAnchor:"end",verticalAnchor:"end"},H):jt({x:T,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},H)},vre={angle:0,offset:5,zIndex:In.label,position:"middle",textBreakAll:!1};function Ia(e){var t=Cn(e,vre),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:d,labelRef:f}=t,h=dre(),m=ej(),b=r==="center"?m:h??m,_,S,T;if(n==null?_=b:Z0(n)?_=n:_=dD(n),!_||ln(i)&&ln(a)&&!E.isValidElement(l)&&typeof l!="function")return null;var A=jt(jt({},t),{},{viewBox:_});if(E.isValidElement(l)){var{labelRef:R}=A,P=ire(A,rre);return E.cloneElement(l,P)}if(typeof l=="function"){if(S=E.createElement(l,A),E.isValidElement(S))return S}else S=fre(t);var N=Mn(t);if(Z0(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return pre(t,r,S,N,_);T=mre(_,t.offset,t.position)}else T=gre(t,_);return E.createElement(ta,{zIndex:t.zIndex},E.createElement(i_,Ii({ref:f,className:ft("recharts-label",u)},N,T,{textAnchor:Qne(N.textAnchor)?N.textAnchor:T.textAnchor,breakAll:d}),S))}Ia.displayName="Label";var yre=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?E.createElement(Ia,Ii({key:"label-implicit"},r)):ai(e)?E.createElement(Ia,Ii({key:"label-implicit",value:e},r)):E.isValidElement(e)?e.type===Ia?E.cloneElement(e,jt({key:"label-implicit"},r)):E.createElement(Ia,Ii({key:"label-implicit",content:e},r)):a_(e)?E.createElement(Ia,Ii({key:"label-implicit",content:e},r)):e&&typeof e=="object"?E.createElement(Ia,Ii({},e,{key:"label-implicit"},r)):null};function bre(e){var{label:t,labelRef:n}=e,r=ej();return yre(t,r,n)||null}var by={},xy={},sP;function xre(){return sP||(sP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(xy)),xy}var _y={},lP;function _re(){return lP||(lP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(_y)),_y}var uP;function wre(){return uP||(uP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xre(),n=_re(),r=Hb();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(by)),by}var wy,cP;function Sre(){return cP||(cP=1,wy=wre().last),wy}var Ere=Sre();const Tre=Vr(Ere);var Are=["valueAccessor"],Cre=["dataKey","clockWise","id","textBreakAll","zIndex"];function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gh.apply(null,arguments)}function dP(e,t){if(e==null)return{};var n,r,i=Nre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rre=e=>Array.isArray(e.value)?Tre(e.value):e.value,tj=E.createContext(void 0),Pre=tj.Provider,nj=E.createContext(void 0);nj.Provider;function Ore(){return E.useContext(tj)}function Ire(){return E.useContext(nj)}function bf(e){var{valueAccessor:t=Rre}=e,n=dP(e,Are),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,d=dP(n,Cre),f=Ore(),h=Ire(),m=f||h;return!m||!m.length?null:E.createElement(ta,{zIndex:u??In.label},E.createElement(Ua,{className:"recharts-label-list"},m.map((b,_)=>{var S,T=ln(r)?t(b,_):An(b&&b.payload,r),A=ln(a)?{}:{id:"".concat(a,"-").concat(_)};return E.createElement(Ia,gh({key:"label-".concat(_)},Mn(b),d,A,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:T,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}bf.displayName="LabelList";function Mre(e){var{label:t}=e;return t?t===!0?E.createElement(bf,{key:"labelList-implicit"}):E.isValidElement(t)||a_(t)?E.createElement(bf,{key:"labelList-implicit",content:t}):typeof t=="object"?E.createElement(bf,gh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eb.apply(null,arguments)}var rj=e=>{var{cx:t,cy:n,r,className:i}=e,a=ft("recharts-dot",i);return je(t)&&je(n)&&je(r)?E.createElement("circle",eb({},ri(e),Bb(e),{className:a,cx:t,cy:n,r})):null},Dre={radiusAxis:{},angleAxis:{}},ij=Yn({name:"polarAxis",initialState:Dre,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:cle,removeRadiusAxis:dle,addAngleAxis:fle,removeAngleAxis:hle}=ij.actions,kre=ij.reducer,aj=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Sy={},fP;function jre(){return fP||(fP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Sy)),Sy}var Ey,hP;function Lre(){return hP||(hP=1,Ey=jre().isPlainObject),Ey}var Ure=Lre();const qre=Vr(Ure);function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zre(e,t,n){return(t=$re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $re(e){var t=Bre(e,"string");return typeof t=="symbol"?t:t+""}function Bre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vh.apply(null,arguments)}var gP=(e,t,n,r,i)=>{var a=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-a/2,",").concat(t+i),l+="L ".concat(e+n-a/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},Hre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gre=e=>{var t=Cn(e,Hre),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=t,b=E.useRef(null),[_,S]=E.useState(-1),T=E.useRef(i),A=E.useRef(a),R=E.useRef(l),P=E.useRef(n),N=E.useRef(r),I=ax(e,"trapezoid-");if(E.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ge=b.current.getTotalLength();ge&&S(ge)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var M=ft("recharts-trapezoid",u);if(!m)return E.createElement("g",null,E.createElement("path",vh({},Mn(t),{className:M,d:gP(n,r,i,a,l)})));var D=T.current,k=A.current,G=R.current,U=P.current,le=N.current,W="0px ".concat(_===-1?1:_,"px"),H="".concat(_,"px 0px"),re=SD(["strokeDasharray"],f,d);return E.createElement(ix,{animationId:I,key:I,canBegin:_>0,duration:f,easing:d,isActive:m,begin:h},ge=>{var we=Fn(D,i,ge),B=Fn(k,a,ge),J=Fn(G,l,ge),ce=Fn(U,n,ge),ue=Fn(le,r,ge);b.current&&(T.current=we,A.current=B,R.current=J,P.current=ce,N.current=ue);var Ce=ge>0?{transition:re,strokeDasharray:H}:{strokeDasharray:W};return E.createElement("path",vh({},Mn(t),{className:M,d:gP(ce,ue,we,B,J),ref:b,style:mP(mP({},Ce),t.style)}))})},Vre=["option","shapeType","propTransformer","activeClassName"];function Fre(e,t){if(e==null)return{};var n,r,i=Kre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(r){Yre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yre(e,t,n){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wre(e){var t=Jre(e,"string");return typeof t=="symbol"?t:t+""}function Jre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xre(e,t){return yh(yh({},t),e)}function Qre(e,t){return e==="symbols"}function yP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return E.createElement(CD,n);case"trapezoid":return E.createElement(Gre,n);case"sector":return E.createElement(PD,n);case"symbols":if(Qre(t))return E.createElement($b,n);break;case"curve":return E.createElement(wD,n);default:return null}}function Zre(e){return E.isValidElement(e)?e.props:e}function eie(e){var{option:t,shapeType:n,propTransformer:r=Xre,activeClassName:i="recharts-active-shape"}=e,a=Fre(e,Vre),l;if(E.isValidElement(t))l=E.cloneElement(t,yh(yh({},a),Zre(t)));else if(typeof t=="function")l=t(a,a.index);else if(qre(t)&&typeof t!="boolean"){var u=r(t,a);l=E.createElement(yP,{shapeType:n,elementProps:u})}else{var d=a;l=E.createElement(yP,{shapeType:n,elementProps:d})}return a.isActive?E.createElement(Ua,{className:i},l):l}function tie(e){var{tooltipEntrySettings:t}=e,n=Vt(),r=Wn(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(_ee(t)):i.current!==t&&n(wee({prev:i.current,next:t})),i.current=t)},[t,n,r]),E.useLayoutEffect(()=>()=>{i.current&&(n(See(i.current)),i.current=null)},[n]),null}function nie(e){var{legendPayload:t}=e,n=Vt(),r=Wn(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n($Y(t)):i.current!==t&&n(BY({prev:i.current,next:t})),i.current=t)},[n,r,t]),E.useLayoutEffect(()=>()=>{i.current&&(n(HY(i.current)),i.current=null)},[n]),null}var Ty,rie=()=>{var[e]=E.useState(()=>Lu("uid-"));return e},iie=(Ty=eq.useId)!==null&&Ty!==void 0?Ty:rie;function oj(e,t){var n=iie();return t||(e?"".concat(e,"-").concat(n):n)}var aie=E.createContext(void 0),oie=e=>{var{id:t,type:n,children:r}=e,i=oj("recharts-".concat(n),t);return E.createElement(aie.Provider,{value:i},r(i))},sie={cartesianItems:[],polarItems:[]},sj=Yn({name:"graphicalItems",initialState:sie,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:At()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Hr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:At()},removeCartesianGraphicalItem:{reducer(e,t){var n=Hr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:At()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:At()},removePolarGraphicalItem:{reducer(e,t){var n=Hr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:At()}}}),{addCartesianGraphicalItem:lie,replaceCartesianGraphicalItem:uie,removeCartesianGraphicalItem:cie,addPolarGraphicalItem:ple,removePolarGraphicalItem:mle}=sj.actions,die=sj.reducer,fie=e=>{var t=Vt(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?t(lie(e)):n.current!==e&&t(uie({prev:n.current,next:e})),n.current=e},[t,e]),E.useLayoutEffect(()=>()=>{n.current&&(t(cie(n.current)),n.current=null)},[t]),null},hie=E.memo(fie),pie=["points"];function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ay(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){mie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mie(e,t,n){return(t=gie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gie(e){var t=vie(e,"string");return typeof t=="symbol"?t:t+""}function vie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(null,arguments)}function yie(e,t){if(e==null)return{};var n,r,i=bie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xie(e){var{option:t,dotProps:n,className:r}=e;if(E.isValidElement(t))return E.cloneElement(t,n);if(typeof t=="function")return t(n);var i=ft(r,typeof t!="boolean"?t.className:""),a=n??{},{points:l}=a,u=yie(a,pie);return E.createElement(rj,bh({},u,{className:i}))}function _ie(e,t){return e==null?!1:t?!0:e.length===1}function wie(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:d,zIndex:f=In.scatter}=e;if(!_ie(t,n))return null;var h=aj(n),m=EF(n),b=t.map((S,T)=>{var A,R,P=Ay(Ay(Ay({r:3},l),m),{},{index:T,cx:(A=S.x)!==null&&A!==void 0?A:void 0,cy:(R=S.y)!==null&&R!==void 0?R:void 0,dataKey:a,value:S.value,payload:S.payload,points:t});return E.createElement(xie,{key:"dot-".concat(T),option:n,dotProps:P,className:i})}),_={};return u&&d!=null&&(_.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(d,")")),E.createElement(ta,{zIndex:f},E.createElement(Ua,bh({className:r},_),b))}function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(r){Sie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sie(e,t,n){return(t=Eie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eie(e){var t=Tie(e,"string");return typeof t=="symbol"?t:t+""}function Tie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aie={xAxis:{},yAxis:{},zAxis:{}},lj=Yn({name:"cartesianAxis",initialState:Aie,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:At()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:At()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:At()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:At()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:At()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:At()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:At()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:At()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:At()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);e.yAxis[n]=_P(_P({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Cie,replaceXAxis:Nie,removeXAxis:Rie,addYAxis:Pie,replaceYAxis:Oie,removeYAxis:Iie,addZAxis:gle,replaceZAxis:vle,removeZAxis:yle,updateYAxisWidth:Mie}=lj.actions,Die=lj.reducer,kie=ee([xn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),jie=ee([kie,Wi,Ji],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),o_=()=>Me(jie),Lie=()=>Me(mte);function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(n),!0).forEach(function(r){Uie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uie(e,t,n){return(t=qie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qie(e){var t=zie(e,"string");return typeof t=="symbol"?t:t+""}function zie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ie=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=Cy(Cy(Cy({},u),Dh(i)),Bb(i)),f;return E.isValidElement(i)?f=E.cloneElement(i,d):typeof i=="function"?f=i(d):f=E.createElement(rj,d),E.createElement(Ua,{className:"recharts-active-dot",clipPath:l},f)};function Bie(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=In.activeDot}=e,u=Me(Ju),d=Lie();if(t==null||d==null)return null;var f=t.find(h=>d.includes(h.payload));return ln(f)?null:E.createElement(ta,{zIndex:l},E.createElement($ie,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Hie={},uj=Yn({name:"errorBars",initialState:Hie,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ble,replaceErrorBar:xle,removeErrorBar:_le}=uj.actions,Gie=uj.reducer,Vie=["children"];function Fie(e,t){if(e==null)return{};var n,r,i=Kie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Wie=E.createContext(Yie);function Jie(e){var{children:t}=e,n=Fie(e,Vie);return E.createElement(Wie.Provider,{value:n},t)}function cj(e,t){var n,r,i=Me(f=>Qi(f,e)),a=Me(f=>Zi(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:rn.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:an.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function Xie(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=o_(),{needClipX:a,needClipY:l,needClip:u}=cj(t,n);if(!u||!i)return null;var{x:d,y:f,width:h,height:m}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:a?d:d-h/2,y:l?f:f-m/2,width:a?h:h*2,height:l?m:m*2}))}var Ny={exports:{}},Ry={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP;function Qie(){if(SP)return Ry;SP=1;var e=sl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Ry.useSyncExternalStoreWithSelector=function(d,f,h,m,b){var _=i(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function A(M){if(!R){if(R=!0,P=M,M=m(M),b!==void 0&&S.hasValue){var D=S.value;if(b(D,M))return N=D}return N=M}if(D=N,n(P,M))return D;var k=m(M);return b!==void 0&&b(D,k)?(P=M,D):(P=M,N=k)}var R=!1,P,N,I=h===void 0?null:h;return[function(){return A(f())},I===null?void 0:function(){return A(I())}]},[f,h,m,b]);var T=r(d,_[0],_[1]);return a(function(){S.hasValue=!0,S.value=T},[T]),u(T),T},Ry}var EP;function Zie(){return EP||(EP=1,Ny.exports=Qie()),Ny.exports}Zie();function eae(e){e()}function tae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var TP={notify(){},get:()=>[]};function nae(e,t){let n,r=TP,i=0,a=!1;function l(T){h();const A=r.subscribe(T);let R=!1;return()=>{R||(R=!0,A(),m())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return a}function h(){i++,n||(n=e.subscribe(d),r=tae())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=TP)}function b(){a||(a=!0,h())}function _(){a&&(a=!1,m())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return S}var rae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iae=rae(),aae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oae=aae(),sae=()=>iae||oae?E.useLayoutEffect:E.useEffect,lae=sae();function AP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function uae(e,t){if(AP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!AP(e[n[i]],t[n[i]]))return!1;return!0}var Py=Symbol.for("react-redux-context"),Oy=typeof globalThis<"u"?globalThis:{};function cae(){if(!E.createContext)return{};const e=Oy[Py]??(Oy[Py]=new Map);let t=e.get(E.createContext);return t||(t=E.createContext(null),e.set(E.createContext,t)),t}var dae=cae();function fae(e){const{children:t,context:n,serverState:r,store:i}=e,a=E.useMemo(()=>{const d=nae(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=E.useMemo(()=>i.getState(),[i]);lae(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const u=n||dae;return E.createElement(u.Provider,{value:a},t)}var hae=fae,pae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function mae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function s_(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(pae.has(r)){if(e[r]==null&&t[r]==null)continue;if(!uae(e[r],t[r]))return!1}else if(!mae(e[r],t[r]))return!1;return!0}var gae=e=>{var{chartData:t}=e,n=Vt(),r=Wn();return E.useEffect(()=>r?()=>{}:(n(VR(t)),()=>{n(VR(void 0))}),[t,n,r]),null},CP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},dj=Yn({name:"brush",initialState:CP,reducers:{setBrushSettings(e,t){return t.payload==null?CP:t.payload}}}),{setBrushSettings:wle}=dj.actions,vae=dj.reducer;function yae(e,t,n){return(t=bae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bae(e){var t=xae(e,"string");return typeof t=="symbol"?t:t+""}function xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class l_{static create(t){return new l_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}yae(l_,"EPS",1e-4);function _ae(e){return(e%180+180)%180}var wae=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_ae(i),l=a*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Sae={dots:[],areas:[],lines:[]},fj=Yn({name:"referenceElements",initialState:Sae,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Hr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Hr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Hr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Sle,removeDot:Ele,addArea:Tle,removeArea:Ale,addLine:Cle,removeLine:Nle}=fj.actions,Eae=fj.reducer,Tae=E.createContext(void 0),Aae=e=>{var{children:t}=e,[n]=E.useState("".concat(Lu("recharts"),"-clip")),r=o_();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return E.createElement(Tae.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:a,height:u,width:l}))),t)};function hj(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Cae(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return wae(r,n)}function Nae(e,t,n){var r=n==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function xh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Rae(e,t){return hj(e,t+1)}function Pae(e,t,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=t,d=0,f=1,h=l,m=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:hj(r,f)};var T=d,A,R=()=>(A===void 0&&(A=n(S,T)),A),P=S.coordinate,N=d===0||xh(e,P,R,h,u);N||(d=0,h=l,f+=1),N&&(h=P+e*(R()/2+i),d+=f)},b;f<=a.length;)if(b=m(),b)return b.v;return[]}function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){Oae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oae(e,t,n){return(t=Iae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iae(e){var t=Mae(e,"string");return typeof t=="symbol"?t:t+""}function Mae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dae(e,t,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=t,{end:d}=t,f=function(b){var _=a[b],S,T=()=>(S===void 0&&(S=n(_,b)),S);if(b===l-1){var A=e*(_.coordinate+e*T()/2-d);a[b]=_=Sn(Sn({},_),{},{tickCoord:A>0?_.coordinate-A*e:_.coordinate})}else a[b]=_=Sn(Sn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var R=xh(e,_.tickCoord,T,u,d);R&&(d=_.tickCoord-e*(T()/2+i),a[b]=Sn(Sn({},_),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return a}function kae(e,t,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=t;if(a){var h=r[u-1],m=n(h,u-1),b=e*(h.coordinate+e*m/2-f);if(l[u-1]=h=Sn(Sn({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var _=xh(e,h.tickCoord,()=>m,d,f);_&&(f=h.tickCoord-e*(m/2+i),l[u-1]=Sn(Sn({},h),{},{isShow:!0}))}}for(var S=a?u-1:u,T=function(P){var N=l[P],I,M=()=>(I===void 0&&(I=n(N,P)),I);if(P===0){var D=e*(N.coordinate-e*M()/2-d);l[P]=N=Sn(Sn({},N),{},{tickCoord:D<0?N.coordinate-D*e:N.coordinate})}else l[P]=N=Sn(Sn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var k=xh(e,N.tickCoord,M,d,f);k&&(d=N.tickCoord+e*(M()/2+i),l[P]=Sn(Sn({},N),{},{isShow:!0}))}},A=0;A<S;A++)T(A);return l}function u_(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(je(d)||uc.isSsr){var b;return(b=Rae(i,je(d)?d:0))!==null&&b!==void 0?b:[]}var _=[],S=u==="top"||u==="bottom"?"width":"height",T=h&&S==="width"?Ru(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},A=(N,I)=>{var M=typeof f=="function"?f(N.value,I):N.value;return S==="width"?Cae(Ru(M,{fontSize:t,letterSpacing:n}),T,m):Ru(M,{fontSize:t,letterSpacing:n})[S]},R=i.length>=2?Nr(i[1].coordinate-i[0].coordinate):1,P=Nae(a,R,S);return d==="equidistantPreserveStart"?Pae(R,P,A,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=kae(R,P,A,i,l,d==="preserveStartEnd"):_=Dae(R,P,A,i,l),_.filter(N=>N.isShow))}var jae=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+a,f=l+d+u+(n?r:0);return Math.round(f)}return 0},Lae=["axisLine","width","height","className","hide","ticks","axisType"];function Uae(e,t){if(e==null)return{};var n,r,i=qae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko.apply(null,arguments)}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(r){zae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zae(e,t,n){return(t=$ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ae(e){var t=Bae(e,"string");return typeof t=="symbol"?t:t+""}function Bae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Li={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:In.axis};function Hae(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Ht(Ht(Ht({},d),ri(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);f=Ht(Ht({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(a==="left"&&!l||a==="right"&&l);f=Ht(Ht({},f),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return E.createElement("line",ko({},f,{className:ft("recharts-cartesian-axis-line",Uh(u,"className"))}))}function Gae(e,t,n,r,i,a,l,u,d){var f,h,m,b,_,S,T=u?-1:1,A=e.tickSize||l,R=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=h=e.coordinate,b=n+ +!u*i,m=b-T*A,S=m-T*d,_=R;break;case"left":m=b=e.coordinate,h=t+ +!u*r,f=h-T*A,_=f-T*d,S=R;break;case"right":m=b=e.coordinate,h=t+ +u*r,f=h+T*A,_=f+T*d,S=R;break;default:f=h=e.coordinate,b=n+ +u*i,m=b+T*A,S=m+T*d,_=R;break}return{line:{x1:f,y1:m,x2:h,y2:b},tick:{x:_,y:S}}}function Vae(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Fae(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Kae(e){var{option:t,tickProps:n,value:r}=e,i,a=ft(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(t))i=E.cloneElement(t,Ht(Ht({},n),{},{className:a}));else if(typeof t=="function")i=t(Ht(Ht({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ft(l,t==null?void 0:t.className)),i=E.createElement(i_,ko({},n,{className:l}),r)}return i}var Yae=E.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:h,mirror:m,x:b,y:_,width:S,height:T,tickSize:A,tickMargin:R,fontSize:P,letterSpacing:N,getTicksConfig:I,events:M,axisType:D}=e,k=u_(Ht(Ht({},I),{},{ticks:n}),P,N),G=Vae(h,m),U=Fae(h,m),le=ri(I),W=Dh(r),H={};typeof i=="object"&&(H=i);var re=Ht(Ht({},le),{},{fill:"none"},H),ge=k.map(J=>Ht({entry:J},Gae(J,b,_,S,T,h,A,m,R))),we=ge.map(J=>{var{entry:ce,line:ue}=J;return E.createElement(Ua,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},i&&E.createElement("line",ko({},re,ue,{className:ft("recharts-cartesian-axis-tick-line",Uh(i,"className"))})))}),B=ge.map((J,ce)=>{var{entry:ue,tick:Ce}=J,L=Ht(Ht(Ht(Ht({textAnchor:G,verticalAnchor:U},le),{},{stroke:"none",fill:a},W),Ce),{},{index:ce,payload:ue,visibleTicksCount:k.length,tickFormatter:l,padding:d},f);return E.createElement(Ua,ko({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},dM(M,ue,ce)),r&&E.createElement(Kae,{option:r,tickProps:L,value:"".concat(typeof l=="function"?l(ue.value,ce):ue.value).concat(u||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},B.length>0&&E.createElement(ta,{zIndex:In.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},B)),we.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},we))}),Wae=E.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:d}=e,f=Uae(e,Lae),[h,m]=E.useState(""),[b,_]=E.useState(""),S=E.useRef(null);E.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var A;return jae({ticks:S.current,label:(A=e.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var T=E.useCallback(A=>{if(A){var R=A.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=R;var P=R[0];if(P){var N=window.getComputedStyle(P),I=N.fontSize,M=N.letterSpacing;(I!==h||M!==b)&&(m(I),_(M))}}},[h,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(ta,{zIndex:e.zIndex},E.createElement(Ua,{className:ft("recharts-cartesian-axis",a)},E.createElement(Hae,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ri(e)}),E.createElement(Yae,{ref:T,axisType:d,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),E.createElement(ure,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},E.createElement(bre,{label:e.label,labelRef:e.labelRef}),e.children)))}),c_=E.forwardRef((e,t)=>{var n=Cn(e,Li);return E.createElement(Wae,ko({},n,{ref:t}))});c_.displayName="CartesianAxis";var Jae=["x1","y1","x2","y2","key"],Xae=["offset"],Qae=["xAxisId","yAxisId"],Zae=["xAxisId","yAxisId"];function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(r){eoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eoe(e,t,n){return(t=toe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function toe(e){var t=noe(e,"string");return typeof t=="symbol"?t:t+""}function noe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(null,arguments)}function _h(e,t){if(e==null)return{};var n,r,i=roe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function roe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ioe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=e;return E.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pj(e){var{option:t,lineItemProps:n}=e,r;if(E.isValidElement(t))r=E.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:l,x2:u,y2:d,key:f}=n,h=_h(n,Jae),m=(i=ri(h))!==null&&i!==void 0?i:{},{offset:b}=m,_=_h(m,Xae);r=E.createElement("line",Ao({},_,{x1:a,y1:l,x2:u,y2:d,fill:"none",key:f}))}return r}function aoe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=_h(e,Qae),d=i.map((f,h)=>{var m=En(En({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return E.createElement(pj,{key:"line-".concat(h),option:r,lineItemProps:m})});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function ooe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=_h(e,Zae),d=i.map((f,h)=>{var m=En(En({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return E.createElement(pj,{option:r,lineItemProps:m,key:"line-".concat(h)})});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function soe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,b)=>m-b);i!==f[0]&&f.unshift(0);var h=f.map((m,b)=>{var _=!f[b+1],S=_?i+l-m:f[b+1]-m;if(S<=0)return null;var T=b%t.length;return E.createElement("rect",{key:"react-".concat(b),y:m,x:r,height:S,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function loe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(m=>Math.round(m+i-i)).sort((m,b)=>m-b);i!==f[0]&&f.unshift(0);var h=f.map((m,b)=>{var _=!f[b+1],S=_?i+l-m:f[b+1]-m;if(S<=0)return null;var T=b%n.length;return E.createElement("rect",{key:"react-".concat(b),x:m,y:a,width:S,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var uoe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return rD(u_(En(En(En({},Li),n),{},{ticks:iD(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},coe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return rD(u_(En(En(En({},Li),n),{},{ticks:iD(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},doe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:In.grid};function mj(e){var t=ex(),n=tx(),r=fD(),i=En(En({},Cn(e,doe)),{},{x:je(e.x)?e.x:r.left,y:je(e.y)?e.y:r.top,width:je(e.width)?e.width:r.width,height:je(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:d,width:f,height:h,syncWithTicks:m,horizontalValues:b,verticalValues:_}=i,S=Wn(),T=Me(U=>MR(U,"xAxis",a,S)),A=Me(U=>MR(U,"yAxis",l,S));if(!oi(f)||!oi(h)||!je(u)||!je(d))return null;var R=i.verticalCoordinatesGenerator||uoe,P=i.horizontalCoordinatesGenerator||coe,{horizontalPoints:N,verticalPoints:I}=i;if((!N||!N.length)&&typeof P=="function"){var M=b&&b.length,D=P({yAxis:A?En(En({},A),{},{ticks:M?b:A.ticks}):void 0,width:t??f,height:n??h,offset:r},M?!0:m);Yf(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(N=D)}if((!I||!I.length)&&typeof R=="function"){var k=_&&_.length,G=R({xAxis:T?En(En({},T),{},{ticks:k?_:T.ticks}):void 0,width:t??f,height:n??h,offset:r},k?!0:m);Yf(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof G,"]")),Array.isArray(G)&&(I=G)}return E.createElement(ta,{zIndex:i.zIndex},E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(ioe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),E.createElement(soe,Ao({},i,{horizontalPoints:N})),E.createElement(loe,Ao({},i,{verticalPoints:I})),E.createElement(aoe,Ao({},i,{offset:r,horizontalPoints:N,xAxis:T,yAxis:A})),E.createElement(ooe,Ao({},i,{offset:r,verticalPoints:I,xAxis:T,yAxis:A}))))}mj.displayName="CartesianGrid";var gj=(e,t,n,r)=>vk(e,"xAxis",t,r),vj=(e,t,n,r)=>gk(e,"xAxis",t,r),yj=(e,t,n,r)=>vk(e,"yAxis",n,r),bj=(e,t,n,r)=>gk(e,"yAxis",n,r),foe=ee([Et,gj,yj,vj,bj],(e,t,n,r,i)=>Ha(e,"xAxis")?Kf(t,r,!1):Kf(n,i,!1)),hoe=(e,t,n,r,i)=>i;function poe(e){return e.type==="line"}var moe=ee([q2,hoe],(e,t)=>e.filter(poe).find(n=>n.id===t)),goe=ee([Et,gj,yj,vj,bj,moe,foe,Rx],(e,t,n,r,i,a,l,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=u;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:b}=a,_;if(b!=null&&b.length>0?_=b:_=d==null?void 0:d.slice(f,h+1),_!=null)return Loe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:l,displayedData:_})}});function voe(e){var t=Dh(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var yoe=["id"],boe=["type","layout","connectNulls","needClip","shape"],xoe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qu.apply(null,arguments)}function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){_oe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _oe(e,t,n){return(t=woe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function woe(e){var t=Soe(e,"string");return typeof t=="symbol"?t:t+""}function Soe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d_(e,t){if(e==null)return{};var n,r,i=Eoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Toe=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:aD(n,t),payload:e}]},Aoe=E.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:d,tooltipType:f}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:aD(l,t),hide:u,type:f,color:r,unit:d}};return E.createElement(tie,{tooltipEntrySettings:h})}),xj=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Coe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Noe=(e,t,n)=>{var r=n.reduce((m,b)=>m+b);if(!r)return xj(t,e);for(var i=Math.floor(e/r),a=e%r,l=t-e,u=[],d=0,f=0;d<n.length;f+=n[d],++d)if(f+n[d]>a){u=[...n.slice(0,d),a-f];break}var h=u.length%2===0?[0,l]:[l];return[...Coe(n,i),...u,...h].map(m=>"".concat(m,"px")).join(", ")};function Roe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:l}=r,{id:u}=r,d=d_(r,yoe),f=ri(d);return E.createElement(wie,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:l,clipPathId:t})}function Poe(e){var{showLabels:t,children:n,points:r}=e,i=E.useMemo(()=>r==null?void 0:r.map(a=>{var l,u,d={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ei(ei({},d),{},{value:a.value,payload:a.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return E.createElement(Pre,{value:t?i:void 0},n)}function IP(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:l,layout:u,connectNulls:d,needClip:f,shape:h}=a,m=d_(a,boe),b=ei(ei({},Mn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return E.createElement(E.Fragment,null,(r==null?void 0:r.length)>1&&E.createElement(eie,Qu({shapeType:"curve",option:h},b,{pathRef:n})),E.createElement(Roe,{points:r,clipPathId:t,props:a}))}function Ooe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ioe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:f,animationDuration:h,animationEasing:m,animateNewValues:b,width:_,height:S,onAnimationEnd:T,onAnimationStart:A}=n,R=i.current,P=ax(l,"recharts-line-"),N=E.useRef(P),[I,M]=E.useState(!1),D=!I,k=E.useCallback(()=>{typeof T=="function"&&T(),M(!1)},[T]),G=E.useCallback(()=>{typeof A=="function"&&A(),M(!0)},[A]),U=Ooe(r.current),le=E.useRef(0);N.current!==P&&(le.current=a.current,N.current=P);var W=le.current;return E.createElement(Poe,{points:l,showLabels:D},n.children,E.createElement(ix,{animationId:P,begin:f,duration:h,isActive:d,easing:m,onAnimationEnd:k,onAnimationStart:G,key:P},H=>{var re=Fn(W,U+W,H),ge=Math.min(re,U),we;if(d)if(u){var B="".concat(u).split(/[,\s]+/gim).map(ue=>parseFloat(ue));we=Noe(ge,U,B)}else we=xj(U,ge);else we=u==null?void 0:String(u);if(H>0&&U>0&&(i.current=l,a.current=Math.max(a.current,ge)),R){var J=R.length/l.length,ce=H===1?l:l.map((ue,Ce)=>{var L=Math.floor(Ce*J);if(R[L]){var X=R[L];return ei(ei({},ue),{},{x:Fn(X.x,ue.x,H),y:Fn(X.y,ue.y,H)})}return b?ei(ei({},ue),{},{x:Fn(_*2,ue.x,H),y:Fn(S/2,ue.y,H)}):ei(ei({},ue),{},{x:ue.x,y:ue.y})});return i.current=ce,E.createElement(IP,{props:n,points:ce,clipPathId:t,pathRef:r,strokeDasharray:we})}return E.createElement(IP,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:we})}),E.createElement(Mre,{label:n.label}))}function Moe(e){var{clipPathId:t,props:n}=e,r=E.useRef(null),i=E.useRef(0),a=E.useRef(null);return E.createElement(Ioe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Doe=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:An(e.payload,t)}};class koe extends E.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:u,left:d,width:f,height:h,id:m,needClip:b,zIndex:_}=this.props;if(t)return null;var S=ft("recharts-line",i),T=m,{r:A,strokeWidth:R}=voe(n),P=aj(n),N=A*2+R,I=b?"url(#clipPath-".concat(P?"":"dots-").concat(T,")"):void 0;return E.createElement(ta,{zIndex:_},E.createElement(Ua,{className:S},b&&E.createElement("defs",null,E.createElement(Xie,{clipPathId:T,xAxisId:a,yAxisId:l}),!P&&E.createElement("clipPath",{id:"clipPath-dots-".concat(T)},E.createElement("rect",{x:d-N/2,y:u-N/2,width:f+N,height:h+N}))),E.createElement(Jie,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:Doe,errorBarOffset:0},E.createElement(Moe,{props:this.props,clipPathId:T}))),E.createElement(Bie,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:I}))}}var _j={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:In.line,type:"linear"};function joe(e){var t=Cn(e,_j),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:d,hide:f,isAnimationActive:h,label:m,legendType:b,xAxisId:_,yAxisId:S,id:T}=t,A=d_(t,xoe),{needClip:R}=cj(_,S),P=o_(),N=Zh(),I=Wn(),M=Me(le=>goe(le,_,S,I,T));if(N!=="horizontal"&&N!=="vertical"||M==null||P==null)return null;var{height:D,width:k,x:G,y:U}=P;return E.createElement(koe,Qu({},A,{id:T,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:h,hide:f,label:m,legendType:b,xAxisId:_,yAxisId:S,points:M,layout:N,height:D,width:k,left:G,top:U,needClip:R}))}function Loe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:d}=e;return d.map((f,h)=>{var m=An(f,l);if(t==="horizontal"){var b=eN({axis:n,ticks:i,bandSize:u,entry:f,index:h}),_=ln(m)?null:r.scale(m);return{x:b,y:_,value:m,payload:f}}var S=ln(m)?null:n.scale(m),T=eN({axis:r,ticks:a,bandSize:u,entry:f,index:h});return S==null||T==null?null:{x:S,y:T,value:m,payload:f}}).filter(Boolean)}function Uoe(e){var t=Cn(e,_j),n=Wn();return E.createElement(oie,{id:t.id,type:"line"},r=>E.createElement(E.Fragment,null,E.createElement(nie,{legendPayload:Toe(t)}),E.createElement(Aoe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),E.createElement(hie,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),E.createElement(joe,Qu({},t,{id:r}))))}var wj=E.memo(Uoe,s_);wj.displayName="Line";var qoe=["domain","range"],zoe=["domain","range"];function MP(e,t){if(e==null)return{};var n,r,i=$oe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $oe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Sj(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=MP(e,qoe),{domain:a,range:l}=t,u=MP(t,zoe);return!DP(n,a)||!DP(r,l)?!1:s_(i,u)}var Boe=["dangerouslySetInnerHTML","ticks"],Hoe=["id"];function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tb.apply(null,arguments)}function kP(e,t){if(e==null)return{};var n,r,i=Goe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Goe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Voe(e){var t=Vt(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?t(Cie(e)):n.current!==e&&t(Nie({prev:n.current,next:e})),n.current=e},[e,t]),E.useLayoutEffect(()=>()=>{n.current&&(t(Rie(n.current)),n.current=null)},[t]),null}var Foe=e=>{var{xAxisId:t,className:n}=e,r=Me(sD),i=Wn(),a="xAxis",l=Me(A=>xl(A,a,t,i)),u=Me(A=>mk(A,a,t,i)),d=Me(A=>iee(A,t)),f=Me(A=>cee(A,t)),h=Me(A=>k2(A,t));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:b}=e,_=kP(e,Boe),{id:S}=h,T=kP(h,Hoe);return E.createElement(c_,tb({},_,T,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:ft("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},Koe={allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,angle:rn.angle,axisLine:Li.axisLine,height:rn.height,hide:!1,includeHidden:rn.includeHidden,interval:rn.interval,minTickGap:rn.minTickGap,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,tickLine:Li.tickLine,tickSize:Li.tickSize,type:rn.type,xAxisId:0},Yoe=e=>{var t=Cn(e,Koe);return E.createElement(E.Fragment,null,E.createElement(Voe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),E.createElement(Foe,t))},Ej=E.memo(Yoe,Sj);Ej.displayName="XAxis";var Woe=["dangerouslySetInnerHTML","ticks"],Joe=["id"];function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(null,arguments)}function jP(e,t){if(e==null)return{};var n,r,i=Xoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qoe(e){var t=Vt(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?t(Pie(e)):n.current!==e&&t(Oie({prev:n.current,next:e})),n.current=e},[e,t]),E.useLayoutEffect(()=>()=>{n.current&&(t(Iie(n.current)),n.current=null)},[t]),null}var Zoe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=E.useRef(null),l=E.useRef(null),u=Me(sD),d=Wn(),f=Vt(),h="yAxis",m=Me(M=>xl(M,h,t,d)),b=Me(M=>hee(M,t)),_=Me(M=>fee(M,t)),S=Me(M=>mk(M,h,t,d)),T=Me(M=>j2(M,t));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!b||a_(i)||E.isValidElement(i)||T==null)){var M=a.current;if(M){var D=M.getCalculatedWidth();Math.round(b.width)!==Math.round(D)&&f(Mie({id:t,width:D}))}}},[S,b,f,i,t,r,T]),b==null||_==null||T==null)return null;var{dangerouslySetInnerHTML:A,ticks:R}=e,P=jP(e,Woe),{id:N}=T,I=jP(T,Joe);return E.createElement(c_,nb({},P,I,{ref:a,labelRef:l,scale:m,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:ft("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:S,axisType:h}))},ese={allowDataOverflow:an.allowDataOverflow,allowDecimals:an.allowDecimals,allowDuplicatedCategory:an.allowDuplicatedCategory,angle:an.angle,axisLine:Li.axisLine,hide:!1,includeHidden:an.includeHidden,interval:an.interval,minTickGap:an.minTickGap,mirror:an.mirror,orientation:an.orientation,padding:an.padding,reversed:an.reversed,scale:an.scale,tick:an.tick,tickCount:an.tickCount,tickLine:Li.tickLine,tickSize:Li.tickSize,type:an.type,width:an.width,yAxisId:0},tse=e=>{var t=Cn(e,ese);return E.createElement(E.Fragment,null,E.createElement(Qoe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),E.createElement(Zoe,t))},Tj=E.memo(tse,Sj);Tj.displayName="YAxis";var nse=(e,t)=>t,f_=ee([nse,Et,I2,Qt,Ik,ea,Nte,xn],kte),h_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Aj=Or("mouseClick"),Cj=oc();Cj.startListening({actionCreator:Aj,effect:(e,t)=>{var n=e.payload,r=f_(t.getState(),h_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Aee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rb=Or("mouseMove"),Nj=oc(),uf=null;Nj.startListening({actionCreator:rb,effect:(e,t)=>{var n=e.payload;uf!==null&&cancelAnimationFrame(uf);var r=h_(n);uf=requestAnimationFrame(()=>{var i=t.getState(),a=Yx(i,i.tooltip.settings.shared);if(a==="axis"){var l=f_(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(Ek({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(Sk())}uf=null})}});var LP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Rj=Yn({name:"rootProps",initialState:LP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:LP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rse=Rj.reducer,{updateOptions:ise}=Rj.actions,Pj=Yn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Rle}=Pj.actions,ase=Pj.reducer,Oj=Or("keyDown"),Ij=Or("focus"),p_=oc();p_.startListening({actionCreator:Oj,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Wx(i,wl(n),gc(n),_c(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=ea(n);if(a==="Enter"){var f=mh(n,"axis","hover",String(i.index));t.dispatch(W0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=vee(n),m=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,_=u+b*m;if(!(d==null||_>=d.length||_<0)){var S=mh(n,"axis","hover",String(_));t.dispatch(W0({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});p_.startListening({actionCreator:Ij,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=mh(n,"axis","hover",String(a));t.dispatch(W0({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Ar=Or("externalEvent"),Mj=oc(),Iy=new Map;Mj.startListening({actionCreator:Ar,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Iy.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:fte(u),activeDataKey:cte(u),activeIndex:Ju(u),activeLabel:kk(u),activeTooltipIndex:Ju(u),isTooltipActive:hte(u)};n(d,r)}finally{Iy.delete(i)}});Iy.set(i,l)}}});var ose=ee([_l],e=>e.tooltipItemPayloads),sse=ee([ose,bc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=t(a,n);return l}}}),Dj=Or("touchMove"),kj=oc();kj.startListening({actionCreator:Dj,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=Yx(r,r.tooltip.settings.shared);if(i==="axis"){var a=f_(r,h_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(Ek({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(WK),h=(l=d.getAttribute(JK))!==null&&l!==void 0?l:void 0,m=sse(t.getState(),f,h);t.dispatch(Tee({activeDataKey:h,activeIndex:f,activeCoordinate:m}))}}}});var lse=NM({brush:vae,cartesianAxis:Die,chartData:hne,errorBars:Gie,graphicalItems:die,layout:MK,legend:GY,options:lne,polarAxis:kre,polarOptions:ase,referenceElements:Eae,rootProps:rse,tooltip:Cee,zIndex:Wte}),use=function(t){return iK({reducer:lse,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Cj.middleware,Nj.middleware,p_.middleware,Mj.middleware,kj.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(HM({type:"raf"}))},devTools:uc.devToolsEnabled})};function cse(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Wn(),a=E.useRef(null);if(i)return n;a.current==null&&(a.current=use(t));var l=Gb;return E.createElement(hae,{context:l,store:a.current},n)}function dse(e){var{layout:t,margin:n}=e,r=Vt(),i=Wn();return E.useEffect(()=>{i||(r(PK(t)),r(RK(n)))},[r,i,t,n]),null}var fse=E.memo(dse,s_);function hse(e){var t=Vt();return E.useEffect(()=>{t(ise(e))},[t,e]),null}function UP(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=oj("".concat(r).concat(t)),a=Vt();return E.useLayoutEffect(()=>(a(Kte({zIndex:t,elementId:i,isPanorama:n})),()=>{a(Yte({zIndex:t,isPanorama:n}))}),[a,t,i,n]),E.createElement("g",{tabIndex:-1,id:i})}function qP(e){var{children:t,isPanorama:n}=e,r=Me(Lte);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return E.createElement(E.Fragment,null,i.map(l=>E.createElement(UP,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>E.createElement(UP,{key:l,zIndex:l,isPanorama:n})))}var pse=["children"];function mse(e,t){if(e==null)return{};var n,r,i=gse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wh.apply(null,arguments)}var vse={width:"100%",height:"100%",display:"block"},yse=E.forwardRef((e,t)=>{var n=ex(),r=tx(),i=_D();if(!oi(n)||!oi(r))return null;var{children:a,otherAttributes:l,title:u,desc:d}=e,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),E.createElement(Db,wh({},l,{title:u,desc:d,role:h,tabIndex:f,width:n,height:r,style:vse,ref:t}),a)}),bse=e=>{var{children:t}=e,n=Me(Xh);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return E.createElement(Db,{width:r,height:i,x:l,y:a},t)},zP=E.forwardRef((e,t)=>{var{children:n}=e,r=mse(e,pse),i=Wn();return i?E.createElement(bse,null,E.createElement(qP,{isPanorama:!0},n)):E.createElement(yse,wh({ref:t},r),E.createElement(qP,{isPanorama:!1},n))});function xse(){var e=Vt(),[t,n]=E.useState(null),r=Me(YK);return E.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;un(a)&&a!==r&&e(IK(a))}},[t,e,r]),n}function $P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(n),!0).forEach(function(r){wse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wse(e,t,n){return(t=Sse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sse(e){var t=Ese(e,"string");return typeof t=="symbol"?t:t+""}function Ese(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(null,arguments)}var Tse=()=>(wne(),null);function Sh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ase=E.forwardRef((e,t)=>{var n,r,i=E.useRef(null),[a,l]=E.useState({containerWidth:Sh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Sh((r=e.style)===null||r===void 0?void 0:r.height)}),u=E.useCallback((f,h)=>{l(m=>{var b=Math.round(f),_=Math.round(h);return m.containerWidth===b&&m.containerHeight===_?m:{containerWidth:b,containerHeight:_}})},[]),d=E.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=f.getBoundingClientRect();u(h,m);var b=S=>{var{width:T,height:A}=S[0].contentRect;u(T,A)},_=new ResizeObserver(b);_.observe(f),i.current=_}},[t,u]);return E.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),E.createElement(E.Fragment,null,E.createElement(ep,{width:a.containerWidth,height:a.containerHeight}),E.createElement("div",jo({ref:d},e)))}),Cse=E.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=E.useState({containerWidth:Sh(n),containerHeight:Sh(r)}),l=E.useCallback((d,f)=>{a(h=>{var m=Math.round(d),b=Math.round(f);return h.containerWidth===m&&h.containerHeight===b?h:{containerWidth:m,containerHeight:b}})},[]),u=E.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[t,l]);return E.createElement(E.Fragment,null,E.createElement(ep,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",jo({ref:u},e)))}),Nse=E.forwardRef((e,t)=>{var{width:n,height:r}=e;return E.createElement(E.Fragment,null,E.createElement(ep,{width:n,height:r}),E.createElement("div",jo({ref:t},e)))}),Rse=E.forwardRef((e,t)=>{var{width:n,height:r}=e;return zi(n)||zi(r)?E.createElement(Cse,jo({},e,{ref:t})):E.createElement(Nse,jo({},e,{ref:t}))});function Pse(e){return e===!0?Ase:Rse}var Ose=E.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:b,onTouchEnd:_,onTouchMove:S,onTouchStart:T,style:A,width:R,responsive:P,dispatchTouchEvents:N=!0}=e,I=E.useRef(null),M=Vt(),[D,k]=E.useState(null),[G,U]=E.useState(null),le=xse(),W=Zb(),H=(W==null?void 0:W.width)>0?W.width:R,re=(W==null?void 0:W.height)>0?W.height:i,ge=E.useCallback(Q=>{le(Q),typeof t=="function"&&t(Q),k(Q),U(Q),Q!=null&&(I.current=Q)},[le,t,k,U]),we=E.useCallback(Q=>{M(Aj(Q)),M(Ar({handler:a,reactEvent:Q}))},[M,a]),B=E.useCallback(Q=>{M(rb(Q)),M(Ar({handler:f,reactEvent:Q}))},[M,f]),J=E.useCallback(Q=>{M(Sk()),M(Ar({handler:h,reactEvent:Q}))},[M,h]),ce=E.useCallback(Q=>{M(rb(Q)),M(Ar({handler:m,reactEvent:Q}))},[M,m]),ue=E.useCallback(()=>{M(Ij())},[M]),Ce=E.useCallback(Q=>{M(Oj(Q.key))},[M]),L=E.useCallback(Q=>{M(Ar({handler:l,reactEvent:Q}))},[M,l]),X=E.useCallback(Q=>{M(Ar({handler:u,reactEvent:Q}))},[M,u]),he=E.useCallback(Q=>{M(Ar({handler:d,reactEvent:Q}))},[M,d]),de=E.useCallback(Q=>{M(Ar({handler:b,reactEvent:Q}))},[M,b]),K=E.useCallback(Q=>{M(Ar({handler:T,reactEvent:Q}))},[M,T]),fe=E.useCallback(Q=>{N&&M(Dj(Q)),M(Ar({handler:S,reactEvent:Q}))},[M,N,S]),_e=E.useCallback(Q=>{M(Ar({handler:_,reactEvent:Q}))},[M,_]),Ke=Pse(P);return E.createElement(Bk.Provider,{value:D},E.createElement(HI.Provider,{value:G},E.createElement(Ke,{width:H??(A==null?void 0:A.width),height:re??(A==null?void 0:A.height),className:ft("recharts-wrapper",r),style:_se({position:"relative",cursor:"default",width:H,height:re},A),onClick:we,onContextMenu:L,onDoubleClick:X,onFocus:ue,onKeyDown:Ce,onMouseDown:he,onMouseEnter:B,onMouseLeave:J,onMouseMove:ce,onMouseUp:de,onTouchEnd:_e,onTouchMove:fe,onTouchStart:K,ref:ge},E.createElement(Tse,null),n)))}),Ise=["width","height","responsive","children","className","style","compact","title","desc"];function Mse(e,t){if(e==null)return{};var n,r,i=Dse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kse=E.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:d,title:f,desc:h}=e,m=Mse(e,Ise),b=ri(m);return d?E.createElement(E.Fragment,null,E.createElement(ep,{width:n,height:r}),E.createElement(zP,{otherAttributes:b,title:f,desc:h},a)):E.createElement(Ose,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},E.createElement(zP,{otherAttributes:b,title:f,desc:h,ref:t},E.createElement(Aae,null,a)))});function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(null,arguments)}var jse={top:5,right:5,bottom:5,left:5},Lse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:jse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Use=E.forwardRef(function(t,n){var r,i=Cn(t.categoricalChartProps,Lse),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return E.createElement(cse,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},E.createElement(gae,{chartData:f.data}),E.createElement(fse,{layout:i.layout,margin:i.margin}),E.createElement(hse,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(kse,ib({},i,{ref:n})))}),qse=["axis"],zse=E.forwardRef((e,t)=>E.createElement(Use,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qse,tooltipPayloadSearcher:one,categoricalChartProps:e,ref:t}));const $se=({user:e,currentEnterpriseId:t})=>{const[n,r]=E.useState([]),[i,a]=E.useState([]),[l,u]=E.useState(""),[d,f]=E.useState(!1),[h,m]=E.useState(!1),[b,_]=E.useState(!1),[S,T]=E.useState(!1),[A,R]=E.useState(!1),[P,N]=E.useState(null),[I,M]=E.useState(null),[D,k]=E.useState(null),[G,U]=E.useState(""),[le,W]=E.useState(""),H=E.useRef(null),[re,ge]=E.useState({unit:"",date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),reading:""}),we=e.memberships.find(me=>me.enterpriseId===t),B=(we==null?void 0:we.permissions[Ue.WATER])||Se.NONE,J=B===Se.READ_WRITE||B===Se.FULL_ACCESS,ce=B===Se.FULL_ACCESS,ue=async()=>{const me=await be.getWaterReadings(t),ye=await be.getUnits(t);r(me),a(ye)};E.useEffect(()=>{ue()},[t]);const Ce=me=>{const ye=me.getFullYear(),Le=String(me.getMonth()+1).padStart(2,"0"),oe=String(me.getDate()).padStart(2,"0");return`${ye}-${Le}-${oe}`},L=E.useMemo(()=>{if(n.length===0)return[];const me={};n.forEach(Le=>{me[Le.unit]||(me[Le.unit]=[]),me[Le.unit].push(Le)});const ye=[];return Object.values(me).forEach(Le=>{const oe=Le.sort((Fe,Pt)=>new Date(Fe.date).getTime()-new Date(Pt.date).getTime());oe.length>0&&(oe[0]={...oe[0],previousReading:oe[0].reading}),ye.push(...oe)}),ye.sort((Le,oe)=>new Date(Le.date).getTime()-new Date(oe.date).getTime())},[n]),X=async()=>{f(!0);const me=await xF.analyzeWaterConsumption(n);u(me),f(!1)},he=me=>{const ye=n.filter(Fe=>Fe.unit===me);let Le=Ce(new Date),oe=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});if(ye.length>0){const Fe=ye.sort((Pt,en)=>new Date(en.date).getTime()-new Date(Pt.date).getTime())[0];if(Fe){const Pt=new Date(Fe.date);oe=Pt.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});const en=new Date(Pt.getFullYear(),Pt.getMonth(),Pt.getDate()+1,12,0,0);Le=Ce(en)}}ge(Fe=>({...Fe,unit:me,date:Le,time:oe,reading:""})),setTimeout(()=>{var Fe;return(Fe=H.current)==null?void 0:Fe.focus()},100)},de=me=>{const{name:ye,value:Le}=me.target;ye==="unit"&&!P?he(Le):ge(oe=>({...oe,[ye]:Le}))},K=()=>{if(!h){N(null);let me=le||(n.length>0?n[0].unit:i[0]);me&&he(me)}m(!h)},fe=me=>{const ye=new Date(me.date);ge({unit:me.unit,date:Ce(ye),time:ye.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),reading:me.reading.toString()}),N(me.id),m(!0),window.scrollTo({top:0,behavior:"smooth"})},_e=async me=>{if(me.preventDefault(),!re.unit||!re.reading)return;const ye=new Date(`${re.date}T${re.time}`).toISOString();if(P)await be.updateWaterReading(P,{date:ye,reading:Number(re.reading)},t,e.email),N(null),m(!1);else{await be.addWaterReading({enterpriseId:t,unit:re.unit,date:ye,reading:Number(re.reading)},e.email),W(re.unit);const Le=new Date(`${re.date}T12:00:00`);Le.setDate(Le.getDate()+1),ge(oe=>({...oe,date:Ce(Le),reading:""}))}ue()},Ke=async me=>{me.preventDefault(),G.trim()&&(await be.addUnit(G.trim(),t,e.email),U(""),ue())},Q=async()=>{D&&(await be.deleteUnit(D,t,e.email),k(null),R(!1),ue())},ve=async()=>{I&&(await be.deleteWaterReading(I,t,e.email),T(!1),M(null),ue())},Ie=L.map(me=>({name:me.unit,consumo:parseFloat(Math.max(0,me.reading-me.previousReading).toFixed(2)),date:new Date(me.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})),ae=E.useMemo(()=>[...L].sort((me,ye)=>new Date(ye.date).getTime()-new Date(me.date).getTime()),[L]);return v.jsxs("div",{className:"space-y-6 relative",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[v.jsx("h2",{className:"text-lg md:text-2xl font-bold text-slate-800 pl-14 md:pl-0",children:"Controle de Consumo de gua"}),v.jsxs("div",{className:"flex gap-2 flex-wrap",children:[ce&&v.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 bg-slate-700 text-white px-4 py-2 rounded-lg hover:bg-slate-800 transition",children:[v.jsx(pb,{size:18})," Gerenciar Unidades"]}),J&&v.jsxs("button",{onClick:K,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:[h?v.jsx(Ct,{size:18}):v.jsx(Xs,{size:18}),h?"Cancelar":"Nova Leitura"]}),v.jsxs("button",{onClick:X,disabled:d,className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition disabled:opacity-50",children:[d?v.jsx(Co,{className:"animate-spin",size:18}):v.jsx(X4,{size:18}),"Analisar IA"]})]})]}),b&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-sm flex flex-col max-h-[80vh]",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Gerenciar Unidades"}),v.jsx("button",{onClick:()=>_(!1),children:v.jsx(Ct,{size:20})})]}),v.jsxs("form",{onSubmit:Ke,className:"mb-4 flex gap-2",children:[v.jsx("input",{type:"text",value:G,onChange:me=>U(me.target.value),className:"flex-1 p-2 border rounded-lg",placeholder:"Nova unidade...",required:!0}),v.jsx("button",{type:"submit",className:"px-3 bg-blue-600 text-white rounded-lg",children:v.jsx(Xs,{size:20})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto pt-2",children:i.map(me=>v.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded mb-2",children:[v.jsx("span",{children:me}),v.jsx("button",{onClick:()=>{k(me),R(!0)},className:"text-red-400 hover:text-red-600",children:v.jsx(sn,{size:16})})]},me))})]})}),A&&v.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60]",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-sm border border-red-100",children:[v.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"Excluir Unidade?"}),v.jsxs("p",{className:"text-slate-600 mb-6",children:["Confirma a excluso de ",v.jsx("b",{children:D}),"? Todo histrico ser perdido."]}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 border rounded-lg",children:"Cancelar"}),v.jsx("button",{onClick:Q,className:"px-4 py-2 bg-red-600 text-white rounded-lg",children:"Excluir"})]})]})}),S&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-sm",children:[v.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"Excluir Leitura?"}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 border rounded-lg",children:"Cancelar"}),v.jsx("button",{onClick:ve,className:"px-4 py-2 bg-red-600 text-white rounded-lg",children:"Excluir"})]})]})}),h&&v.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border border-blue-100",children:v.jsxs("form",{onSubmit:_e,className:"grid md:grid-cols-5 gap-4 items-end",children:[v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade"}),v.jsxs("select",{name:"unit",value:re.unit,onChange:de,className:"w-full p-2 border rounded-lg",required:!0,disabled:!!P,children:[v.jsx("option",{value:"",children:"Selecione..."}),i.map(me=>v.jsx("option",{value:me,children:me},me))]})]}),v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data"}),v.jsx("input",{type:"date",name:"date",value:re.date,onChange:de,className:"w-full p-2 border rounded-lg",required:!0})]}),v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Horrio"}),v.jsx("input",{type:"time",name:"time",value:re.time,onChange:de,className:"w-full p-2 border rounded-lg",required:!0})]}),v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Leitura (m)"}),v.jsx("input",{ref:H,type:"number",name:"reading",value:re.reading,onChange:de,step:"0.01",className:"w-full p-2 border rounded-lg",required:!0})]}),v.jsx("div",{className:"md:col-span-1",children:v.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-2 rounded-lg",children:P?"Atualizar":"Salvar"})})]})}),l&&v.jsx("div",{className:"bg-purple-50 border border-purple-200 p-4 rounded-lg text-purple-900 shadow-sm",children:v.jsx("p",{className:"whitespace-pre-line text-sm",children:l})}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-[400px]",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-slate-700",children:"Grfico de Consumo (m)"}),v.jsx(EY,{width:"100%",height:"90%",children:v.jsxs(zse,{data:Ie,children:[v.jsx(mj,{strokeDasharray:"3 3"}),v.jsx(Ej,{dataKey:"date"}),v.jsx(Tj,{}),v.jsx(Pne,{}),v.jsx(xD,{}),v.jsx(wj,{type:"monotone",dataKey:"consumo",stroke:"#3b82f6"})]})})]}),v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col h-[400px]",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-slate-700",children:"Histrico de Leituras"}),v.jsx("div",{className:"overflow-y-auto flex-1",children:v.jsxs("table",{className:"w-full text-sm text-left relative",children:[v.jsx("thead",{className:"bg-slate-50 sticky top-0 z-10 shadow-sm",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-2",children:"Unidade"}),v.jsx("th",{className:"px-4 py-2",children:"Data"}),v.jsx("th",{className:"px-4 py-2",children:"Leitura"}),v.jsx("th",{className:"px-4 py-2",children:"Consumo"}),v.jsx("th",{className:"px-4 py-2 text-right",children:"Ao"})]})}),v.jsx("tbody",{children:ae.map(me=>v.jsxs("tr",{className:"border-b hover:bg-slate-50",children:[v.jsx("td",{className:"px-4 py-3 font-medium",children:me.unit}),v.jsxs("td",{className:"px-4 py-3",children:[new Date(me.date).toLocaleDateString()," ",v.jsx("span",{className:"text-xs text-slate-400",children:new Date(me.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),v.jsx("td",{className:"px-4 py-3",children:me.reading}),v.jsx("td",{className:"px-4 py-3 font-bold text-blue-600",children:me.reading-me.previousReading>0?(me.reading-me.previousReading).toFixed(2):"0.00"}),v.jsx("td",{className:"px-4 py-3 text-right",children:ce&&v.jsxs("div",{className:"flex justify-end gap-1",children:[v.jsx("button",{onClick:()=>fe(me),className:"text-blue-500 p-1",children:v.jsx(La,{size:16})}),v.jsx("button",{onClick:()=>{M(me.id),T(!0)},className:"text-red-500 p-1",children:v.jsx(sn,{size:16})})]})})]},me.id))})]})})]})]})]})},BP=({onSave:e,label:t})=>{const[n,r]=E.useState(!1),[i,a]=E.useState(null),l=E.useRef(null),u=E.useRef([]),d=async()=>{try{const m=await navigator.mediaDevices.getUserMedia({audio:!0});l.current=new MediaRecorder(m),u.current=[],l.current.ondataavailable=b=>{b.data.size>0&&u.current.push(b.data)},l.current.onstop=()=>{const b=new Blob(u.current,{type:"audio/webm"}),_=URL.createObjectURL(b);a(_);const S=new FileReader;S.readAsDataURL(b),S.onloadend=()=>{e(S.result)}},l.current.start(),r(!0)}catch{alert("Erro ao acessar microfone. Verifique as permisses.")}},f=()=>{l.current&&n&&(l.current.stop(),l.current.stream.getTracks().forEach(m=>m.stop()),r(!1))},h=()=>{a(null),e("")};return v.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg bg-slate-50",children:[t&&v.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase mr-2",children:t}),i?v.jsxs("div",{className:"flex items-center gap-2 w-full",children:[v.jsx("audio",{src:i,controls:!0,className:"h-8 w-48"}),v.jsx("button",{type:"button",onClick:h,className:"text-red-500 hover:text-red-700",children:v.jsx(sn,{size:16})})]}):v.jsx("button",{type:"button",onClick:n?f:d,className:`p-2 rounded-full transition ${n?"bg-red-100 text-red-600 animate-pulse":"bg-blue-100 text-blue-600"}`,title:n?"Parar Gravao":"Gravar udio",children:n?v.jsx(Zz,{size:20}):v.jsx(I4,{size:20})}),n&&v.jsx("span",{className:"text-xs text-red-500 font-bold animate-pulse",children:"Gravando..."})]})},Bse=({userEmail:e,userRole:t,currentEnterpriseId:n,permissions:r,userName:i,memberships:a})=>{const[l,u]=E.useState([]),[d,f]=E.useState(!1),[h,m]=E.useState(!1),[b,_]=E.useState("grid"),[S,T]=E.useState([]),[A,R]=E.useState(!1),P=E.useRef(null),[N,I]=E.useState([]),[M,D]=E.useState([]),[k,G]=E.useState([]),[U,le]=E.useState(""),[W,H]=E.useState(""),[re,ge]=E.useState(null),we=E.useRef(null),B=E.useRef(null),[J,ce]=E.useState({assignee:"",startDate:"",endDate:"",status:"",enterpriseContext:"CURRENT"}),[ue,Ce]=E.useState(null),[L,X]=E.useState(!1),[he,de]=E.useState(!1),[K,fe]=E.useState(null),_e=r[Ue.TASKS]||Se.NONE,Ke=_e===Se.READ_WRITE||_e===Se.FULL_ACCESS,Q=_e===Se.FULL_ACCESS,[ve,Ie]=E.useState({title:"",description:"",audioDescription:"",assignedTo:Q?"":e,dueDate:new Date().toISOString().split("T")[0],status:"PENDING",notifyAssignee:!0}),ae=async()=>{let z=[];if(J.enterpriseContext==="ALL")z=await be.getUnifiedTasks(e,a);else{const $e=J.enterpriseContext==="CURRENT"?n:J.enterpriseContext,gt=a.find(Ye=>Ye.enterpriseId===$e),ht=(gt==null?void 0:gt.permissions[Ue.TASKS])||Se.NONE;z=await be.getTasks(e,ht,$e)}u(z);let De=await be.getAvailableUsers(n);Q||(De=De.filter($e=>$e.id.toLowerCase()===e.toLowerCase()),De.length===0&&(De=[{name:i||"Voc",id:e,type:"USER"}]),ce($e=>({...$e,assignee:e}))),T(De)};E.useEffect(()=>{ce(z=>({...z,enterpriseContext:"CURRENT"}))},[n]),E.useEffect(()=>{ae()},[n,e,J.enterpriseContext]),E.useEffect(()=>{ue?(be.getTaskComments(ue).then(G),be.getTaskAttachments(ue).then(D)):(G([]),D([]))},[ue]),E.useEffect(()=>{function z(De){P.current&&!P.current.contains(De.target)&&R(!1)}return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[P]);const me=async z=>{if(z.preventDefault(),L)return;X(!0);let De=ue;try{if(ue){const $e=l.find(ht=>ht.id===ue),gt=$e?$e.enterpriseId:n;await be.updateTask(ue,ve,gt,e)}else{const $e=await be.addTask({...ve,enterpriseId:n},e);$e&&(De=$e.id)}if(De&&N.length>0)for(const $e of N)await be.addTaskAttachment(De,$e);ye(),ae()}catch($e){console.error($e)}finally{X(!1)}},ye=()=>{f(!1),Ce(null),I([]),ge(null),Ie({title:"",description:"",audioDescription:"",assignedTo:Q?"":e,dueDate:new Date().toISOString().split("T")[0],status:"PENDING",notifyAssignee:!0})},Le=z=>{const De=a.find(ht=>ht.enterpriseId===z.enterpriseId),$e=(De==null?void 0:De.permissions[Ue.TASKS])||Se.NONE;if(!($e===Se.READ_WRITE||$e===Se.FULL_ACCESS)){alert("Voc no tem permisso para editar tarefas neste condomnio.");return}if($e!==Se.FULL_ACCESS&&z.assignedTo.toLowerCase()!==e.toLowerCase()){alert("Voc s pode editar suas prprias tarefas.");return}Ce(z.id),Ie({title:z.title,description:z.description,audioDescription:z.audioDescription||"",assignedTo:z.assignedTo,dueDate:z.dueDate?z.dueDate.length===10?z.dueDate:z.dueDate.split("T")[0]:"",status:z.status,notifyAssignee:z.notifyAssignee??!0}),I([]),f(!0)},oe=(z,De)=>{z.stopPropagation(),Q&&(fe(De.id),de(!0))},Fe=async()=>{K&&(await be.deleteTask(K,n,e),de(!1),fe(null),ae())},Pt=async z=>{const De=a.find(Ye=>Ye.enterpriseId===z.enterpriseId),$e=(De==null?void 0:De.permissions[Ue.TASKS])||Se.NONE;if(!($e===Se.READ_WRITE||$e===Se.FULL_ACCESS)||$e!==Se.FULL_ACCESS&&z.assignedTo.toLowerCase()!==e.toLowerCase())return;const ht=z.status==="COMPLETED"?"PENDING":"COMPLETED";u(Ye=>Ye.map(Ln=>Ln.id===z.id?{...Ln,status:ht}:Ln)),await be.updateTask(z.id,{status:ht},z.enterpriseId,e),ae()},en=async z=>{const De=z.target.files;if(De&&De.length>0){if((M.length||0)+N.length+De.length>5){alert("Mximo de 5 imagens permitido.");return}const gt=Array.from(De).map(Ye=>Rh(Ye)),ht=await Promise.all(gt);I(Ye=>[...Ye,...ht])}},hr=async()=>{if(ue&&(U.trim()||W)){const z=U.trim()||W,De=U.trim()?"TEXT":"AUDIO";await be.addTaskComment(ue,e,i||"Usurio",z,De);const $e=await be.getTaskComments(ue);G($e),le(""),H("")}},na=async z=>{await be.deleteCustomAssignee(z,n),ae()},Lt=async()=>{ve.assignedTo.trim()&&(await be.addCustomAssignee(ve.assignedTo.trim(),n),R(!1),ae())},Jn=z=>{if(z.toLowerCase()===e.toLowerCase())return`${i||"Voc"}`;const De=S.find($e=>$e.id.toLowerCase()===z.toLowerCase());return De?De.name:z.split("@")[0]},Ft=z=>{if(!z)return"Sem data";const De=z.includes("T")?z.split("T")[0]:z;if(De.length!==10)return De;const[$e,gt,ht]=De.split("-");return`${ht}/${gt}/${$e}`},bt=[...M.map(z=>z.url),...N],$o=()=>{re!==null&&ge(z=>z!==null?(z-1+bt.length)%bt.length:null)},ui=()=>{re!==null&&ge(z=>z!==null?(z+1)%bt.length:null)},jn=l.filter(z=>{const De=J.assignee?z.assignedTo.toLowerCase()===J.assignee.toLowerCase():!0,$e=J.status?z.status===J.status:!0;let gt=!0;const ht=z.dueDate?z.dueDate.length===10?z.dueDate:z.dueDate.split("T")[0]:"";return J.startDate&&(gt=ht>=J.startDate),J.endDate&&gt&&(gt=ht<=J.endDate),De&&$e&&gt});return v.jsxs("div",{className:"space-y-6 relative",children:[v.jsx("style",{children:"@keyframes borderPulse { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); border-color: rgba(239, 68, 68, 1); } 50% { box-shadow: 0 0 0 6px rgba(239, 68, 68, 0.1); border-color: rgba(239, 68, 68, 0.6); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); border-color: rgba(239, 68, 68, 1); } } .task-pulse { animation: borderPulse 2s infinite; }"}),v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[v.jsx("h2",{className:"text-lg md:text-2xl font-bold text-slate-800 pl-14 md:pl-0",children:"Controle de Tarefas"}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[v.jsxs("div",{className:"flex bg-white rounded-lg border border-slate-200 p-1 mr-2 self-start",children:[v.jsx("button",{onClick:()=>_("grid"),className:`p-2 rounded ${b==="grid"?"bg-blue-100 text-blue-600":"text-slate-400"}`,children:v.jsx(b4,{size:18})}),v.jsx("button",{onClick:()=>_("list"),className:`p-2 rounded ${b==="list"?"bg-blue-100 text-blue-600":"text-slate-400"}`,children:v.jsx(_4,{size:18})})]}),Q&&J.enterpriseContext==="CURRENT"&&v.jsxs("button",{onClick:()=>m(!0),className:"bg-slate-700 text-white px-3 py-2 rounded-lg flex items-center justify-center gap-2 text-sm",children:[v.jsx(Sf,{size:16})," Resp."]}),Ke&&J.enterpriseContext==="CURRENT"&&v.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 text-sm flex-1 md:flex-none",children:[v.jsx(Xs,{size:16})," Nova Tarefa"]})]})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-xl border border-slate-200 shadow-sm items-end flex-wrap",children:[a.length>1&&v.jsxs("div",{className:"flex-1 w-full min-w-[200px] md:w-auto",children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Condomnio"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{value:J.enterpriseContext,onChange:z=>ce({...J,enterpriseContext:z.target.value}),className:"w-full p-2 border rounded-lg bg-blue-50 text-blue-900 text-sm font-medium border-blue-200",children:[v.jsx("option",{value:"CURRENT",children:"Atual (Padro)"}),v.jsx("option",{value:"ALL",children:"Todos os Condomnios (Viso Unificada)"}),v.jsx("optgroup",{label:"Especficos",children:a.map(z=>v.jsx("option",{value:z.enterpriseId,children:z.enterpriseName},z.enterpriseId))})]}),v.jsx(pb,{size:14,className:"absolute right-3 top-3 text-blue-400"})]})]}),v.jsxs("div",{className:"flex-1 w-full md:w-auto",children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Responsvel"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{value:J.assignee,onChange:z=>ce({...J,assignee:z.target.value}),className:`w-full p-2 border rounded-lg bg-slate-50 text-sm ${Q?"":"opacity-70 cursor-not-allowed bg-slate-100"}`,disabled:!Q,children:[v.jsx("option",{value:"",children:"Todos"}),S.map(z=>v.jsx("option",{value:z.id,children:z.name},z.id))]}),v.jsx(gO,{size:14,className:"absolute right-3 top-3 text-slate-400"})]})]}),v.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"De"}),v.jsx("input",{type:"date",value:J.startDate,onChange:z=>ce({...J,startDate:z.target.value}),className:"w-full p-2 border rounded-lg bg-slate-50 text-sm"})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"At"}),v.jsx("input",{type:"date",value:J.endDate,onChange:z=>ce({...J,endDate:z.target.value}),className:"w-full p-2 border rounded-lg bg-slate-50 text-sm"})]})]}),v.jsxs("div",{className:"flex-1 w-full md:w-auto",children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Status"}),v.jsxs("select",{value:J.status,onChange:z=>ce({...J,status:z.target.value}),className:"w-full p-2 border rounded-lg bg-slate-50 text-sm",children:[v.jsx("option",{value:"",children:"Todos"}),v.jsx("option",{value:"PENDING",children:"Pendente"}),v.jsx("option",{value:"COMPLETED",children:"Concludo"})]})]}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{onClick:()=>{const z=new Date().toISOString().split("T")[0];ce({...J,startDate:z,endDate:z})},className:"px-3 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg text-xs font-bold text-slate-600",children:"Hoje"}),v.jsx("button",{onClick:()=>ce({assignee:Q?"":e,startDate:"",endDate:"",status:"",enterpriseContext:"CURRENT"}),className:"px-3 py-2 text-red-500 hover:bg-red-50 rounded-lg text-xs font-bold",children:v.jsx(Ct,{size:16})})]})]}),b==="grid"?v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:jn.map(z=>{const De=z.status!=="COMPLETED"&&z.dueDate&&z.dueDate<new Date().toISOString().split("T")[0],$e=a.find(Ye=>Ye.enterpriseId===z.enterpriseId),gt=($e==null?void 0:$e.permissions[Ue.TASKS])||Se.NONE,ht=gt===Se.FULL_ACCESS||gt===Se.READ_WRITE&&z.assignedTo.toLowerCase()===e.toLowerCase();return v.jsxs("div",{onClick:()=>Le(z),className:`bg-white p-5 rounded-xl shadow-sm border flex flex-col cursor-pointer transition-colors hover:border-blue-300 ${z.status==="COMPLETED"?"border-green-100 bg-green-50/30":"border-slate-200"} ${De?"task-pulse border-red-400":""}`,children:[v.jsxs("div",{className:"flex justify-between items-start mb-3",children:[v.jsxs("button",{onClick:Ye=>{Ye.stopPropagation(),Pt(z)},className:`text-xs px-2 py-1 rounded-full border flex items-center gap-1 font-medium ${z.status==="COMPLETED"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[z.status==="COMPLETED"?v.jsx(PT,{size:12}):v.jsx(OT,{size:12}),z.status==="COMPLETED"?"Concluda":"Pendente"]}),v.jsxs("span",{className:`text-xs flex items-center gap-1 ${De?"text-red-600 font-bold":"text-slate-400"}`,children:[v.jsx(zz,{size:12})," ",Ft(z.dueDate)]})]}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:z.title}),v.jsx("p",{className:"text-slate-600 text-sm mb-4 line-clamp-3 flex-1",children:z.description}),z.enterpriseName&&v.jsx("div",{className:"mb-2",children:v.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-700 text-[10px] px-2 py-1 rounded uppercase font-bold border border-blue-200",children:[v.jsx(dO,{size:10})," ",z.enterpriseName]})}),v.jsxs("div",{className:"flex justify-between items-center mt-2 mb-2",children:[v.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1",children:[v.jsx(wf,{size:10})," Criado: ",new Date(z.createdAt||Date.now()).toLocaleDateString("pt-BR")]}),v.jsxs("span",{className:"text-[9px] text-slate-300 font-mono",children:["#",z.id.substring(0,8)]})]}),v.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-slate-100 mt-auto",children:[v.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 bg-slate-50 px-2 py-1 rounded-lg",children:[v.jsx(Sf,{size:12})," ",Jn(z.assignedTo)]}),v.jsxs("div",{className:"flex gap-2",children:[ht&&v.jsxs("span",{className:"text-sm text-blue-600 font-medium flex items-center gap-1 p-1 rounded",children:[v.jsx(La,{size:14})," Editar"]}),Q&&v.jsx("button",{onClick:Ye=>oe(Ye,z),className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded transition",children:v.jsx(sn,{size:14})})]})]})]},z.id)})}):v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs font-medium border-b border-slate-200",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3",children:"Status"}),v.jsx("th",{className:"px-4 py-3",children:"Tarefa"}),v.jsx("th",{className:"px-4 py-3",children:"Responsvel"}),v.jsx("th",{className:"px-4 py-3",children:"Data"}),v.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100 text-sm",children:jn.map(z=>{const De=z.status!=="COMPLETED"&&z.dueDate&&z.dueDate<new Date().toISOString().split("T")[0],$e=a.find(Ye=>Ye.enterpriseId===z.enterpriseId),gt=($e==null?void 0:$e.permissions[Ue.TASKS])||Se.NONE,ht=gt===Se.FULL_ACCESS||gt===Se.READ_WRITE&&z.assignedTo.toLowerCase()===e.toLowerCase();return v.jsxs("tr",{onClick:()=>Le(z),className:`hover:bg-slate-50 cursor-pointer ${De?"bg-red-50":""}`,children:[v.jsx("td",{className:"px-4 py-3",children:v.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),Pt(z)},className:`p-1 rounded-full ${z.status==="COMPLETED"?"text-green-600":"text-slate-300 hover:text-blue-600"}`,children:z.status==="COMPLETED"?v.jsx(PT,{size:20}):v.jsx(OT,{size:20})})}),v.jsxs("td",{className:"px-4 py-3",children:[v.jsx("span",{className:`font-medium ${z.status==="COMPLETED"?"line-through text-slate-400":"text-slate-800"}`,children:z.title}),z.enterpriseName&&v.jsx("span",{className:"ml-2 text-[10px] bg-blue-100 text-blue-700 px-1 py-0.5 rounded font-bold",children:z.enterpriseName}),v.jsxs("div",{className:"text-[10px] text-slate-400 mt-1",children:["Criado: ",new Date(z.createdAt||Date.now()).toLocaleDateString("pt-BR")]})]}),v.jsx("td",{className:"px-4 py-3 text-slate-600",children:Jn(z.assignedTo)}),v.jsx("td",{className:`px-4 py-3 ${De?"text-red-600 font-bold":"text-slate-500"}`,children:Ft(z.dueDate)}),v.jsxs("td",{className:"px-4 py-3 text-right flex justify-end gap-3",children:[ht&&v.jsx("span",{className:"text-blue-600 hover:underline",children:"Editar"}),Q&&v.jsx("button",{onClick:Ye=>oe(Ye,z),className:"text-red-500 hover:text-red-700",children:v.jsx(sn,{size:16})})]})]},z.id)})})]})}),he&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[70]",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-sm",children:[v.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-4 flex items-center gap-2",children:[v.jsx(sn,{size:20})," Excluir Tarefa?"]}),v.jsx("p",{className:"text-slate-600 mb-6 text-sm",children:"Tem certeza que deseja excluir esta tarefa? Todo o histrico de comentrios e anexos ser perdido permanentemente."}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:()=>de(!1),className:"px-4 py-2 border rounded-lg hover:bg-slate-50 text-sm",children:"Cancelar"}),v.jsx("button",{onClick:Fe,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm font-bold",children:"Confirmar Excluso"})]})]})}),d&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h3",{className:"text-xl font-bold",children:ue?"Editar Tarefa":"Nova Tarefa"}),v.jsx("button",{onClick:ye,children:v.jsx(Ct,{size:24})})]}),v.jsxs("form",{onSubmit:me,className:"space-y-6",children:[v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ttulo"}),v.jsx("input",{type:"text",required:!0,value:ve.title,onChange:z=>Ie({...ve,title:z.target.value}),className:"w-full p-2 border rounded-lg"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio"}),v.jsx("textarea",{value:ve.description,onChange:z=>Ie({...ve,description:z.target.value}),className:"w-full p-2 border rounded-lg h-24 mb-2"}),v.jsx(BP,{label:"Adicionar udio na Descrio",onSave:z=>Ie({...ve,audioDescription:z})}),ve.audioDescription&&v.jsxs("div",{className:"mt-2 p-2 bg-slate-50 rounded border border-slate-200",children:[v.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"udio Anexado:"}),v.jsx("audio",{src:ve.audioDescription,controls:!0,className:"h-8 w-full"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Limite"}),v.jsx("input",{type:"date",value:ve.dueDate,onChange:z=>Ie({...ve,dueDate:z.target.value}),className:"w-full p-2 border rounded-lg"})]}),v.jsxs("div",{className:"relative",ref:P,children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Responsvel"}),Q?v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"text",required:!0,value:ve.assignedTo,onChange:z=>{Ie({...ve,assignedTo:z.target.value}),R(!0)},onFocus:()=>R(!0),className:"w-full p-2 border rounded-lg"}),A&&v.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[S.filter(z=>(z.id||"").toLowerCase().includes(ve.assignedTo.toLowerCase())||z.name.toLowerCase().includes(ve.assignedTo.toLowerCase())).map((z,De)=>v.jsxs("div",{onClick:()=>{Ie({...ve,assignedTo:z.id}),R(!1)},className:"px-4 py-2 hover:bg-blue-50 cursor-pointer text-sm",children:[z.name," ",v.jsxs("span",{className:"text-xs text-slate-400",children:["(",z.id,")"]})]},De)),v.jsxs("div",{onClick:Lt,className:"px-4 py-2 hover:bg-blue-50 cursor-pointer text-sm text-blue-600 font-bold",children:['Cadastrar novo: "',ve.assignedTo,'"']})]})]}):v.jsx("select",{value:ve.assignedTo,onChange:z=>Ie({...ve,assignedTo:z.target.value}),className:"w-full p-2 border rounded-lg bg-slate-100",disabled:!0,children:v.jsx("option",{value:e,children:i||e})})]})]}),v.jsxs("div",{className:"flex items-center gap-3 py-2 bg-yellow-50 rounded-lg px-3 border border-yellow-100",children:[v.jsx("div",{className:`p-1.5 rounded-full ${ve.notifyAssignee?"bg-yellow-200 text-yellow-700":"bg-slate-200 text-slate-400"}`,children:v.jsx(hb,{size:16})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{htmlFor:"notifyToggle",className:"text-sm font-bold text-slate-700 cursor-pointer select-none",children:"Notificar Responsvel por E-mail"}),v.jsx("p",{className:"text-[10px] text-slate-500",children:"Se ativo, enviaremos um alerta ao salvar."})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{id:"notifyToggle",type:"checkbox",checked:ve.notifyAssignee,onChange:z=>Ie({...ve,notifyAssignee:z.target.checked}),className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Anexar Imagens (Mx: 5)"}),v.jsxs("div",{className:"flex gap-2 mb-2",children:[v.jsx("input",{type:"file",accept:"image/*",multiple:!0,ref:we,className:"hidden",onChange:en}),v.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:B,className:"hidden",onChange:en}),v.jsxs("button",{type:"button",onClick:()=>{var z;return(z=we.current)==null?void 0:z.click()},className:"flex items-center gap-2 px-3 py-2 border rounded hover:bg-slate-50 text-sm",children:[v.jsx(mb,{size:16})," Galeria"]}),v.jsxs("button",{type:"button",onClick:()=>{var z;return(z=B.current)==null?void 0:z.click()},className:"flex items-center gap-2 px-3 py-2 border rounded hover:bg-slate-50 text-sm",children:[v.jsx(_f,{size:16})," Cmera"]})]}),v.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[M.map((z,De)=>v.jsx("div",{className:"relative aspect-square bg-slate-100 rounded overflow-hidden border cursor-pointer hover:opacity-80 transition",onClick:()=>ge(De),children:v.jsx("img",{src:z.url,alt:"anexo",className:"w-full h-full object-cover"})},z.id)),N.map((z,De)=>v.jsxs("div",{className:"relative aspect-square bg-slate-100 rounded overflow-hidden border border-blue-300 cursor-pointer hover:opacity-80 transition",onClick:()=>ge(M.length+De),children:[v.jsx("img",{src:z,alt:"novo anexo",className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute top-0 right-0 bg-blue-500 text-white text-[10px] px-1",children:"Novo"})]},De))]})]}),ue&&v.jsxs("div",{className:"border-t pt-4",children:[v.jsxs("h4",{className:"font-bold text-slate-700 mb-3 flex items-center gap-2",children:[v.jsx(wf,{size:16})," Comentrios e Histrico"]}),v.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 mb-3 max-h-48 overflow-y-auto space-y-3",children:[k.length===0&&v.jsx("p",{className:"text-center text-slate-400 text-xs",children:"Nenhum comentrio ainda."}),k.map(z=>v.jsxs("div",{className:`flex flex-col ${z.userEmail===e?"items-end":"items-start"}`,children:[v.jsx("div",{className:`p-2 rounded-lg max-w-[85%] text-sm ${z.userEmail===e?"bg-blue-100 text-blue-900 rounded-tr-none":"bg-white border rounded-tl-none"}`,children:z.contentType==="AUDIO"?v.jsx("audio",{src:z.content,controls:!0,className:"h-8 w-40"}):v.jsx("p",{children:z.content})}),v.jsxs("span",{className:"text-[10px] text-slate-400 mt-1",children:[z.userName,"  ",new Date(z.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},z.id))]}),v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx("input",{type:"text",placeholder:"Digite um comentrio...",value:U,onChange:z=>le(z.target.value),className:"flex-1 p-2 border rounded-lg text-sm",onKeyDown:z=>{z.key==="Enter"&&(z.preventDefault(),hr())}}),v.jsx("div",{className:"scale-75 origin-right",children:v.jsx(BP,{onSave:z=>H(z)})}),(U||W)&&v.jsx("button",{type:"button",onClick:hr,className:"bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700",children:v.jsx(F4,{size:16})})]})]}),v.jsx("div",{className:"flex justify-end pt-2",children:v.jsxs("button",{type:"submit",disabled:L,className:"bg-blue-600 text-white px-6 py-2 rounded-lg disabled:opacity-50 flex items-center gap-2",children:[L&&v.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),ue?"Atualizar":"Salvar"]})})]})]})}),re!==null&&v.jsxs("div",{className:"fixed inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 animate-fade-in",onClick:()=>ge(null),children:[v.jsx("button",{onClick:()=>ge(null),className:"absolute top-4 right-4 text-white/70 hover:text-white p-2 z-[70]",children:v.jsx(Ct,{size:32})}),v.jsxs("div",{className:"w-full h-full flex items-center justify-center relative",onClick:z=>z.stopPropagation(),children:[bt.length>1&&v.jsx("button",{onClick:$o,className:"absolute left-2 text-white/50 hover:text-white hover:bg-white/10 p-2 rounded-full transition",children:v.jsx(hO,{size:48})}),v.jsx("img",{src:bt[re],alt:`Imagem ${re+1}`,className:"max-h-full max-w-full object-contain"}),bt.length>1&&v.jsx("button",{onClick:ui,className:"absolute right-2 text-white/50 hover:text-white hover:bg-white/10 p-2 rounded-full transition",children:v.jsx(fO,{size:48})}),v.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 px-3 py-1 rounded-full text-white text-sm",children:[re+1," / ",bt.length]})]})]}),h&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-sm flex flex-col max-h-[80vh]",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-bold",children:"Gerenciar Responsveis"}),v.jsx("button",{onClick:()=>m(!1),children:v.jsx(Ct,{})})]}),v.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Adicione nomes avulsos (prestadores) ou use os usurios cadastrados."}),v.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:S.map(z=>v.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded",children:[v.jsx("span",{className:"text-sm",children:z.name}),z.type==="CUSTOM"&&v.jsx("button",{onClick:()=>na(z.name),className:"text-red-400 hover:text-red-600",children:v.jsx(sn,{size:14})})]},z.id))})]})})]})},HP=({onSave:e,initialSignature:t,readOnly:n=!1})=>{const r=E.useRef(null),[i,a]=E.useState(!1),[l,u]=E.useState(!1);E.useEffect(()=>{const _=r.current;if(!_)return;const S=_.getContext("2d");if(S)if(t){const T=new Image;T.onload=()=>S.drawImage(T,0,0),T.src=t,u(!0)}else S.lineWidth=2,S.lineCap="round",S.strokeStyle="#000000"},[t]);const d=_=>{if(n)return;const S=r.current;if(!S)return;const T=S.getContext("2d");if(!T)return;a(!0);const{offsetX:A,offsetY:R}=m(_,S);T.beginPath(),T.moveTo(A,R)},f=_=>{if(!i||n)return;const S=r.current;if(!S)return;const T=S.getContext("2d");if(!T)return;const{offsetX:A,offsetY:R}=m(_,S);T.lineTo(A,R),T.stroke(),u(!0)},h=()=>{if(i){a(!1);const _=r.current;_&&e(_.toDataURL())}},m=(_,S)=>{if(_.touches){const T=_.touches[0],A=S.getBoundingClientRect();return{offsetX:T.clientX-A.left,offsetY:T.clientY-A.top}}else return{offsetX:_.nativeEvent.offsetX,offsetY:_.nativeEvent.offsetY}},b=()=>{const _=r.current;if(_){const S=_.getContext("2d");S==null||S.clearRect(0,0,_.width,_.height),u(!1),e("")}};return n&&t?v.jsx("img",{src:t,alt:"Assinatura",className:"border rounded w-full h-32 object-contain bg-white"}):v.jsxs("div",{className:"border rounded bg-white relative",children:[v.jsx("canvas",{ref:r,width:350,height:150,className:"w-full touch-none cursor-crosshair",onMouseDown:d,onMouseMove:f,onMouseUp:h,onMouseLeave:h,onTouchStart:d,onTouchMove:f,onTouchEnd:h}),!n&&v.jsx("button",{type:"button",onClick:b,className:"absolute top-2 right-2 text-xs text-red-500 bg-white border border-red-200 px-2 py-1 rounded shadow-sm hover:bg-red-50",children:"Limpar"}),!l&&!n&&v.jsx("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-slate-300 pointer-events-none text-sm",children:"Assine aqui"})]})},Hse=({currentEnterpriseId:e,userEmail:t,readOnly:n,permissionLevel:r})=>{const[i,a]=E.useState([]),[l,u]=E.useState(null),[d,f]=E.useState([]),[h,m]=E.useState([]),[b,_]=E.useState([]),[S,T]=E.useState([]),[A,R]=E.useState(""),[P,N]=E.useState(""),[I,M]=E.useState(!1),[D,k]=E.useState(!1),[G,U]=E.useState(!1),[le,W]=E.useState(!1),[H,re]=E.useState(!1),[ge,we]=E.useState(!1),[B,J]=E.useState(null),[ce,ue]=E.useState(null),[Ce,L]=E.useState(!1),[X,he]=E.useState("CATEGORY"),[de,K]=E.useState(""),[fe,_e]=E.useState(null),[Ke,Q]=E.useState(null),[ve,Ie]=E.useState(null),[ae,me]=E.useState(null),[ye,Le]=E.useState({name:"",category:"",location:"",description:"",installDate:new Date().toISOString().split("T")[0],acquisitionDate:new Date().toISOString().split("T")[0],status:"OPERATIONAL"}),[oe,Fe]=E.useState([]),[Pt,en]=E.useState(!1),hr=E.useRef(null),na=E.useRef(null),[Lt,Jn]=E.useState({date:new Date().toISOString().split("T")[0],technician:"",description:"",type:"PREVENTIVE",signatureUrl:""}),Ft=r===Se.READ_WRITE||r===Se.FULL_ACCESS,bt=r===Se.FULL_ACCESS,$o=r===Se.READ_WRITE||r===Se.FULL_ACCESS,ui=E.useRef(null),jn=async()=>{a(await be.getEquipment(e)),_(await be.getEquipmentCategories(e)),T(await be.getEquipmentLocations(e))};E.useEffect(()=>{jn()},[e]),E.useEffect(()=>{l&&(be.getMaintenanceLogs(l.id).then(f),be.getEquipmentImages(l.id).then(m))},[l]),E.useEffect(()=>{let te=null;return G&&Ft&&navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(Oe=>{te=Oe,ui.current&&(ui.current.srcObject=te,ui.current.play())}).catch(Oe=>alert("Erro ao acessar cmera: "+Oe)),()=>{te&&te.getTracks().forEach(Oe=>Oe.stop())}},[G]);const z=async te=>{const Oe=te.target.files;if(Oe&&Oe.length>0){if(oe.length+Oe.length>3){alert("Mximo de 3 imagens.");return}const dn=Array.from(Oe).map(Ya=>Rh(Ya)),ia=await Promise.all(dn);Fe(Ya=>[...Ya,...ia])}},De=()=>{Ie(null),Le({name:"",category:"",location:"",description:"",installDate:new Date().toISOString().split("T")[0],acquisitionDate:new Date().toISOString().split("T")[0],status:"OPERATIONAL"}),Fe([]),M(!0)},$e=async te=>{if(te.preventDefault(),!Pt){en(!0);try{if(ve){if(await be.updateEquipment(ve,ye,e,t),oe.length>0)for(const Oe of oe)await be.addEquipmentImage(ve,Oe);if((l==null?void 0:l.id)===ve){const Oe={...l,...ye};u(Oe),be.getEquipmentImages(ve).then(m)}}else{const Oe=await be.addEquipment({...ye,enterpriseId:e,lastMaintenance:ye.installDate,nextMaintenance:new Date(Date.now()+7776e6).toISOString()},t);if(Oe&&oe.length>0)for(const dn of oe)await be.addEquipmentImage(Oe.id,dn)}M(!1),Ie(null),jn()}catch(Oe){console.error(Oe)}finally{en(!1)}}},gt=(te,Oe)=>{te.stopPropagation(),Ie(Oe.id),Le({name:Oe.name,category:Oe.category,location:Oe.location,description:Oe.description||"",installDate:Oe.installDate?Oe.installDate.split("T")[0]:"",acquisitionDate:Oe.acquisitionDate?Oe.acquisitionDate.split("T")[0]:"",status:Oe.status}),Fe([]),M(!0)},ht=async te=>{te.preventDefault(),l&&(ae?await be.updateMaintenanceLog(ae,Lt,e,t):await be.addMaintenanceLog({equipmentId:l.id,...Lt},t,e),k(!1),me(null),f(await be.getMaintenanceLogs(l.id)))},Ye=()=>{me(null),Jn({date:new Date().toISOString().split("T")[0],technician:"",description:"",type:"PREVENTIVE",signatureUrl:""}),k(!0)},Ln=te=>{me(te.id),Jn({date:te.date.split("T")[0],technician:te.technician,description:te.description,type:te.type,signatureUrl:te.signatureUrl||""}),k(!0)},Nn=te=>{const Oe=`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=app://equipment/${te.id}`,dn=window.open("","_blank","width=400,height=400");dn&&(dn.document.write(`
        <html>
          <head>
            <title>Etiqueta - ${te.name}</title>
            <style>
              body { font-family: sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; }
              .label-container { border: 2px solid #000; padding: 20px; border-radius: 10px; text-align: center; width: 250px; }
              h2 { margin: 10px 0 5px; font-size: 18px; font-weight: bold; }
              .meta { font-size: 12px; color: #555; margin-bottom: 5px; }
              .id { font-family: monospace; background: #eee; padding: 2px 5px; border-radius: 4px; font-size: 14px; }
              img { margin-bottom: 10px; }
              .footer { margin-top: 10px; font-size: 10px; text-transform: uppercase; letter-spacing: 1px; }
            </style>
          </head>
          <body>
            <div class="label-container">
              <img src="${Oe}" alt="QR Code" width="150" height="150"/>
              <h2>${te.name}</h2>
              <p class="meta">${te.location}</p>
              <span class="id">${te.id.substring(0,8)}</span>
              <div class="footer">SindGestor</div>
            </div>
            <script>
              window.onload = function() { window.print(); window.close(); }
            <\/script>
          </body>
        </html>
      `),dn.document.close())},bp=(te,Oe)=>{te.stopPropagation(),J(Oe),re(!0)},xp=async()=>{B&&(await be.deleteEquipment(B,e,t),(l==null?void 0:l.id)===B&&u(null),J(null),re(!1),jn())},_p=(te,Oe)=>{te.stopPropagation(),ue(Oe),we(!0)},Bo=async()=>{ce&&l&&(await be.deleteMaintenanceLog(ce,e,t),ue(null),we(!1),f(await be.getMaintenanceLogs(l.id)))},Ho=async()=>{de.trim()&&(X==="CATEGORY"?await be.addEquipmentCategory(de.trim(),e):await be.addEquipmentLocation(de.trim(),e),K(""),jn())},Ka=async()=>{!fe||!fe.current.trim()||(fe.type==="CATEGORY"?await be.updateEquipmentCategory(fe.original,fe.current.trim(),e,t):await be.updateEquipmentLocation(fe.original,fe.current.trim(),e,t),_e(null),jn())},ci=async()=>{Ke&&(Ke.type==="CATEGORY"?await be.deleteEquipmentCategory(Ke.name,e):await be.deleteEquipmentLocation(Ke.name,e),Q(null),jn())},Go=te=>{const Oe=i.find(dn=>dn.id===te);Oe?(u(Oe),U(!1)):alert("Equipamento no encontrado.")},ra=i.filter(te=>{const Oe=te.name.toLowerCase().includes(A.toLowerCase())||te.id.toLowerCase().includes(A.toLowerCase()),dn=P?te.category===P:!0;return Oe&&dn});return v.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-8rem)] gap-0 md:gap-6 relative",children:[v.jsxs("div",{className:`${l?"hidden md:flex":"flex"} w-full md:w-1/3 bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex-col`,children:[v.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[v.jsxs("h2",{className:"font-bold text-slate-800 flex items-center gap-2 pl-14 md:pl-0",children:[v.jsx(Iu,{size:20,className:"text-blue-600 hidden md:inline"})," Equipamentos"]}),v.jsxs("div",{className:"flex gap-2 shrink-0",children:[Ft&&v.jsx("button",{onClick:()=>U(!0),className:"p-2 bg-slate-700 text-white rounded-lg hover:bg-slate-800 flex items-center justify-center",title:"Ler QR Code",children:v.jsx(H4,{size:18})}),bt&&v.jsx("button",{onClick:()=>L(!0),className:"p-2 bg-slate-100 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-200 flex items-center justify-center",title:"Gerenciar Categorias e Locais",children:v.jsx(Ou,{size:18})}),!n&&v.jsx("button",{onClick:De,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",title:"Novo Equipamento",children:v.jsx(Xs,{size:18})})]})]}),v.jsxs("div",{className:"p-3 bg-white border-b border-slate-100 flex gap-2",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(gb,{className:"absolute left-2.5 top-2.5 text-slate-400",size:14}),v.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-8 p-2 text-sm border rounded-lg bg-slate-50 focus:bg-white focus:ring-2 focus:ring-blue-100 outline-none transition",value:A,onChange:te=>R(te.target.value)})]}),v.jsx("div",{className:"relative",children:v.jsxs("select",{className:"h-full px-2 py-2 text-sm border rounded-lg bg-slate-50 text-slate-600 outline-none focus:ring-2 focus:ring-blue-100 max-w-[100px]",value:P,onChange:te=>N(te.target.value),children:[v.jsx("option",{value:"",children:"Todas"}),b.map(te=>v.jsx("option",{value:te,children:te},te))]})})]}),v.jsxs("div",{className:"overflow-y-auto flex-1 p-2 space-y-2",children:[ra.length===0&&v.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"Nenhum equipamento encontrado."}),ra.map(te=>v.jsxs("div",{onClick:()=>u(te),className:`p-4 rounded-lg border cursor-pointer transition-all relative group ${(l==null?void 0:l.id)===te.id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300"}`,children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-slate-800",children:te.name}),v.jsxs("p",{className:"text-xs text-slate-500",children:[te.category,"  ",te.location]})]}),v.jsxs("div",{className:"flex gap-1",children:[bt&&v.jsx("button",{onClick:Oe=>gt(Oe,te),className:"text-slate-400 hover:text-blue-600 opacity-0 group-hover:opacity-100 transition p-1",title:"Editar",children:v.jsx(La,{size:16})}),bt&&v.jsx("button",{onClick:Oe=>bp(Oe,te.id),className:"text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition p-1",title:"Excluir",children:v.jsx(sn,{size:16})})]})]}),v.jsx("div",{className:`mt-2 text-[10px] font-bold px-2 py-1 rounded inline-block ${te.status==="OPERATIONAL"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:te.status==="OPERATIONAL"?"Operacional":"Manuteno"})]},te.id))]})]}),l&&v.jsx("div",{className:"md:hidden fixed inset-0 bg-black/60 z-40",onClick:()=>u(null)}),v.jsx("div",{className:`
        ${l?"translate-x-0":"translate-x-full md:translate-x-0"}
        fixed md:relative inset-0 md:inset-auto
        w-full md:w-2/3
        bg-white rounded-xl shadow-sm border border-slate-200 
        flex flex-col overflow-hidden
        transition-transform duration-300 ease-in-out
        z-50 md:z-auto
      `,children:l?v.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[v.jsx("button",{onClick:()=>u(null),className:"md:hidden absolute top-4 right-4 bg-slate-100 hover:bg-slate-200 p-2 rounded-lg z-10","aria-label":"Fechar",children:v.jsx(Ct,{size:20})}),v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:l.name}),v.jsxs("p",{className:"text-slate-500 text-sm flex gap-4 mt-1",children:[v.jsxs("span",{children:["ID: ",l.id.substring(0,8)]}),v.jsxs("span",{children:["Cadastro: ",new Date(l.createdAt||Date.now()).toLocaleDateString()]})]})]}),v.jsxs("div",{className:"flex flex-col items-center p-2 bg-white border rounded shadow-sm",children:[v.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=app://equipment/${l.id}`,alt:"QR Code",className:"w-20 h-20"}),v.jsx("span",{className:"text-[10px] text-slate-400 mt-1",children:"Scan ID"})]})]}),h.length>0&&v.jsx("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2",children:h.map(te=>v.jsx("div",{className:"w-32 h-32 flex-shrink-0 bg-slate-100 rounded-lg border overflow-hidden",children:v.jsx("img",{src:te.url,className:"w-full h-full object-cover",alt:"Equipamento"})},te.id))}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 bg-slate-50 p-4 rounded-lg text-sm",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-bold text-slate-500 block text-xs uppercase",children:"Categoria"}),l.category]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-bold text-slate-500 block text-xs uppercase",children:"Localizao"}),l.location]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-bold text-slate-500 block text-xs uppercase",children:"Aquisio"}),l.acquisitionDate?new Date(l.acquisitionDate).toLocaleDateString():"-"]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-bold text-slate-500 block text-xs uppercase",children:"Instalao"}),new Date(l.installDate).toLocaleDateString()]}),v.jsxs("div",{className:"col-span-2",children:[v.jsx("span",{className:"font-bold text-slate-500 block text-xs uppercase",children:"Descrio"}),l.description||"Sem descrio."]})]}),v.jsxs("div",{className:"mb-6",children:[$o&&v.jsxs("div",{className:"flex gap-2 mb-4",children:[v.jsxs("button",{onClick:Ye,className:"flex-1 bg-blue-600 text-white py-2 rounded-lg text-sm flex items-center justify-center gap-2 hover:bg-blue-700 transition",children:[v.jsx(jy,{size:16})," Registrar Manuteno"]}),v.jsxs("button",{onClick:()=>Nn(l),className:"flex-1 bg-slate-700 text-white py-2 rounded-lg text-sm flex items-center justify-center gap-2 hover:bg-slate-800 transition",children:[v.jsx(q4,{size:16})," Imprimir Etiqueta"]})]}),v.jsxs("h4",{className:"font-bold text-slate-800 mt-6 mb-3 flex items-center gap-2 text-lg border-b pb-2",children:[v.jsx(f4,{size:20})," Histrico de Manutenes"]}),v.jsxs("div",{className:"space-y-3",children:[d.length===0&&v.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma manuteno registrada."}),d.map(te=>v.jsxs("div",{onClick:()=>Ln(te),className:"border-l-4 border-blue-500 pl-4 py-2 bg-slate-50 rounded-r-lg group relative transition hover:bg-blue-50 cursor-pointer",children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsx("span",{className:"font-bold text-slate-700",children:new Date(te.date).toLocaleDateString()}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded uppercase font-bold ${te.type==="PREVENTIVE"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:te.type}),bt&&v.jsx("button",{onClick:Oe=>_p(Oe,te.id),className:"text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition",children:v.jsx(sn,{size:14})})]})]}),v.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:te.description}),v.jsxs("div",{className:"flex justify-between items-end mt-1",children:[v.jsxs("p",{className:"text-xs text-slate-400",children:["Tcnico: ",te.technician]}),te.signatureUrl&&v.jsxs("div",{className:"text-[10px] flex items-center gap-1 text-green-600 font-bold bg-green-50 px-2 py-0.5 rounded border border-green-100",children:[v.jsx(IT,{size:10})," Assinado"]})]}),!bt&&v.jsx("span",{className:"absolute right-2 bottom-2 opacity-0 group-hover:opacity-100 text-xs text-slate-400",children:"Clique para ver"}),bt&&v.jsx("span",{className:"absolute right-2 bottom-2 opacity-0 group-hover:opacity-100 text-xs text-blue-500",children:"Clique para editar"})]},te.id))]})]})]}):v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[v.jsx(Iu,{size:48,className:"mb-4 opacity-20"}),v.jsx("p",{children:"Selecione um equipamento ou escaneie um QR Code."})]})}),H&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[70]",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-sm",children:[v.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-4 flex items-center gap-2",children:[v.jsx(sn,{size:20})," Excluir Equipamento?"]}),v.jsx("p",{className:"text-slate-600 mb-6 text-sm",children:"Tem certeza? Isso apagar o equipamento e todo o seu histrico de manutenes."}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 border rounded-lg hover:bg-slate-50 text-sm",children:"Cancelar"}),v.jsx("button",{onClick:xp,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm font-bold",children:"Excluir"})]})]})}),ge&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[70]",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-sm",children:[v.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-4 flex items-center gap-2",children:[v.jsx(sn,{size:20})," Excluir Log?"]}),v.jsx("p",{className:"text-slate-600 mb-6 text-sm",children:"Confirma a excluso deste registro de manuteno?"}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:()=>we(!1),className:"px-4 py-2 border rounded-lg hover:bg-slate-50 text-sm",children:"Cancelar"}),v.jsx("button",{onClick:Bo,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm font-bold",children:"Excluir"})]})]})}),Ke&&v.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[80]",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-sm border-red-100 border",children:[v.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-4 flex items-center gap-2",children:[v.jsx(sn,{size:20})," Excluir ",Ke.type==="CATEGORY"?"Categoria":"Localizao","?"]}),v.jsxs("p",{className:"text-slate-600 mb-6 text-sm",children:["Tem certeza que deseja excluir ",v.jsxs("b",{children:['"',Ke.name,'"']}),"?",v.jsx("br",{}),v.jsx("br",{}),v.jsx("span",{className:"text-xs text-red-500",children:"Ateno: Equipamentos que usam este atributo no sero excludos, mas podem ficar com o campo desatualizado ou inconsistente. Recomenda-se atualizar os equipamentos antes."})]}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:()=>Q(null),className:"px-4 py-2 border rounded-lg hover:bg-slate-50 text-sm",children:"Cancelar"}),v.jsx("button",{onClick:ci,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm font-bold",children:"Confirmar Excluso"})]})]})}),Ce&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-md h-[500px] flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-bold text-lg",children:"Gerenciar Atributos"}),v.jsx("button",{onClick:()=>{L(!1),_e(null)},children:v.jsx(Ct,{})})]}),v.jsxs("div",{className:"flex border-b mb-4",children:[v.jsx("button",{onClick:()=>he("CATEGORY"),className:`flex-1 py-2 font-medium text-sm border-b-2 transition ${X==="CATEGORY"?"border-blue-500 text-blue-600":"border-transparent text-slate-500"}`,children:"Categorias"}),v.jsx("button",{onClick:()=>he("LOCATION"),className:`flex-1 py-2 font-medium text-sm border-b-2 transition ${X==="LOCATION"?"border-blue-500 text-blue-600":"border-transparent text-slate-500"}`,children:"Localizaes"})]}),v.jsxs("div",{className:"flex gap-2 mb-4",children:[v.jsx("input",{type:"text",placeholder:`Nova ${X==="CATEGORY"?"Categoria":"Localizao"}...`,value:de,onChange:te=>K(te.target.value),className:"flex-1 p-2 border rounded text-sm"}),v.jsx("button",{onClick:Ho,disabled:!de.trim(),className:"bg-blue-600 text-white px-3 py-2 rounded disabled:opacity-50",children:v.jsx(Xs,{size:18})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:(X==="CATEGORY"?b:S).map(te=>v.jsx("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded group",children:(fe==null?void 0:fe.original)===te&&fe.type===X?v.jsxs("div",{className:"flex flex-1 gap-2 items-center",children:[v.jsx("input",{autoFocus:!0,className:"flex-1 p-1 text-sm border rounded",value:fe.current,onChange:Oe=>_e({...fe,current:Oe.target.value}),onKeyDown:Oe=>{Oe.key==="Enter"&&Ka()}}),v.jsx("button",{onClick:Ka,className:"text-green-600 bg-green-100 p-1 rounded",children:v.jsx(jy,{size:14})}),v.jsx("button",{onClick:()=>_e(null),className:"text-red-500 bg-red-100 p-1 rounded",children:v.jsx(Ct,{size:14})})]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"text-sm font-medium text-slate-700",children:te}),v.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[v.jsx("button",{onClick:()=>_e({original:te,current:te,type:X}),className:"text-slate-400 hover:text-blue-600 p-1",children:v.jsx(La,{size:14})}),v.jsx("button",{onClick:()=>Q({name:te,type:X}),className:"text-slate-400 hover:text-red-500 p-1",children:v.jsx(sn,{size:14})})]})]})},te))})]})}),G&&v.jsx("div",{className:"fixed inset-0 bg-black z-[100] flex flex-col items-center justify-center",children:v.jsxs("div",{className:"relative w-full max-w-md aspect-[3/4] bg-black overflow-hidden rounded-lg",children:[v.jsx("video",{ref:ui,className:"w-full h-full object-cover"}),v.jsx("div",{className:"qr-scanner-overlay"}),v.jsx("button",{onClick:()=>U(!1),className:"absolute top-4 right-4 bg-white/20 p-2 rounded-full text-white",children:v.jsx(Ct,{size:24})}),v.jsxs("div",{className:"absolute bottom-10 left-0 right-0 flex justify-center flex-col items-center gap-4",children:[v.jsx("p",{className:"text-white bg-black/50 px-3 py-1 rounded text-sm",children:"Aponte para o QR Code"}),v.jsxs("div",{className:"bg-white p-2 rounded-lg shadow-lg flex flex-col gap-2 w-64",children:[v.jsx("p",{className:"text-xs font-bold text-center text-slate-500",children:"SIMULAO DE LEITURA"}),v.jsxs("select",{onChange:te=>{te.target.value&&Go(te.target.value)},className:"text-sm p-2 border rounded",children:[v.jsx("option",{value:"",children:"Simular Leitura..."}),i.map(te=>v.jsx("option",{value:te.id,children:te.name},te.id))]})]})]})]})}),I&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between mb-4",children:[v.jsx("h3",{className:"font-bold text-lg",children:ve?"Editar Equipamento":"Novo Equipamento"}),v.jsx("button",{onClick:()=>M(!1),children:v.jsx(Ct,{})})]}),v.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Nome"}),v.jsx("input",{required:!0,value:ye.name,onChange:te=>Le({...ye,name:te.target.value}),className:"w-full p-2 border rounded"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Categoria"}),v.jsxs("select",{required:!0,value:ye.category,onChange:te=>Le({...ye,category:te.target.value}),className:"w-full p-2 border rounded bg-white",children:[v.jsx("option",{value:"",children:"Selecione..."}),b.map(te=>v.jsx("option",{value:te,children:te},te))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Localizao"}),v.jsxs("select",{required:!0,value:ye.location,onChange:te=>Le({...ye,location:te.target.value}),className:"w-full p-2 border rounded bg-white",children:[v.jsx("option",{value:"",children:"Selecione..."}),S.map(te=>v.jsx("option",{value:te,children:te},te))]})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Data Aquisio"}),v.jsx("input",{type:"date",required:!0,value:ye.acquisitionDate,onChange:te=>Le({...ye,acquisitionDate:te.target.value}),className:"w-full p-2 border rounded"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Data Instalao"}),v.jsx("input",{type:"date",required:!0,value:ye.installDate,onChange:te=>Le({...ye,installDate:te.target.value}),className:"w-full p-2 border rounded"})]})]}),v.jsx("div",{className:"grid grid-cols-2 gap-4",children:v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Status"}),v.jsxs("select",{value:ye.status,onChange:te=>Le({...ye,status:te.target.value}),className:"w-full p-2 border rounded bg-white",children:[v.jsx("option",{value:"OPERATIONAL",children:"Operacional"}),v.jsx("option",{value:"NEEDS_REPAIR",children:"Precisa de Reparo"}),v.jsx("option",{value:"OUT_OF_ORDER",children:"Fora de Uso"})]})]})}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Descrio"}),v.jsx("textarea",{value:ye.description,onChange:te=>Le({...ye,description:te.target.value}),className:"w-full p-2 border rounded h-20"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Imagens (Adicionar)"}),v.jsxs("div",{className:"flex gap-2 mb-2",children:[v.jsxs("button",{type:"button",onClick:()=>{var te;return(te=hr.current)==null?void 0:te.click()},className:"px-3 py-2 border rounded bg-slate-50 hover:bg-slate-100 text-sm flex items-center gap-2",children:[v.jsx(mb,{size:16})," Galeria"]}),v.jsxs("button",{type:"button",onClick:()=>{var te;return(te=na.current)==null?void 0:te.click()},className:"px-3 py-2 border rounded bg-slate-50 hover:bg-slate-100 text-sm flex items-center gap-2",children:[v.jsx(_f,{size:16})," Cmera"]}),v.jsx("input",{type:"file",ref:hr,accept:"image/*",multiple:!0,className:"hidden",onChange:z}),v.jsx("input",{type:"file",ref:na,accept:"image/*",capture:"environment",className:"hidden",onChange:z})]}),v.jsx("div",{className:"flex gap-2",children:oe.map((te,Oe)=>v.jsxs("div",{className:"w-16 h-16 bg-slate-100 rounded border relative",children:[v.jsx("img",{src:te,className:"w-full h-full object-cover rounded"}),v.jsx("button",{type:"button",onClick:()=>Fe(dn=>dn.filter((ia,Ya)=>Ya!==Oe)),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5",children:v.jsx(Ct,{size:10})})]},Oe))})]}),v.jsxs("button",{type:"submit",disabled:Pt,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold flex justify-center items-center gap-2",children:[Pt&&v.jsx(Co,{className:"animate-spin",size:16})," ",ve?"Atualizar":"Salvar"," Equipamento"]})]})]})}),D&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between mb-4",children:[v.jsx("h3",{className:"font-bold",children:ae?bt?"Editar Manuteno":"Detalhes da Manuteno":"Nova Manuteno"}),v.jsx("button",{onClick:()=>k(!1),children:v.jsx(Ct,{})})]}),v.jsxs("form",{onSubmit:ht,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Data"}),v.jsx("input",{type:"date",disabled:!!(ae&&!bt),value:Lt.date,onChange:te=>Jn({...Lt,date:te.target.value}),className:"w-full p-2 border rounded disabled:bg-slate-100"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tipo"}),v.jsxs("select",{disabled:!!(ae&&!bt),value:Lt.type,onChange:te=>Jn({...Lt,type:te.target.value}),className:"w-full p-2 border rounded disabled:bg-slate-100",children:[v.jsx("option",{value:"PREVENTIVE",children:"Preventiva"}),v.jsx("option",{value:"CORRECTIVE",children:"Corretiva"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tcnico"}),v.jsx("input",{type:"text",disabled:!!(ae&&!bt),value:Lt.technician,onChange:te=>Jn({...Lt,technician:te.target.value}),className:"w-full p-2 border rounded disabled:bg-slate-100"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Descrio"}),v.jsx("textarea",{disabled:!!(ae&&!bt),value:Lt.description,onChange:te=>Jn({...Lt,description:te.target.value}),className:"w-full p-2 border rounded h-24 disabled:bg-slate-100"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Assinatura"}),v.jsx("div",{className:"hidden md:block",children:v.jsx(HP,{onSave:te=>Jn({...Lt,signatureUrl:te}),initialSignature:Lt.signatureUrl,readOnly:!!(ae&&!bt)})}),v.jsx("div",{className:"md:hidden",children:Lt.signatureUrl?v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:Lt.signatureUrl,alt:"Assinatura",className:"border rounded w-full h-32 object-contain bg-white"}),!(ae&&!bt)&&v.jsx("button",{type:"button",onClick:()=>W(!0),className:"absolute top-2 right-2 bg-blue-600 text-white px-3 py-1 rounded text-xs font-bold",children:"Editar"})]}):v.jsxs("button",{type:"button",onClick:()=>W(!0),disabled:!!(ae&&!bt),className:"w-full border-2 border-dashed border-slate-300 rounded-lg p-4 text-slate-400 hover:border-blue-400 hover:text-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[v.jsx(IT,{size:20}),v.jsx("span",{children:"Assinar"})]})})]}),(bt||!ae)&&v.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded font-bold",children:[ae?"Atualizar":"Salvar"," Manuteno"]})]})]})}),le&&v.jsxs("div",{className:"fixed inset-0 bg-white z-[100] flex flex-col landscape:flex-row",children:[v.jsx("div",{className:"portrait:block landscape:hidden signature-landscape-hint",children:" Vire o celular para o lado para melhor experincia"}),v.jsxs("div",{className:"bg-slate-900 text-white p-4 flex justify-between items-center landscape:flex-col landscape:justify-start landscape:w-20 landscape:gap-4",children:[v.jsx("h3",{className:"font-bold text-lg landscape:hidden",children:"Assinatura do Tcnico"}),v.jsx("h3",{className:"hidden landscape:block font-bold text-sm writing-mode-vertical transform rotate-180 text-center",children:"Assinatura"}),v.jsx("button",{onClick:()=>W(!1),className:"p-2 hover:bg-slate-800 rounded",children:v.jsx(Ct,{size:24})})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center p-4 bg-slate-50 landscape:p-2",children:v.jsx("div",{className:"w-full h-full max-w-4xl flex items-center justify-center",children:v.jsx("div",{className:"w-full landscape:w-full landscape:h-full",children:v.jsx(HP,{onSave:te=>Jn({...Lt,signatureUrl:te}),initialSignature:Lt.signatureUrl,readOnly:!1})})})}),v.jsx("div",{className:"p-4 bg-white border-t landscape:border-t-0 landscape:border-l landscape:w-24 landscape:flex landscape:items-center",children:v.jsx("button",{onClick:()=>W(!1),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold text-lg landscape:py-6 landscape:text-sm landscape:writing-mode-vertical landscape:transform landscape:rotate-180",children:"Concluir"})})]})]})},Gse=({currentEnterpriseId:e,permissionLevel:t,userEmail:n})=>{const[r,i]=E.useState([]),[a,l]=E.useState([]),[u,d]=E.useState(""),[f,h]=E.useState(""),[m,b]=E.useState(""),[_,S]=E.useState(""),[T,A]=E.useState(!1),[R,P]=E.useState(!1),[N,I]=E.useState(null),[M,D]=E.useState(!1),[k,G]=E.useState(""),[U,le]=E.useState(null),[W,H]=E.useState(null),[re,ge]=E.useState(""),[we,B]=E.useState(""),[J,ce]=E.useState(new Date().toISOString().split("T")[0]),[ue,Ce]=E.useState(null),L=E.useRef(null),X=t===Se.READ_WRITE||t===Se.FULL_ACCESS,he=t===Se.FULL_ACCESS,de=t===Se.FULL_ACCESS;E.useEffect(()=>{K(),fe()},[e]);const K=async()=>{const oe=await be.getDocuments(e);i(oe)},fe=async()=>{const oe=await be.getDocumentCategories(e);l(oe),oe.length>0&&!we&&B(oe[0])},_e=oe=>{if(oe&&oe!=="#"){const Fe=document.createElement("a");Fe.href=oe,Fe.download="documento_sindgestor",document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe)}else alert("Arquivo indisponvel.")},Ke=async oe=>{window.confirm("Deseja excluir este documento?")&&(await be.deleteDocument(oe,e,n),K())},Q=()=>{I(null),ge(""),B(a[0]||""),ce(new Date().toISOString().split("T")[0]),Ce(null),A(!0)},ve=oe=>{I(oe.id),ge(oe.title),B(oe.category),ce(oe.date.split("T")[0]),Ce(null),A(!0)},Ie=async oe=>{if(oe.preventDefault(),!(!re||!we)){if(P(!0),N)await be.updateDocument(N,{title:re,category:we,date:J},e,n);else{if(!ue){alert("Selecione um arquivo."),P(!1);return}await be.addDocument({title:re,category:we,file:ue,date:J},e,n)}P(!1),A(!1),K()}},ae=async()=>{k.trim()&&(await be.addDocumentCategory(k.trim(),e),G(""),fe())},me=async()=>{!U||!U.current.trim()||(await be.updateDocumentCategory(U.original,U.current.trim(),e,n),le(null),fe(),K())},ye=async()=>{W&&(await be.deleteDocumentCategory(W,e),H(null),fe())},Le=r.filter(oe=>{const Fe=oe.title.toLowerCase().includes(u.toLowerCase()),Pt=f?oe.category===f:!0;let en=!0;const hr=oe.date.split("T")[0];return m&&(en=hr>=m),_&&en&&(en=hr<=_),Fe&&Pt&&en});return v.jsxs("div",{className:"space-y-6 relative",children:[v.jsxs("div",{className:"flex justify-between items-center gap-2",children:[v.jsx("h2",{className:"text-lg md:text-2xl font-bold text-slate-800 pl-14 md:pl-0",children:"Documentao do Condomnio"}),v.jsxs("div",{className:"flex gap-2 shrink-0",children:[de&&v.jsxs("button",{onClick:()=>D(!0),className:"bg-slate-100 border border-slate-300 text-slate-600 p-2 md:px-3 md:py-2 rounded-lg hover:bg-slate-200 transition flex items-center justify-center",title:"Gerenciar Categorias",children:[v.jsx(Ou,{size:18,className:"md:hidden"}),v.jsx(Ou,{size:20,className:"hidden md:block"})]}),X&&v.jsxs("button",{onClick:Q,className:"bg-blue-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[v.jsx(Hg,{size:16,className:"md:hidden"}),v.jsx(Hg,{size:18,className:"hidden md:block"}),v.jsx("span",{className:"hidden sm:inline",children:"Upload"})]})]})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col md:flex-row gap-4 flex-wrap items-end",children:[v.jsxs("div",{className:"flex-1 relative min-w-[200px] w-full",children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Buscar"}),v.jsxs("div",{className:"relative",children:[v.jsx(gb,{className:"absolute left-3 top-3 text-slate-400",size:18}),v.jsx("input",{type:"text",placeholder:"Nome do documento...",value:u,onChange:oe=>d(oe.target.value),className:"w-full pl-10 p-2.5 border rounded-lg bg-slate-50 focus:bg-white"})]})]}),v.jsxs("div",{className:"relative w-full md:w-48",children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Categoria"}),v.jsxs("div",{className:"relative",children:[v.jsx(gO,{className:"absolute left-3 top-3 text-slate-400",size:18}),v.jsxs("select",{value:f,onChange:oe=>h(oe.target.value),className:"w-full pl-10 p-2.5 border rounded-lg bg-slate-50 focus:bg-white appearance-none",children:[v.jsx("option",{value:"",children:"Todas"}),a.map(oe=>v.jsx("option",{value:oe,children:oe},oe))]})]})]}),v.jsxs("div",{className:"relative w-full md:w-auto flex gap-2",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"De"}),v.jsx("input",{type:"date",value:m,onChange:oe=>b(oe.target.value),className:"w-full p-2.5 border rounded-lg bg-slate-50 focus:bg-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"At"}),v.jsx("input",{type:"date",value:_,onChange:oe=>S(oe.target.value),className:"w-full p-2.5 border rounded-lg bg-slate-50 focus:bg-white"})]})]}),(u||f||m||_)&&v.jsx("button",{onClick:()=>{d(""),h(""),b(""),S("")},className:"p-2.5 text-red-500 hover:bg-red-50 rounded border border-transparent hover:border-red-100 mb-[1px]",children:v.jsx(Ct,{})})]}),v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs font-medium border-b border-slate-200",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-3 md:px-6 py-3",children:"Documento"}),v.jsx("th",{className:"px-2 md:px-6 py-3 text-center",children:"Categoria"}),v.jsx("th",{className:"px-1 py-3 md:hidden",children:"Data/Ao"}),v.jsx("th",{className:"hidden md:table-cell px-6 py-3",children:"Data Doc."}),v.jsx("th",{className:"hidden md:table-cell px-6 py-3 text-right",children:"Ao"})]})}),v.jsxs("tbody",{className:"divide-y divide-slate-100",children:[Le.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"Nenhum documento encontrado."})}),Le.map(oe=>v.jsxs("tr",{className:"hover:bg-slate-50 transition group",children:[v.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4",children:v.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[v.jsxs("div",{className:"p-1.5 md:p-2 bg-blue-100 text-blue-600 rounded-lg shrink-0",children:[v.jsx(Uy,{size:16,className:"md:hidden"}),v.jsx(Uy,{size:20,className:"hidden md:block"})]}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("span",{className:"font-medium text-slate-700 block text-xs md:text-sm leading-tight truncate",children:oe.title}),v.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-400 uppercase",children:oe.fileType||"FILE"})]})]})}),v.jsx("td",{className:"px-2 md:px-6 py-3 md:py-4",children:v.jsx("div",{className:"flex justify-center",children:v.jsx("span",{className:"bg-slate-100 text-slate-600 text-[10px] md:text-xs px-1.5 md:px-2 py-0.5 md:py-1 rounded-full text-center leading-tight max-w-[80px] md:max-w-none",children:oe.category})})}),v.jsx("td",{className:"px-1 py-3 md:hidden",children:v.jsxs("div",{className:"flex items-center gap-1 justify-between",children:[v.jsxs("div",{className:"flex items-center gap-1 text-slate-500",children:[v.jsx(NT,{size:12,className:"shrink-0"}),v.jsx("span",{className:"text-[10px] whitespace-nowrap",children:new Date(oe.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"})})]}),v.jsx("button",{onClick:()=>_e(oe.url),className:"text-blue-600 hover:text-blue-800 p-1 rounded-full hover:bg-blue-50 transition shrink-0",title:"Baixar",children:v.jsx(Ly,{size:16})})]})}),v.jsx("td",{className:"hidden md:table-cell px-6 py-4 text-slate-500",children:v.jsxs("div",{className:"flex items-center gap-2 text-sm whitespace-nowrap",children:[v.jsx(NT,{size:14,className:"shrink-0"}),v.jsx("span",{children:new Date(oe.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"})})]})}),v.jsx("td",{className:"hidden md:table-cell px-6 py-4 text-right",children:v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>_e(oe.url),className:"text-blue-600 hover:text-blue-800 p-2 rounded-full hover:bg-blue-50 transition",title:"Baixar",children:v.jsx(Ly,{size:20})}),de&&v.jsx("button",{onClick:()=>ve(oe),className:"text-slate-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 transition opacity-0 group-hover:opacity-100",title:"Editar",children:v.jsx(La,{size:20})}),he&&v.jsx("button",{onClick:()=>Ke(oe.id),className:"text-slate-300 hover:text-red-500 p-2 rounded-full hover:bg-red-50 transition opacity-0 group-hover:opacity-100",title:"Excluir",children:v.jsx(sn,{size:20})})]})})]},oe.id))]})]})}),T&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl w-full max-w-md shadow-xl",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-bold text-lg",children:N?"Editar Documento":"Upload de Documento"}),v.jsx("button",{onClick:()=>A(!1),children:v.jsx(Ct,{})})]}),v.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Ttulo"}),v.jsx("input",{type:"text",required:!0,value:re,onChange:oe=>ge(oe.target.value),className:"w-full p-2 border rounded-lg"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Categoria"}),v.jsxs("select",{required:!0,value:we,onChange:oe=>B(oe.target.value),className:"w-full p-2 border rounded-lg",children:[v.jsx("option",{value:"",children:"Selecione..."}),a.map(oe=>v.jsx("option",{value:oe,children:oe},oe))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Data do Documento"}),v.jsx("input",{type:"date",required:!0,value:J,onChange:oe=>ce(oe.target.value),className:"w-full p-2 border rounded-lg"})]})]}),!N&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Arquivo"}),v.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center cursor-pointer hover:bg-slate-50",onClick:()=>{var oe;return(oe=L.current)==null?void 0:oe.click()},children:[ue?v.jsx("div",{className:"text-sm font-bold text-blue-600",children:ue.name}):v.jsxs("div",{className:"text-slate-400 flex flex-col items-center",children:[v.jsx(Hg,{size:24,className:"mb-2"}),v.jsx("span",{className:"text-sm",children:"Clique para selecionar"})]}),v.jsx("input",{type:"file",ref:L,className:"hidden",onChange:oe=>oe.target.files&&Ce(oe.target.files[0])})]})]}),v.jsx("button",{type:"submit",disabled:R,className:"w-full bg-blue-600 text-white py-2 rounded-lg font-bold disabled:opacity-50",children:R?"Processando...":N?"Atualizar Documento":"Salvar Documento"})]})]})}),M&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-sm flex flex-col max-h-[80vh]",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-bold text-lg",children:"Gerenciar Categorias"}),v.jsx("button",{onClick:()=>{D(!1),le(null)},children:v.jsx(Ct,{})})]}),v.jsxs("div",{className:"flex gap-2 mb-4",children:[v.jsx("input",{type:"text",placeholder:"Nova Categoria...",value:k,onChange:oe=>G(oe.target.value),className:"flex-1 p-2 border rounded text-sm"}),v.jsx("button",{onClick:ae,disabled:!k.trim(),className:"bg-blue-600 text-white px-3 py-2 rounded disabled:opacity-50",children:v.jsx(Xs,{size:18})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:a.map(oe=>v.jsx("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded group",children:(U==null?void 0:U.original)===oe?v.jsxs("div",{className:"flex flex-1 gap-2 items-center",children:[v.jsx("input",{autoFocus:!0,className:"flex-1 p-1 text-sm border rounded",value:U.current,onChange:Fe=>le({...U,current:Fe.target.value}),onKeyDown:Fe=>{Fe.key==="Enter"&&me()}}),v.jsx("button",{onClick:me,className:"text-green-600 bg-green-100 p-1 rounded",children:v.jsx(jy,{size:14})}),v.jsx("button",{onClick:()=>le(null),className:"text-red-500 bg-red-100 p-1 rounded",children:v.jsx(Ct,{size:14})})]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"text-sm font-medium text-slate-700",children:oe}),v.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[v.jsx("button",{onClick:()=>le({original:oe,current:oe}),className:"text-slate-400 hover:text-blue-600 p-1",children:v.jsx(La,{size:14})}),v.jsx("button",{onClick:()=>H(oe),className:"text-slate-400 hover:text-red-500 p-1",children:v.jsx(sn,{size:14})})]})]})},oe))})]})}),W&&v.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60]",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-sm border-red-100 border",children:[v.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-4 flex items-center gap-2",children:[v.jsx(sn,{size:20})," Excluir Categoria?"]}),v.jsxs("p",{className:"text-slate-600 mb-6 text-sm",children:["Confirma a excluso de ",v.jsxs("b",{children:['"',W,'"']}),"?",v.jsx("br",{}),v.jsx("br",{}),v.jsx("span",{className:"text-xs text-red-500",children:"Documentos vinculados no sero apagados, mas ficaro com a categoria desatualizada."})]}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:()=>H(null),className:"px-4 py-2 border rounded-lg hover:bg-slate-50 text-sm",children:"Cancelar"}),v.jsx("button",{onClick:ye,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm font-bold",children:"Excluir"})]})]})})]})},Vse=({currentEnterpriseId:e,readOnly:t})=>{const[n,r]=E.useState([]);return E.useEffect(()=>{be.getSuppliers(e).then(r)},[e]),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h2",{className:"text-lg md:text-2xl font-bold text-slate-800 pl-14 md:pl-0",children:"Prestadores de Servio"}),!t&&v.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"+ Novo Fornecedor"})]}),v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(i=>v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:v.jsx(Iu,{size:24})}),v.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-1 rounded text-yellow-700 font-bold text-sm",children:[v.jsx(t3,{size:14,fill:"currentColor"}),i.rating]})]}),v.jsx("h3",{className:"font-bold text-lg text-slate-800",children:i.name}),v.jsx("p",{className:"text-slate-500 text-sm mb-4",children:i.serviceType}),v.jsx("div",{className:"pt-4 border-t border-slate-100",children:v.jsxs("a",{href:`tel:${i.contact}`,className:"flex items-center gap-2 text-slate-600 hover:text-blue-600 transition",children:[v.jsx(j4,{size:16}),v.jsx("span",{className:"text-sm font-medium",children:i.contact})]})})]},i.id))})]})},Fse=({currentEnterpriseId:e,userEmail:t,permissionLevel:n})=>{const[r,i]=E.useState([]),[a,l]=E.useState(!0),[u,d]=E.useState(""),[f,h]=E.useState(""),[m,b]=E.useState(!1),[_,S]=E.useState(!1),[T,A]=E.useState(null),[R,P]=E.useState(null),[N,I]=E.useState({title:"",description:"",location:"",priority:"MEDIUM",status:"REPORTED",notifyAdmin:!0}),[M,D]=E.useState([]),[k,G]=E.useState([]),U=E.useRef(null),le=E.useRef(null),W=n===Se.READ_WRITE||n===Se.FULL_ACCESS,H=n===Se.FULL_ACCESS;E.useEffect(()=>{re()},[e]);const re=async()=>{l(!0);const K=await be.getStructuralIssues(e);i(K),l(!1)},ge=async K=>{const fe=K.target.files;if(fe&&fe.length>0){if(M.length+k.length+fe.length>5){alert("Mximo de 5 fotos no total.");return}const _e=Array.from(fe).map(Q=>Rh(Q)),Ke=await Promise.all(_e);D(Q=>[...Q,...Ke])}},we=async K=>{confirm("Excluir esta foto?")&&(await be.deleteStructuralPhoto(K),G(fe=>fe.filter(_e=>_e.id!==K)))},B=async K=>{if(K){A(K.id),I({title:K.title,description:K.description,location:K.location,priority:K.priority,status:K.status,notifyAdmin:K.notifyAdmin??!0});const fe=await be.getStructuralPhotos(K.id);G(fe),D([])}else A(null),I({title:"",description:"",location:"",priority:"MEDIUM",status:"REPORTED",notifyAdmin:!0}),G([]),D([]);b(!0)},J=async K=>{if(K.preventDefault(),!(!N.title||!N.location)){if(S(!0),T){if(await be.updateStructuralIssue(T,{title:N.title,description:N.description,location:N.location,priority:N.priority,status:N.status,notifyAdmin:N.notifyAdmin},e,t),M.length>0)for(const fe of M)await be.addStructuralPhoto(T,fe)}else await be.addStructuralIssue({enterpriseId:e,title:N.title,description:N.description,location:N.location,priority:N.priority,status:"REPORTED",reportedBy:t,notifyAdmin:N.notifyAdmin},M,t);S(!1),b(!1),re()}},ce=async(K,fe,_e)=>{K.stopPropagation(),W&&(await be.updateStructuralIssueStatus(fe,_e,e,t),re())},ue=async(K,fe)=>{K.stopPropagation(),confirm("Tem certeza que deseja excluir este registro?")&&(await be.deleteStructuralIssue(fe,e,t),re())},Ce=[...k.map(K=>K.url),...M],L=()=>{R!==null&&P(K=>K!==null?(K-1+Ce.length)%Ce.length:null)},X=()=>{R!==null&&P(K=>K!==null?(K+1)%Ce.length:null)},he=K=>{switch(K){case"CRITICAL":return"bg-red-100 text-red-800 border-red-200";case"HIGH":return"bg-orange-100 text-orange-800 border-orange-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},de=r.filter(K=>{const fe=K.title.toLowerCase().includes(u.toLowerCase())||K.location.toLowerCase().includes(u.toLowerCase()),_e=f?K.status===f:!0;return fe&&_e});return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h2",{className:"text-lg md:text-2xl font-bold text-slate-800 pl-14 md:pl-0",children:"Manuteno Estrutural"}),W&&v.jsxs("button",{onClick:()=>B(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition flex items-center gap-2 shadow-sm",children:[v.jsx(i3,{size:18})," Reportar Problema"]})]}),v.jsxs("div",{className:"flex gap-4 mb-4",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(gb,{className:"absolute left-3 top-3 text-slate-400",size:18}),v.jsx("input",{type:"text",placeholder:"Buscar por ttulo ou local...",value:u,onChange:K=>d(K.target.value),className:"w-full pl-10 p-2.5 border rounded-lg bg-white"})]}),v.jsxs("select",{value:f,onChange:K=>h(K.target.value),className:"p-2.5 border rounded-lg bg-white min-w-[150px]",children:[v.jsx("option",{value:"",children:"Todos Status"}),v.jsx("option",{value:"REPORTED",children:"Reportado"}),v.jsx("option",{value:"IN_PROGRESS",children:"Em Andamento"}),v.jsx("option",{value:"RESOLVED",children:"Resolvido"})]})]}),a?v.jsx("div",{className:"flex justify-center p-12",children:v.jsx(Co,{className:"animate-spin text-slate-400",size:32})}):v.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[de.length===0&&v.jsx("p",{className:"text-center text-slate-400 py-8",children:"Nenhum problema registrado."}),de.map(K=>v.jsxs("div",{onClick:()=>H?B(K):null,className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col md:flex-row gap-4 transition hover:shadow-md ${K.status==="RESOLVED"?"opacity-75":""} ${H?"cursor-pointer hover:border-blue-300":""}`,children:[v.jsx("div",{className:`w-full md:w-32 h-32 md:h-auto rounded-lg flex items-center justify-center shrink-0 border overflow-hidden relative ${K.status==="RESOLVED"?"bg-green-50 border-green-100":"bg-slate-100 border-slate-200"}`,children:K.coverPhoto?v.jsxs(v.Fragment,{children:[v.jsx("img",{src:K.coverPhoto,alt:"Foto Principal",className:"w-full h-full object-cover"}),K.status==="RESOLVED"&&v.jsx("div",{className:"absolute inset-0 bg-green-500/40 flex items-center justify-center",children:v.jsx(RT,{size:32,className:"text-white drop-shadow-md"})})]}):v.jsx(v.Fragment,{children:K.status==="RESOLVED"?v.jsx(RT,{size:32,className:"text-green-500"}):v.jsx(_f,{size:32,className:"text-slate-400"})})}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("h3",{className:`font-bold text-lg ${K.status==="RESOLVED"?"line-through text-slate-500":"text-slate-800"}`,children:K.title}),v.jsxs("div",{className:"flex gap-2 mt-1",children:[v.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${he(K.priority)}`,children:K.priority==="CRITICAL"?"CRTICO":K.priority}),v.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded border bg-slate-100 text-slate-600",children:K.status})]})]}),H&&v.jsx("button",{type:"button",onClick:fe=>ue(fe,K.id),className:"text-slate-300 hover:text-red-500 hover:bg-red-50 p-2 rounded-full transition relative z-10",title:"Excluir Registro",children:v.jsx(sn,{size:18})})]}),v.jsx("p",{className:"text-sm text-slate-600 mt-2",children:K.description}),v.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-slate-500",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(N4,{size:14})," ",K.location]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(wf,{size:14})," ",new Date(K.createdAt).toLocaleDateString()]}),v.jsxs("span",{children:["Reportado por: ",K.reportedBy.split("@")[0]]})]}),W&&K.status!=="RESOLVED"&&v.jsxs("div",{className:"mt-4 flex gap-2",children:[K.status==="REPORTED"&&v.jsx("button",{onClick:fe=>ce(fe,K.id,"IN_PROGRESS"),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-xs font-bold hover:bg-blue-200",children:"Iniciar Reparo"}),v.jsx("button",{onClick:fe=>ce(fe,K.id,"RESOLVED"),className:"px-3 py-1 bg-green-100 text-green-700 rounded text-xs font-bold hover:bg-green-200",children:"Marcar Resolvido"})]})]})]},K.id))]}),m&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"font-bold text-lg",children:T?"Editar Problema":"Reportar Problema Estrutural"}),v.jsx("button",{onClick:()=>b(!1),children:v.jsx(Ct,{})})]}),v.jsxs("form",{onSubmit:J,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Ttulo"}),v.jsx("input",{required:!0,value:N.title,onChange:K=>I({...N,title:K.target.value}),className:"w-full p-2 border rounded",placeholder:"Ex: Rachadura na fachada"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Localizao"}),v.jsx("input",{required:!0,value:N.location,onChange:K=>I({...N,location:K.target.value}),className:"w-full p-2 border rounded",placeholder:"Ex: Bloco A - Trreo"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Prioridade"}),v.jsxs("select",{value:N.priority,onChange:K=>I({...N,priority:K.target.value}),className:"w-full p-2 border rounded",children:[v.jsx("option",{value:"LOW",children:"Baixa"}),v.jsx("option",{value:"MEDIUM",children:"Mdia"}),v.jsx("option",{value:"HIGH",children:"Alta"}),v.jsx("option",{value:"CRITICAL",children:"Crtica"})]})]})]}),T&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Status"}),v.jsxs("select",{value:N.status,onChange:K=>I({...N,status:K.target.value}),className:"w-full p-2 border rounded bg-slate-50",children:[v.jsx("option",{value:"REPORTED",children:"Reportado"}),v.jsx("option",{value:"IN_PROGRESS",children:"Em Andamento"}),v.jsx("option",{value:"RESOLVED",children:"Resolvido"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Descrio"}),v.jsx("textarea",{value:N.description,onChange:K=>I({...N,description:K.target.value}),className:"w-full p-2 border rounded h-24",placeholder:"Descreva o problema..."})]}),v.jsxs("div",{className:"flex items-center gap-3 py-2 bg-yellow-50 rounded-lg px-3 border border-yellow-100",children:[v.jsx("div",{className:`p-1.5 rounded-full ${N.notifyAdmin?"bg-yellow-200 text-yellow-700":"bg-slate-200 text-slate-400"}`,children:v.jsx(hb,{size:16})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{htmlFor:"notifyAdminToggle",className:"text-sm font-bold text-slate-700 cursor-pointer select-none",children:"Notificar Administrao"}),v.jsx("p",{className:"text-[10px] text-slate-500",children:"Enviar alerta por e-mail."})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{id:"notifyAdminToggle",type:"checkbox",checked:N.notifyAdmin,onChange:K=>I({...N,notifyAdmin:K.target.checked}),className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Fotos (Mx 5)"}),v.jsxs("div",{className:"flex gap-2 mb-2",children:[v.jsxs("button",{type:"button",onClick:()=>{var K;return(K=le.current)==null?void 0:K.click()},className:"px-3 py-2 border rounded bg-slate-50 text-sm flex items-center gap-2",children:[v.jsx(mb,{size:16})," Galeria"]}),v.jsxs("button",{type:"button",onClick:()=>{var K;return(K=U.current)==null?void 0:K.click()},className:"px-3 py-2 border rounded bg-slate-50 text-sm flex items-center gap-2",children:[v.jsx(_f,{size:16})," Cmera"]}),v.jsx("input",{type:"file",ref:le,accept:"image/*",multiple:!0,className:"hidden",onChange:ge}),v.jsx("input",{type:"file",ref:U,accept:"image/*",capture:"environment",className:"hidden",onChange:ge})]}),v.jsxs("div",{className:"flex gap-2 flex-wrap",children:[k.map((K,fe)=>v.jsxs("div",{onClick:()=>P(fe),className:"w-16 h-16 bg-slate-100 rounded border relative cursor-pointer hover:opacity-80 transition",children:[v.jsx("img",{src:K.url,className:"w-full h-full object-cover rounded"}),v.jsx("button",{type:"button",onClick:_e=>{_e.stopPropagation(),we(K.id)},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 shadow-sm",title:"Excluir Foto",children:v.jsx(Ct,{size:10})})]},K.id)),M.map((K,fe)=>v.jsxs("div",{onClick:()=>P(k.length+fe),className:"w-16 h-16 bg-slate-100 rounded border relative border-blue-400 cursor-pointer hover:opacity-80 transition",children:[v.jsx("img",{src:K,className:"w-full h-full object-cover rounded"}),v.jsx("button",{type:"button",onClick:_e=>{_e.stopPropagation(),D(Ke=>Ke.filter((Q,ve)=>ve!==fe))},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 shadow-sm",children:v.jsx(Ct,{size:10})}),v.jsx("div",{className:"absolute bottom-0 right-0 bg-blue-500 text-white text-[8px] px-1 rounded-tl",children:"Novo"})]},fe))]})]}),v.jsxs("button",{type:"submit",disabled:_,className:"w-full bg-red-600 text-white py-3 rounded-lg font-bold flex justify-center items-center gap-2",children:[_&&v.jsx(Co,{className:"animate-spin",size:16})," ",T?"Salvar Alteraes":"Registrar Problema"]})]})]})}),R!==null&&v.jsxs("div",{className:"fixed inset-0 z-[70] bg-black/95 flex items-center justify-center p-4 animate-fade-in",onClick:()=>P(null),children:[v.jsx("button",{onClick:()=>P(null),className:"absolute top-4 right-4 text-white/70 hover:text-white p-2 z-[80]",children:v.jsx(Ct,{size:32})}),v.jsxs("div",{className:"w-full h-full flex items-center justify-center relative",onClick:K=>K.stopPropagation(),children:[Ce.length>1&&v.jsx("button",{onClick:L,className:"absolute left-2 text-white/50 hover:text-white hover:bg-white/10 p-2 rounded-full transition",children:v.jsx(hO,{size:48})}),v.jsx("img",{src:Ce[R],alt:`Imagem ${R+1}`,className:"max-h-full max-w-full object-contain"}),Ce.length>1&&v.jsx("button",{onClick:X,className:"absolute right-2 text-white/50 hover:text-white hover:bg-white/10 p-2 rounded-full transition",children:v.jsx(fO,{size:48})}),v.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 px-3 py-1 rounded-full text-white text-sm",children:[R+1," / ",Ce.length]})]})]})]})},Kse={[Ue.WATER]:"Controle de gua",[Ue.TASKS]:"Gesto de Tarefas",[Ue.EQUIPMENT]:"Equipamentos e Manuteno",[Ue.DOCUMENTS]:"Documentos e Arquivos",[Ue.SUPPLIERS]:"Fornecedores",[Ue.STRUCTURAL]:"Manuteno Estrutural",[Ue.ADMIN_PANEL]:"Acesso Administrativo"},cf={[Ue.WATER]:Se.READ_ONLY,[Ue.TASKS]:Se.READ_WRITE,[Ue.EQUIPMENT]:Se.READ_ONLY,[Ue.DOCUMENTS]:Se.READ_ONLY,[Ue.SUPPLIERS]:Se.READ_ONLY,[Ue.STRUCTURAL]:Se.NONE,[Ue.ADMIN_PANEL]:Se.NONE},My={[Ue.WATER]:!1,[Ue.TASKS]:!0,[Ue.EQUIPMENT]:!1,[Ue.DOCUMENTS]:!1,[Ue.SUPPLIERS]:!1,[Ue.STRUCTURAL]:!1,[Ue.ADMIN_PANEL]:!1},Yse=({currentEnterprise:e})=>{const[t,n]=E.useState([]),[r,i]=E.useState({name:"",email:"",role:Pn.STAFF,password:""}),[a,l]=E.useState(cf),[u,d]=E.useState(My),[f,h]=E.useState(null),[m,b]=E.useState(null),[_,S]=E.useState(!1),[T,A]=E.useState(!1),[R,P]=E.useState(!1),N=async()=>{const H=await be.getEnterpriseUsers(e.enterpriseId);n(H)};E.useEffect(()=>{N()},[e.enterpriseId]);const I=(H,re)=>{l(ge=>({...ge,[H]:re}))},M=H=>{d(re=>({...re,[H]:!re[H]}))},D=H=>{if(i({...r,role:H}),H===Pn.ADMIN){const re={};Object.values(Ue).forEach(ge=>re[ge]=Se.FULL_ACCESS),l(re)}else l(cf)},k=H=>{i({name:H.userName,email:H.userEmail,role:H.role,password:""}),l(H.permissions||cf),d(H.notifications||My),h(H.userEmail),window.scrollTo({top:0,behavior:"smooth"})},G=()=>{h(null),i({name:"",email:"",role:Pn.STAFF,password:""}),l(cf),d(My)},U=H=>{b(H),P(!0)},le=async()=>{m&&(await be.deleteMember(e.enterpriseId,e.userEmail||"admin",m),P(!1),b(null),N())},W=async H=>{if(H.preventDefault(),!!r.name.trim()){if(A(!0),f)await be.updateMember(e.enterpriseId,e.userEmail||"admin",r.email,r.name,r.role,a,u,r.password||void 0);else{if(!r.password){alert("Senha inicial  obrigatria para cadastro."),A(!1);return}await be.registerMember(e.enterpriseId,e.userEmail||"admin",r.email.trim().toLowerCase(),r.name,r.role,a,u,r.password)}A(!1),S(!0),G(),N(),setTimeout(()=>S(!1),3e3)}};return v.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-fade-in relative",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[v.jsx("div",{className:"p-3 bg-blue-100 text-blue-700 rounded-xl",children:v.jsx(yO,{size:32})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg md:text-2xl font-bold text-slate-800 pl-14 md:pl-0",children:"Painel Administrativo"}),v.jsxs("p",{className:"text-slate-500",children:["Gesto de Usurios - ",v.jsx("span",{className:"font-semibold text-blue-600",children:e.enterpriseName})]})]})]}),v.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-slate-200",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[f?v.jsx(La,{size:20,className:"text-blue-600"}):v.jsx(s3,{size:20,className:"text-blue-600"}),f?"Editar Usurio e Permisses":"Cadastrar Novo Usurio"]}),f&&v.jsx("button",{onClick:G,className:"text-sm text-slate-500 underline",children:"Cancelar Edio"})]}),_&&v.jsxs("div",{className:"mb-6 p-4 bg-green-50 text-green-700 rounded-lg flex items-center gap-2 border border-green-100",children:[v.jsx(Gz,{size:20})," Operao realizada com sucesso!"]}),v.jsxs("form",{onSubmit:W,className:"space-y-6",children:[v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nome Completo *"}),v.jsx("input",{type:"text",required:!0,value:r.name,onChange:H=>i({...r,name:H.target.value}),className:"w-full p-3 border rounded-lg",placeholder:"Ex: Colaborador"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-mail *"}),v.jsx("input",{type:"email",required:!0,disabled:!!f,value:r.email,onChange:H=>i({...r,email:H.target.value}),className:`w-full p-3 border rounded-lg ${f?"bg-slate-100 cursor-not-allowed":""}`,placeholder:"Ex: emailcolaborador@gmail.com"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-2",children:[v.jsx(vO,{size:14})," ",f?"Nova Senha (deixe em branco para manter)":"Senha Inicial *"]}),v.jsx("input",{type:"password",value:r.password,onChange:H=>i({...r,password:H.target.value}),className:"w-full p-3 border rounded-lg",placeholder:""})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Perfil Base"}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("label",{className:`flex-1 border p-4 rounded-lg cursor-pointer transition ${r.role===Pn.STAFF?"border-blue-500 bg-blue-50":"border-slate-200 hover:bg-slate-50"}`,children:[v.jsx("input",{type:"radio",name:"role",className:"hidden",checked:r.role===Pn.STAFF,onChange:()=>D(Pn.STAFF)}),v.jsx("div",{className:"font-bold text-slate-800",children:"Colaborador"})]}),v.jsxs("label",{className:`flex-1 border p-4 rounded-lg cursor-pointer transition ${r.role===Pn.ADMIN?"border-blue-500 bg-blue-50":"border-slate-200 hover:bg-slate-50"}`,children:[v.jsx("input",{type:"radio",name:"role",className:"hidden",checked:r.role===Pn.ADMIN,onChange:()=>D(Pn.ADMIN)}),v.jsx("div",{className:"font-bold text-slate-800",children:"Administrador"})]})]})]}),v.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[v.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-xs text-blue-800 mb-4 flex gap-2",children:[v.jsx(pO,{size:16}),v.jsx("p",{children:"Defina o nvel de acesso e ative notificaes por e-mail."})]}),v.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:v.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-slate-50 border-b",children:[v.jsx("th",{className:"p-3 w-1/3",children:"Mdulo"}),v.jsx("th",{className:"p-3 text-center",children:"Bloqueado"}),v.jsx("th",{className:"p-3 text-center",children:"Ver"}),v.jsx("th",{className:"p-3 text-center",children:"Operar"}),v.jsx("th",{className:"p-3 text-center",children:"Total"}),v.jsx("th",{className:"p-3 text-center bg-yellow-50 text-yellow-800 border-l",children:v.jsxs("div",{className:"flex items-center justify-center gap-1",children:[v.jsx(hb,{size:14})," Avisos"]})})]})}),v.jsx("tbody",{children:Object.entries(Ue).map(([H,re])=>{if(re===Ue.ADMIN_PANEL&&r.role!==Pn.ADMIN)return null;const ge=a[re]||Se.NONE,we=u[re]||!1;return v.jsxs("tr",{className:"border-b hover:bg-slate-50",children:[v.jsx("td",{className:"p-3 font-medium",children:Kse[re]||re}),v.jsx("td",{className:"p-3 text-center",children:v.jsx("input",{type:"radio",name:`perm_${re}`,checked:ge===Se.NONE,onChange:()=>I(re,Se.NONE),className:"cursor-pointer"})}),v.jsx("td",{className:"p-3 text-center",children:v.jsx("input",{type:"radio",name:`perm_${re}`,checked:ge===Se.READ_ONLY,onChange:()=>I(re,Se.READ_ONLY),className:"cursor-pointer"})}),v.jsx("td",{className:"p-3 text-center",children:v.jsx("input",{type:"radio",name:`perm_${re}`,checked:ge===Se.READ_WRITE,onChange:()=>I(re,Se.READ_WRITE),className:"cursor-pointer"})}),v.jsx("td",{className:"p-3 text-center",children:v.jsx("input",{type:"radio",name:`perm_${re}`,checked:ge===Se.FULL_ACCESS,onChange:()=>I(re,Se.FULL_ACCESS),className:"cursor-pointer"})}),v.jsx("td",{className:"p-3 text-center border-l bg-yellow-50/30",children:v.jsx("input",{type:"checkbox",checked:we,onChange:()=>M(re),className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500"})})]},re)})})]})})]}),v.jsx("button",{type:"submit",disabled:T,className:`w-full text-white font-bold py-3 rounded-lg transition shadow-md disabled:opacity-70 ${f?"bg-orange-500 hover:bg-orange-600":"bg-blue-600 hover:bg-blue-700"}`,children:T?"Processando...":f?"Salvar Alteraes":"Cadastrar Usurio"})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[v.jsx("div",{className:"p-6 border-b flex items-center justify-between",children:v.jsx("h3",{className:"text-lg font-bold",children:"Usurios Cadastrados"})}),v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-medium",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3",children:"Nome"}),v.jsx("th",{className:"px-6 py-3",children:"E-mail"}),v.jsx("th",{className:"px-6 py-3",children:"Perfil"}),v.jsx("th",{className:"px-6 py-3 text-right",children:"Aes"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map((H,re)=>v.jsxs("tr",{className:"hover:bg-slate-50",children:[v.jsx("td",{className:"px-6 py-4 font-medium",children:H.userName}),v.jsx("td",{className:"px-6 py-4 text-sm",children:H.userEmail}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("span",{className:"text-[10px] px-2 py-1 rounded-full bg-slate-200",children:H.role})}),v.jsxs("td",{className:"px-6 py-4 text-right flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>k(H),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:v.jsx(La,{size:18})}),H.userEmail!==(e.userEmail||"admin")&&v.jsx("button",{onClick:()=>U(H.userEmail),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:v.jsx(sn,{size:18})})]})]},re))})]})]}),R&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl w-full max-w-sm",children:[v.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"Excluir Usurio?"}),v.jsxs("p",{className:"mb-6",children:["Confirma a excluso de ",v.jsx("b",{children:m}),"?"]}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 border rounded",children:"Cancelar"}),v.jsx("button",{onClick:le,className:"px-4 py-2 bg-red-600 text-white rounded",children:"Excluir"})]})]})})]})},Wse=({currentEnterprise:e,migrationSql:t})=>{const[n,r]=E.useState({pendingTasks:0,waterReadings:0,equipmentCount:0,connected:!1}),[i,a]=E.useState([]),[l,u]=E.useState([]),[d,f]=E.useState(50),[h,m]=E.useState(!1),[b,_]=E.useState(""),[S,T]=E.useState(""),[A,R]=E.useState(""),[P,N]=E.useState(""),I=e.role===Pn.ADMIN;E.useEffect(()=>{e&&I&&(be.getDashboardStats(e.enterpriseId).then(r),be.getEnterpriseUsers(e.enterpriseId).then(a),be.getEnterpriseSettings(e.enterpriseId).then(U=>{U.waterLimit&&f(U.waterLimit)}),M())},[e,I]);const M=async()=>{const U={user:b,action:S,startDate:A,endDate:P},le=await be.getAuditLogs(e.enterpriseId,U);u(le)},D=async()=>{m(!0),await be.updateEnterpriseSettings(e.enterpriseId,e.userEmail||"admin",{waterLimit:Number(d)}),m(!1),alert("Configuraes salvas com sucesso!")},k=()=>{const U=new Blob([t],{type:"text/sql"}),le=URL.createObjectURL(U),W=document.createElement("a");W.href=le,W.download="sindgestor_v10_migration.sql",document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(le)},G=()=>{_(""),T(""),R(""),N(""),I&&be.getAuditLogs(e.enterpriseId).then(u)};return I?v.jsxs("div",{className:"space-y-6 animate-fade-in",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg md:text-2xl font-bold text-slate-800 pl-14 md:pl-0",children:"Viso Geral"}),v.jsxs("p",{className:"text-slate-500 text-sm",children:["Condomnio: ",v.jsx("span",{className:"font-semibold text-blue-600",children:e.enterpriseName})]})]}),v.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-bold flex items-center gap-2 ${n.connected?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[v.jsx("div",{className:`w-2 h-2 rounded-full ${n.connected?"bg-green-600":"bg-red-600"}`}),n.connected?"Sistema Online":"Desconectado"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex items-center gap-4",children:[v.jsx("div",{className:"p-3 bg-purple-50 rounded-lg text-purple-600",children:v.jsx(Z4,{size:24})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:"Tarefas Pendentes"}),v.jsx("p",{className:"text-2xl font-bold text-slate-800",children:n.pendingTasks})]})]}),v.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex items-center gap-4",children:[v.jsx("div",{className:"p-3 bg-emerald-50 rounded-lg text-emerald-600",children:v.jsx(mO,{size:24})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:"Leituras (Total)"}),v.jsx("p",{className:"text-2xl font-bold text-slate-800",children:n.waterReadings})]})]}),v.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex items-center gap-4",children:[v.jsx("div",{className:"p-3 bg-amber-50 rounded-lg text-amber-600",children:v.jsx(Iu,{size:24})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:"Equipamentos"}),v.jsx("p",{className:"text-2xl font-bold text-slate-800",children:n.equipmentCount})]})]}),v.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex items-center gap-4",children:[v.jsx("div",{className:"p-3 bg-blue-50 rounded-lg text-blue-600",children:v.jsx(Sf,{size:24})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:"Usurios Ativos"}),v.jsx("p",{className:"text-2xl font-bold text-slate-800",children:i.length})]})]})]}),v.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col max-h-[400px]",children:[v.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[v.jsx(Sf,{size:18,className:"text-blue-600"})," Membros do Condomnio"]}),v.jsx("div",{className:"overflow-y-auto flex-1 space-y-3",children:i.map((U,le)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-bold text-slate-700",children:U.userName}),v.jsx("p",{className:"text-xs text-slate-500",children:U.userEmail})]}),v.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-bold uppercase ${U.role===Pn.ADMIN?"bg-purple-100 text-purple-700":"bg-slate-200 text-slate-600"}`,children:U.role===Pn.ADMIN?"Admin":"Staff"})]},le))})]}),v.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[v.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[v.jsx(Ou,{size:18,className:"text-slate-600"})," Configuraes de Alertas"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Limite de Consumo de gua (m)"}),v.jsx("input",{type:"number",value:d,onChange:U=>f(Number(U.target.value)),className:"w-full p-2 border rounded-lg bg-slate-50"}),v.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Acima deste valor, os usurios configurados recebero e-mail."})]}),v.jsxs("button",{onClick:D,disabled:h,className:"w-full bg-slate-700 text-white text-sm py-2 rounded-lg hover:bg-slate-800 transition flex items-center justify-center gap-2",children:[v.jsx($4,{size:16})," ",h?"Salvando...":"Salvar Configuraes"]})]})]})]}),v.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col max-h-[600px]",children:[v.jsxs("div",{className:"flex flex-col gap-4 mb-4",children:[v.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[v.jsx(wf,{size:18,className:"text-blue-600"})," Auditoria e Logs do Sistema"]}),v.jsxs("div",{className:"flex flex-wrap gap-2 bg-slate-50 p-3 rounded-lg border border-slate-100",children:[v.jsx("input",{type:"text",placeholder:"Filtrar Usurio (email)...",className:"text-xs p-2 rounded border border-slate-200",value:b,onChange:U=>_(U.target.value)}),v.jsxs("select",{className:"text-xs p-2 rounded border border-slate-200",value:S,onChange:U=>T(U.target.value),children:[v.jsx("option",{value:"",children:"Todas Aes"}),v.jsx("option",{value:"LOGIN",children:"Login"}),v.jsx("option",{value:"CRIAR_TAREFA",children:"Criar Tarefa"}),v.jsx("option",{value:"ATUALIZAR_TAREFA",children:"Atualizar Tarefa"}),v.jsx("option",{value:"REGISTRAR_LEITURA",children:"Registrar Leitura"})]}),v.jsx("input",{type:"date",className:"text-xs p-2 rounded border border-slate-200",value:A,onChange:U=>R(U.target.value)}),v.jsx("input",{type:"date",className:"text-xs p-2 rounded border border-slate-200",value:P,onChange:U=>N(U.target.value)}),v.jsx("button",{onClick:M,className:"bg-blue-600 text-white text-xs px-3 py-2 rounded hover:bg-blue-700",children:"Filtrar"}),v.jsx("button",{onClick:G,className:"bg-white text-slate-600 border border-slate-200 text-xs px-3 py-2 rounded hover:bg-slate-50",children:"Limpar"})]})]}),v.jsx("div",{className:"overflow-y-auto flex-1",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase font-medium sticky top-0",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-2",children:"Data/Hora"}),v.jsx("th",{className:"px-4 py-2",children:"Usurio"}),v.jsx("th",{className:"px-4 py-2",children:"Ao"}),v.jsx("th",{className:"px-4 py-2",children:"Detalhes"})]})}),v.jsxs("tbody",{className:"divide-y divide-slate-100",children:[l.map(U=>v.jsxs("tr",{className:"hover:bg-slate-50",children:[v.jsx("td",{className:"px-4 py-2 text-slate-500 text-xs whitespace-nowrap",children:new Date(U.createdAt).toLocaleString()}),v.jsx("td",{className:"px-4 py-2 font-medium text-slate-700",children:U.userEmail.split("@")[0]}),v.jsx("td",{className:"px-4 py-2",children:v.jsx("span",{className:"text-xs font-bold bg-blue-50 text-blue-700 px-2 py-1 rounded whitespace-nowrap",children:U.action})}),v.jsx("td",{className:"px-4 py-2 text-slate-600 text-xs break-words",title:U.details,children:U.details})]},U.id)),l.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-400",children:"Nenhuma atividade encontrada com os filtros atuais."})})]})]})})]})]}),v.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 text-white mt-4",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"p-2 bg-slate-700 rounded-lg",children:v.jsx(Ou,{size:20,className:"text-cyan-400"})}),v.jsx("h3",{className:"text-lg font-bold",children:"Atualizao do Banco de Dados"})]}),v.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Para habilitar a auditoria, permisses granulares e notificaes, execute o script de migrao atualizado no Supabase."}),v.jsxs("button",{onClick:k,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition",children:[v.jsx(Ly,{size:20}),v.jsx(o4,{size:20}),"Baixar Script de Migrao (V10)"]})]})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center space-y-6 animate-fade-in",children:[v.jsx("div",{className:"bg-blue-50 p-6 rounded-full",children:v.jsx(bO,{size:64,className:"text-blue-600"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Bem-vindo ao SindGestor"}),v.jsxs("p",{className:"text-slate-500 mt-2 text-lg",children:["Voc est conectado ao ",v.jsx("b",{children:e.enterpriseName}),"."]})]}),v.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm max-w-md",children:[v.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:"Acesso Restrito"}),v.jsx("p",{className:"text-sm text-slate-500",children:"O painel de estatsticas e auditoria  exclusivo para administradores. Utilize o menu lateral para acessar suas tarefas e mdulos permitidos."})]})]})},Jse=`
-- V17 MIGRATION: DOCUMENT CATEGORIES

create extension if not exists "uuid-ossp";
create extension if not exists "pgcrypto";

-- 1. ENSURE TABLES EXIST (Idempotent)
create table if not exists enterprises (id uuid default uuid_generate_v4() primary key, name text not null, address text, created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists app_users (email text primary key, password_hash text not null, name text, created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists audit_logs (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, user_email text not null, action text not null, details text, created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists memberships (id uuid default uuid_generate_v4() primary key, user_email text references app_users(email) on delete cascade, user_name text not null, enterprise_id uuid references enterprises(id) on delete cascade, role text not null, permissions jsonb default '{}'::jsonb, created_at timestamp with time zone default timezone('utc'::text, now()), unique(user_email, enterprise_id));
create table if not exists units (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, name text not null, created_at timestamp with time zone default timezone('utc'::text, now()), unique(enterprise_id, name));
create table if not exists water_readings (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, unit text not null, date timestamp with time zone not null, reading numeric not null, previous_reading numeric not null default 0, created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists tasks (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, title text not null, description text, assigned_to text not null, status text not null check (status in ('PENDING', 'IN_PROGRESS', 'COMPLETED')), due_date timestamp with time zone, created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists equipment (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, name text not null, category text not null, location text not null, description text, install_date timestamp with time zone, last_maintenance timestamp with time zone, next_maintenance timestamp with time zone, qr_code_url text, status text not null check (status in ('OPERATIONAL', 'NEEDS_REPAIR', 'OUT_OF_ORDER')), created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists maintenance_logs (id uuid default uuid_generate_v4() primary key, equipment_id uuid references equipment(id) on delete cascade, date timestamp with time zone not null, technician text not null, description text, type text not null check (type in ('PREVENTIVE', 'CORRECTIVE')), created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists suppliers (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, name text not null, service_type text not null, contact text, rating numeric default 0, created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists documents (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, title text not null, category text not null, url text not null, date timestamp with time zone default timezone('utc'::text, now()), created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists custom_assignees (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, name text not null, created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists equipment_categories (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, name text not null, created_at timestamp with time zone default timezone('utc'::text, now()), unique(enterprise_id, name));
create table if not exists equipment_locations (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, name text not null, created_at timestamp with time zone default timezone('utc'::text, now()), unique(enterprise_id, name));
create table if not exists task_comments (id uuid default uuid_generate_v4() primary key, task_id uuid references tasks(id) on delete cascade, user_email text not null, user_name text not null, content text not null, content_type text not null check (content_type in ('TEXT', 'AUDIO')), created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists task_attachments (id uuid default uuid_generate_v4() primary key, task_id uuid references tasks(id) on delete cascade, type text not null default 'IMAGE', url text not null, created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists equipment_images (id uuid default uuid_generate_v4() primary key, equipment_id uuid references equipment(id) on delete cascade, url text not null, created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists structural_issues (id uuid default uuid_generate_v4() primary key, enterprise_id uuid references enterprises(id) on delete cascade, title text not null, description text, location text not null, priority text not null check (priority in ('LOW', 'MEDIUM', 'HIGH', 'CRITICAL')), status text not null check (status in ('REPORTED', 'IN_PROGRESS', 'RESOLVED')), reported_by text not null, resolved_at timestamp with time zone, created_at timestamp with time zone default timezone('utc'::text, now()));
create table if not exists structural_photos (id uuid default uuid_generate_v4() primary key, issue_id uuid references structural_issues(id) on delete cascade, url text not null, created_at timestamp with time zone default timezone('utc'::text, now()));

-- V17: Document Categories
create table if not exists document_categories (
  id uuid default uuid_generate_v4() primary key,
  enterprise_id uuid references enterprises(id) on delete cascade,
  name text not null,
  created_at timestamp with time zone default timezone('utc'::text, now()),
  unique(enterprise_id, name)
);

-- 2. APPLY UPDATES
do $$ 
begin 
  -- Ensure columns exist
  if not exists (select 1 from information_schema.columns where table_name='memberships' and column_name='notifications') then
    alter table memberships add column notifications jsonb default '{}'::jsonb;
  end if;
  if not exists (select 1 from information_schema.columns where table_name='enterprises' and column_name='settings') then
    alter table enterprises add column settings jsonb default '{}'::jsonb;
  end if;
  if not exists (select 1 from information_schema.columns where table_name='tasks' and column_name='audio_description') then
    alter table tasks add column audio_description text;
  end if;
  if not exists (select 1 from information_schema.columns where table_name='tasks' and column_name='notify_assignee') then
    alter table tasks add column notify_assignee boolean default true;
  end if;
  if not exists (select 1 from information_schema.columns where table_name='equipment' and column_name='acquisition_date') then
    alter table equipment add column acquisition_date timestamp with time zone;
  end if;
  if not exists (select 1 from information_schema.columns where table_name='maintenance_logs' and column_name='signature_url') then
    alter table maintenance_logs add column signature_url text;
  end if;
  if not exists (select 1 from information_schema.columns where table_name='documents' and column_name='file_type') then
    alter table documents add column file_type text;
  end if;
  if not exists (select 1 from information_schema.columns where table_name='structural_issues' and column_name='notify_admin') then
    alter table structural_issues add column notify_admin boolean default true;
  end if;
end $$;

-- 3. RLS POLICIES (Safe Refresh)
do $$
begin
  alter table enterprises enable row level security; drop policy if exists "Allow all" on enterprises; create policy "Allow all" on enterprises for all using (true) with check (true);
  alter table app_users enable row level security; drop policy if exists "Allow all" on app_users; create policy "Allow all" on app_users for all using (true) with check (true);
  alter table audit_logs enable row level security; drop policy if exists "Allow all" on audit_logs; create policy "Allow all" on audit_logs for all using (true) with check (true);
  alter table memberships enable row level security; drop policy if exists "Allow all" on memberships; create policy "Allow all" on memberships for all using (true) with check (true);
  alter table units enable row level security; drop policy if exists "Allow all" on units; create policy "Allow all" on units for all using (true) with check (true);
  alter table water_readings enable row level security; drop policy if exists "Allow all" on water_readings; create policy "Allow all" on water_readings for all using (true) with check (true);
  alter table tasks enable row level security; drop policy if exists "Allow all" on tasks; create policy "Allow all" on tasks for all using (true) with check (true);
  alter table task_comments enable row level security; drop policy if exists "Allow all" on task_comments; create policy "Allow all" on task_comments for all using (true) with check (true);
  alter table task_attachments enable row level security; drop policy if exists "Allow all" on task_attachments; create policy "Allow all" on task_attachments for all using (true) with check (true);
  alter table equipment enable row level security; drop policy if exists "Allow all" on equipment; create policy "Allow all" on equipment for all using (true) with check (true);
  alter table equipment_images enable row level security; drop policy if exists "Allow all" on equipment_images; create policy "Allow all" on equipment_images for all using (true) with check (true);
  alter table maintenance_logs enable row level security; drop policy if exists "Allow all" on maintenance_logs; create policy "Allow all" on maintenance_logs for all using (true) with check (true);
  alter table suppliers enable row level security; drop policy if exists "Allow all" on suppliers; create policy "Allow all" on suppliers for all using (true) with check (true);
  alter table documents enable row level security; drop policy if exists "Allow all" on documents; create policy "Allow all" on documents for all using (true) with check (true);
  alter table custom_assignees enable row level security; drop policy if exists "Allow all" on custom_assignees; create policy "Allow all" on custom_assignees for all using (true) with check (true);
  alter table equipment_categories enable row level security; drop policy if exists "Allow all" on equipment_categories; create policy "Allow all" on equipment_categories for all using (true) with check (true);
  alter table equipment_locations enable row level security; drop policy if exists "Allow all" on equipment_locations; create policy "Allow all" on equipment_locations for all using (true) with check (true);
  alter table structural_issues enable row level security; drop policy if exists "Allow all" on structural_issues; create policy "Allow all" on structural_issues for all using (true) with check (true);
  alter table structural_photos enable row level security; drop policy if exists "Allow all" on structural_photos; create policy "Allow all" on structural_photos for all using (true) with check (true);
  alter table document_categories enable row level security; drop policy if exists "Allow all" on document_categories; create policy "Allow all" on document_categories for all using (true) with check (true);
end $$;

-- 4. SEED DATA (And Defaults for V17)
do $$
declare 
  r record;
  defaults text[] := ARRAY['Geral', 'Financeiro', 'Atas', 'Regimentos', 'Manuais', 'Plantas'];
  cat text;
begin
  -- Seed for new installations
  if not exists (select 1 from enterprises) then
    -- (Standard Seed Code Omitted for brevity in this snippet as it is same as previous, but logic below handles existing)
  end if;

  -- Backfill Document Categories for EXISTING Enterprises
  for r in select id from enterprises loop
    foreach cat in array defaults loop
      insert into document_categories (enterprise_id, name) 
      values (r.id, cat)
      on conflict (enterprise_id, name) do nothing;
    end loop;
  end loop;
end $$;
`,mo=({children:e,module:t,membership:n,requiredLevel:r=Se.READ_ONLY})=>t?(n.permissions[t]||Se.NONE)===Se.NONE?v.jsx(rO,{to:"/",replace:!0}):v.jsx(v.Fragment,{children:e}):v.jsx(v.Fragment,{children:e}),Xse=()=>{const[e,t]=E.useState(null),[n,r]=E.useState(null),[i,a]=E.useState(!1),l=e==null?void 0:e.memberships.find(u=>u.enterpriseId===n);return E.useEffect(()=>{e&&e.memberships.length>0&&(!n||!e.memberships.find(u=>u.enterpriseId===n))&&r(e.memberships[0].enterpriseId)},[e,n]),!e||!l||!n?v.jsx(V6,{onLogin:t}):v.jsx(_z,{children:v.jsxs("div",{className:"flex bg-slate-100 min-h-screen font-sans",children:[v.jsx(G6,{user:e,currentEnterpriseId:n,onSwitchEnterprise:r,onLogout:()=>{t(null),r(null)},isMobileOpen:i,onMobileToggle:()=>a(!i)}),v.jsxs("main",{className:"flex-1 md:ml-64 p-4 md:p-8 overflow-y-auto",children:[v.jsx("button",{onClick:()=>a(!0),className:"md:hidden fixed top-4 left-4 z-30 bg-slate-900 text-white p-3 rounded-lg shadow-lg hover:bg-slate-800 transition-colors","aria-label":"Abrir menu",children:v.jsx(P4,{size:24})}),v.jsxs(Qq,{children:[v.jsx(Zr,{path:"/",element:v.jsx(Wse,{currentEnterprise:l,migrationSql:Jse})}),v.jsx(Zr,{path:"/admin",element:v.jsx(mo,{module:Ue.ADMIN_PANEL,membership:l,children:v.jsx(Yse,{currentEnterprise:l})})}),v.jsx(Zr,{path:"/water",element:v.jsx(mo,{module:Ue.WATER,membership:l,children:v.jsx($se,{user:e,currentEnterpriseId:n})})}),v.jsx(Zr,{path:"/tasks",element:v.jsx(mo,{module:Ue.TASKS,membership:l,children:v.jsx(Bse,{userEmail:e.email,userName:e.name,userRole:l.role,currentEnterpriseId:n,permissions:l.permissions,memberships:e.memberships})})}),v.jsx(Zr,{path:"/equipment",element:v.jsx(mo,{module:Ue.EQUIPMENT,membership:l,children:v.jsx(Hse,{currentEnterpriseId:n,userEmail:e.email,readOnly:l.permissions[Ue.EQUIPMENT]===Se.READ_ONLY,permissionLevel:l.permissions[Ue.EQUIPMENT]||Se.NONE})})}),v.jsx(Zr,{path:"/structural",element:v.jsx(mo,{module:Ue.STRUCTURAL,membership:l,children:v.jsx(Fse,{currentEnterpriseId:n,userEmail:e.email,permissionLevel:l.permissions[Ue.STRUCTURAL]||Se.NONE})})}),v.jsx(Zr,{path:"/suppliers",element:v.jsx(mo,{module:Ue.SUPPLIERS,membership:l,children:v.jsx(Vse,{currentEnterpriseId:n,readOnly:l.permissions[Ue.SUPPLIERS]===Se.READ_ONLY})})}),v.jsx(Zr,{path:"/documents",element:v.jsx(mo,{module:Ue.DOCUMENTS,membership:l,children:v.jsx(Gse,{currentEnterpriseId:n,permissionLevel:l.permissions[Ue.DOCUMENTS]||Se.NONE,userEmail:e.email})})}),v.jsx(Zr,{path:"*",element:v.jsx(rO,{to:"/",replace:!0})})]})]})]})})},jj=document.getElementById("root");if(!jj)throw new Error("Failed to find the root element");const Qse=sq.createRoot(jj);Qse.render(v.jsx(VP.StrictMode,{children:v.jsx(Xse,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{console.log("[PWA] Service Worker registered successfully:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&console.log("[PWA] New content is available; please refresh.")})})}).catch(e=>{console.log("[PWA] Service Worker registration failed:",e)})});
